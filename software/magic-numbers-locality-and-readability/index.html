<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Magic numbers, locality and readability &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079673 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079673" class="post-1079673 software type-software status-publish hentry category-software tag-coding-style tag-programming-practices"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Magic numbers, locality and readability</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">coding-style</span><span class="mr-2 badge badge-info">programming practices</span></p><div class="entry-content"><p>Lately I&#39;ve found myself inserting magic numbers into code to make it <em>more</em> readable. I&#39;ve done this in situations where the magic number is only used once and its purpose is obvious from the context. An example from a recent project:</p><pre><code>/* Extract id from &#34;/toClient/chat/id&#34;. */
String channelId = channelIdWithPath.split(&#34;/&#34;)[3];
</code></pre><p>Apparently, the &#34;best practice&#34; is to declare the magic number as a constant near the beginning of the class, like this:</p><pre><code>private final int NUMBER_OF_DELIMITERS_BEFORE_ID_IN_CHAT_CHANNEL_PATH = 3;

... 100 lines of unrelated code ...

/* Extract id from &#34;/toClient/chat/id&#34;. */
String channelId = channelIdWithPath.split(&#34;/&#34;)[NUMBER_OF_DELIMITERS_BEFORE_ID_IN_CHAT_CHANNEL_PATH];
</code></pre><p>I can&#39;t see any advantage in separating the variable declaration from the location where it&#39;s used. We&#39;ve practically doubled the time it takes to understand this code and anyone reading it has to jump over 100 lines to confirm the variable has the correct value.</p><p>We could declare it as a local variable right before it&#39;s needed, but that&#39;s still a &#34;magic number&#34; at least according to CheckStyle. This is something I do often when I feel like the number needs a description (in this case a description like &#34;number of delimiters&#8230;&#34; is harder to understand than just the raw number at use).</p><p>Another option is to <a href="https://softwareengineering.stackexchange.com/a/56381/210792">separate manipulation logic into a function</a>:</p><pre><code>String channelId = getIdFrom(channelIdWithPath);
</code></pre><p>This abstraction hides the details of the String manipulation and removes the need for a comment. Unfortunately we still have to write the function somewhere and the original problems are replicated there (including the need to document an example path with a comment).</p><p>If we want to declare the variable as a constant AND keep it close to the function, we need to create some kind of StringManipulator class for it. Now we&#39;ve added a class to do something that takes 1 line of code. I feel like this type of approach leads to sprawling programs where</p><ul><li>the individual components of a program become easier to understand</li><li>the structural complexity and execution flow become harder to understand.</li></ul><p>For example, if I wanted to read how channelId is retrieved, I would first have to jump into another method in another class, and then I would have to jump to where the variable is declared. All of this could be on a single line of code.</p><p>Edit: <a href="https://softwareengineering.stackexchange.com/a/266723/210792">this</a> answer on a similar question applies pretty well for my particular question.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><strong>In layman&#39;s terms:</strong></p><ul><li>If you will be extracting the channelID in several places, then you should create a function.</li><li>Such a function, being cohesive, should read from the state.</li><li>Part of that state would be the constant with a name like <code>DELIMITERS_BEFORE_ID</code>.</li></ul><p>I find that this:</p><pre><code>String channelId = channelIDdWithPath.split(&#34;/&#34;)[DELIMS_BEFORE_ID];
</code></pre><p>...is more readeble that this</p><pre><code>String channelId = channelIDWithPath.split(&#34;/&#34;)[3];
</code></pre><p>..this is even better:</p><pre><code>String channelId = channelIDWithPath.split(PATH_DELIM)[DELIMS_BEFORE_ID];
</code></pre><p>..but this is best:</p><pre><code>String channelId = extractChannelID(channelIDWithPath);
</code></pre><ul><li>You don&#39;t have to verify if the value asigned to the constants or class variables are correct everytime you read the code. The idea is that if things pass the test, you can <em>&#34;abstract yourself&#34;</em> from the inner workings of them. Your brain can only handle so much complexity, so you will, in time, have to stop cheking if the value of <code>DELIMS_BEFORE_ID</code> is OK and begin to use the lego pieces without cheking whether or not the lego blocks contain the proper amount of acrylonitrile butadiene styrene.</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-should-a-string-constant-be-defined-if-its-only-going-to-be-used-once/'>Java &#8211; Should a string constant be defined if it&#8217;s only going to be used once</a></li><li class="list-group-item"><a href='../c-is-it-good-practice-declare-a-function-inline/'>C# &#8211; Is it good practice declare a function inline</a></li><li class="list-group-item"><a href='../javascript-typescript-es2015-prefer-const-instead-of-let-reduces-readability/'>Javascript &#8211; TypeScript/ES2015: Prefer `const` instead of `let` reduces readability</a></li><li class="list-group-item"><a href='../javascript-where-to-declare-a-variable-and-define-a-function-in-javascript/'>Javascript &#8211; Where to declare a variable and define a function in Javascript</a></li><li class="list-group-item"><a href='../c-ny-reason-not-to-forward-declare-all-forward-declarable-function-parameter-return-types/'>C++ &#8211; ny reason *not* to forward declare all forward declarable function parameter/return types</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>