<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; What are the practical ways to implement the SRP &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073952 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073952" class="post-1073952 software type-software status-publish hentry category-software tag-design tag-design-patterns tag-object-oriented tag-refactoring tag-single-responsibility"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; What are the practical ways to implement the SRP</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">object-oriented</span><span class="mr-2 badge badge-primary">refactoring</span><span class="mr-2 badge badge-danger">single-responsibility</span></p><div class="entry-content"><p>Simply what are the practical techniques people use to check if a class violates the single responsibility principle?</p><p>I know that a class should have only one reason to change, but that sentence is somewhat lacking a practical way to really implement that.</p><p>The only way I found is to use the sentence <strong><em>&#34;The &#8230;&#8230;&#8230; should &#8230;&#8230;&#8230; itself.&#34;</em></strong> where the first space is the class name and the later is the method (responsibility) name.</p><p>However, sometimes it&#39;s hard to figure out if a responsibility really violates the SRP.</p><p>Are there more ways to check for the SRP?</p><p><strong>Note:</strong></p><p>The question is not about what the SRP means, but rather a practical methodology or a series of steps to check and implement the SRP.</p><p><strong>UPDATE</strong></p><p><img src="../../../i.stack.imgur.com/D8u6h.png" alt="Report class"/></p><p>I have added a sample class that clearly violates the SRP. It would be great if people could use it as an example to explain how they approach the single responsibility principle.</p><p>The example is from <a href="http://dimecasts.net/Casts/ByTag/SOLID Principle">here</a>.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The SRP states, in no uncertain terms, that a class should only ever have one reason to change.</p><p>Deconstructing the &#34;report&#34; class in the question, it has three methods:</p><ul><li><code>printReport</code></li><li><code>getReportData</code></li><li><code>formatReport</code></li></ul><p>Ignoring the redundant <code>Report</code> being used in every method, it is easy to see why this violates the SRP:</p><ul><li><p>The term &#34;print&#34; implies some kind of UI, or an actual printer. This class therefore contains some amount of UI or presentation logic. A change to the UI requirements will necessitate a change to the <code>Report</code> class.</p></li><li><p>The term &#34;data&#34; implies a data structure of some kind, but doesn&#39;t really specify what (XML? JSON? CSV?). Regardless, if the &#34;contents&#34; of the report ever change, then so will this method. There is coupling to either a database or a domain.</p></li><li><p><code>formatReport</code> is just a terrible name for a method in general, but I&#39;d assume by looking at it that it once again has something to do with the UI, and probably a different aspect of the UI than <code>printReport</code>. So, another, unrelated reason to change.</p></li></ul><p>So this one class is possibly coupled with a database, a screen/printer device, <em>and</em> some internal formatting logic for logs or file output or whatnot. By having all three functions in one class, you&#39;re multiplying the number of dependencies and tripling the probability that any dependency or requirement change will break this class (or something else that depends on it).</p><p>Part of the problem here is that you&#39;ve picked a particularly thorny example. You should probably not have a class called <code>Report</code>, even if it only does <em>one thing</em>, because... <em>what</em> report? Aren&#39;t all &#34;reports&#34; completely different beasts, based on different data and different requirements? And isn&#39;t a <em>report</em> something that&#39;s <em>already</em> been formatted, either for screen or for print?</p><p>But, looking past that, and making up a hypothetical concrete name - let&#39;s call it <code>IncomeStatement</code> (one very common report) - a proper &#34;SRPed&#34; architecture would have three types:</p><ul><li><p><code>IncomeStatement</code> - the <em>domain</em> and/or <em>model</em> class that contains and/or computes the <em>information</em> that appears on formatted reports.</p></li><li><p><code>IncomeStatementPrinter</code>, which would probably implement some standard interface like <code>IPrintable&lt;T&gt;</code>. Has one key method, <code>Print(IncomeStatement)</code>, and maybe some other methods or properties for configuring print-specific settings.</p></li><li><p><code>IncomeStatementRenderer</code>, which handles screen rendering and is very similar to the printer class.</p></li><li><p>You could also eventually add more feature-specific classes like <code>IncomeStatementExporter</code> / <code>IExportable&lt;TReport, TFormat&gt;</code>.</p></li></ul><p>This is made significantly easier in modern languages with the introduction of generics and IoC containers. Most of your application code does not need to rely on the specific <code>IncomeStatementPrinter</code> class, it can use <code>IPrintable&lt;T&gt;</code> and thus operate on <em>any</em> kind of printable report, which gives you all of the perceived benefits of a <code>Report</code> base class with a <code>print</code> method and none of the usual SRP violations. The actual implementation need only be declared once, in the IoC container registration.</p><p>Some people, when confronted with the above design, respond with something like: <em>&#34;but this looks like procedural code, and the whole point of OOP was to get us -away- from the separation of data and behavior!&#34;</em> To which I say: <em>wrong</em>.</p><p>The <code>IncomeStatement</code> is <em>not</em> just &#34;data&#34;, and the aforementioned mistake is what causes a lot of OOP folks to feel they are doing something wrong by creating such a &#34;transparent&#34; class and subsequently start jamming all kinds of unrelated functionality into the <code>IncomeStatement</code> (well, that and general laziness). This class may <em>start out</em> as just data but, over time, guaranteed, it will end up as more of a <em>model</em>.</p><p>For example, a real income statement has <em>total revenues</em>, <em>total expenses</em>, and <em>net income</em> lines. A properly-designed financial system will most likely <em>not</em> store these because they are not transactional data - in fact, they change based on the addition of new transactional data. However, the <em>calculation</em> of these lines is always going to be exactly the same, no matter whether you are printing, rendering, or exporting the report. So your <code>IncomeStatement</code> class is going to have a fair amount of behaviour to it in the form of <code>getTotalRevenues()</code>, <code>getTotalExpenses()</code>, and <code>getNetIncome()</code> methods, and probably several others. It is a genuine OOP-style object with its own behaviour, even if it doesn&#39;t really seem to &#34;do&#34; much.</p><p>But the <code>format</code> and <code>print</code> methods, they have nothing to do with the information itself. In fact, it&#39;s not too unlikely that you&#39;ll want to have <em>several implementations</em> of these methods, e.g. a detailed statement for management and a not-so-detailed statement for the shareholders. Separating these independent functions out into different classes gives you the ability to choose different implementations at runtime without the burden of a one-size-fits all <code>print(bool includeDetails, bool includeSubtotals, bool includeTotals, int columnWidth, CompanyLetterhead letterhead, ...)</code> method. Yuck!</p><p>Hopefully you can see where the above, massively-parameterized method goes wrong, and where the separate implementations go right; in the single-object case, every time you add a new wrinkle to the printing logic, you have to change your domain model (<em>Tim in finance wants page numbers, but only on the internal report, can you add that?</em>) as opposed to just adding a configuration property to one or two satellite classes instead.</p><p>Implementing the SRP properly is about managing <em>dependencies</em>. In a nutshell, if a class already does something useful, and you are considering adding another method that would introduce a new dependency (such as a UI, a printer, a network, a file, whatever), <em>don&#39;t</em>. Think about how you could add this functionality in a <em>new</em> class instead, and how you could make this new class fit into your overall architecture (it&#39;s pretty easy when you design around dependency injection). That is the general principle/process.</p><hr/><p><em>Side note: Like Robert, I patently reject the notion that an SRP-compliant class should have only one or two state variables. Such a thin wrapper could rarely be expected to do anything truly useful. So don&#39;t go overboard with this.</em></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../is-the-single-responsibility-principle-applicable-to-functions/'>Is the Single Responsibility Principle applicable to functions</a></li><li class="list-group-item"><a href='../c-how-to-avoid-violating-the-srp-in-a-class-to-manage-caching/'>C# &#8211; How to avoid violating the SRP in a class to manage caching</a></li><li class="list-group-item"><a href='../c-does-this-class-design-violate-the-single-responsibility-principle/'>C# &#8211; Does this class design violate the single responsibility principle</a></li><li class="list-group-item"><a href='../object-oriented-violation-solution-for-single-responsibility-principle/'>Object-oriented &#8211; Violation &#038; Solution for Single Responsibility Principle</a></li><li class="list-group-item"><a href='../design-single-responsibility-principle-violation/'>Design &#8211; Single Responsibility Principle Violation</a></li><li class="list-group-item"><a href='../c-entity-framework-extending-or-injecting-services-into-db-context/'>C# &#8211; Entity Framework &#8211; extending OR injecting services into DB Context</a></li><li class="list-group-item"><a href='../does-logging-inside-a-class-violate-the-srp/'>Does logging inside a class violate the SRP</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>