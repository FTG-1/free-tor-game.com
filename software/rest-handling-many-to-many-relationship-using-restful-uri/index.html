<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Handling Many to Many Relationship using Restful Uri &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072647 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072647" class="post-1072647 software type-software status-publish hentry category-software tag-database-design tag-rest tag-web-services"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Handling Many to Many Relationship using Restful Uri</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">database-design</span><span class="mr-2 badge badge-info">rest</span><span class="mr-2 badge badge-warning">web services</span></p><div class="entry-content"><p>I am having confusion while choosing a database relation and Restful URI for application I am developing.</p><p>I am making a simple library application with following requirements.</p><ol><li>Book can belong to many categories e.g Physics book belong to Textbook and Science Category. We can say book have many categories/labels/tags.</li><li>Viewing books in one category.</li><li>Viewing a book&#39;s all categories.</li><li>Searching book using categories or book information.</li><li>Book CRUD operations</li><li>Label CRUD operations</li></ol><p>Considering all these requirements I choose <strong>ManyToMany</strong> relation between Books and Labels. I have implemented it using Hibernate Framework.<br /> Now when it came to designing Restful Services for this its getting very confusing.It makes me question table relationship choice as well.</p><p>Restful uri made yet.</p><p>/books</p><p>/books/{bookid}</p><p>/labels</p><p>/labels/{labelid}</p><p>But when I want to get a list of labels against a book, or a list of books against a label. How to map them using Restful URI. I can think of this</p><p>/book/{bookid}/labels</p><p>But considering this,how to map getting a list of books against one label</p><p>I want to know whether my choice of table relationship is right and if yes, how to design restful uri against it. And if no, please correct me and put a light on this scenario. Thanks</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Regarding the table, if a book can have many labels and a label many books (sounds quite reasonable) then that&#39;s a many to many relationship.</p><p>In case of REST the many to many relation is in fact a bit confusing since we talk about resources and with the URI being a <strong>unique</strong> identifier it seems weird to be able to access one and the same resource from two directions.</p><p>Maybe the best way is to see a resource not only as a simple thing (book, label) but also as a specific set of things (books, labels of a book). You often have nested resources anyway and the many to many is just one variant where two different ways to view these sets make sense (assuming that your users will want to access in both variants which seems likely for your use case).</p><p>So in fact you would have two ways to access this:</p><pre><code>/book/{book_id}/labels
</code></pre><p>and</p><pre><code>/label/{label_id}/books
</code></pre><p>You will most likely have similar approaches for other resources like authors (author can have written many books and often enough many authors work together on a single book) or even publishers. Categories too I would assume to be many to many.</p><p>When sombody selects a single label from above URIs (/book/{book_id}/labels) you can of course then fall back to your normal label URI (/label/label_id) instead of constructing extra long paths like (/book/{book_id}/label/{label_id}).</p><p>So keep your routes as shallow as possible, avoid to nest them too deep. But nothing prohibits to have different views on lists of similar things.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../restful-reference-representations-semantic-link-vs-uri/'>RESTful reference representations &#8211; semantic link vs uri</a></li><li class="list-group-item"><a href='../rest-is-it-ok-to-use-email-as-an-identifier-in-a-restful-uri/'>Rest &#8211; Is it OK to use email as an identifier in a RESTful URI</a></li><li class="list-group-item"><a href='../patterns-for-undo-in-multi-user-applications-on-relational-data/'>Patterns for undo in multi-user applications on relational data</a></li><li class="list-group-item"><a href='../rest-handling-token-renewal-session-expiration-in-a-restful-api/'>Rest &#8211; Handling token renewal / session expiration in a RESTful API</a></li><li class="list-group-item"><a href='../web-development-restful-uri-map-to-database-tables/'>Web-development &#8211; RESTful URI map to database tables</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>