<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Algorithm for dividing a range into ranges and then finding which range a number belongs to &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063853 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063853" class="post-1063853 software type-software status-publish hentry category-software tag-algorithms"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Algorithm for dividing a range into ranges and then finding which range a number belongs to</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithms</span></p><div class="entry-content"><p>Having</p><ul><li>a minimum</li><li>a maximum</li><li>number of ranges</li><li>a value between minimum and maximum</li></ul><p>I&#39;m trying to come up with a method, or two, which would calculate which range the provided value belongs to.</p><p>For min=1, max = 10, number of ranges=5 the ranges would be<br /> [1,2],[3,4],[5,6],[7,8],[9-10]</p><p>The other method would behave like shown below:</p><ul><li>method(1)-&gt;[1-2]</li><li>method(2)-&gt;[1-2]</li><li>method(3)-&gt;[3-4]</li><li>method(4)-&gt;[3-4]</li><li>method(5)-&gt;[5-6]</li><li>method(6)-&gt;[5-6]</li><li>method(7)-&gt;[7-8]</li><li>method(8)-&gt;[7-8]</li><li>method(9)-&gt;[9-10]</li><li>method(10)-&gt;[9-10]</li></ul><p>This would be used for generating a legend for a map where the size of the marker depends on the range a value belongs to.</p><p>I wonder if there is a nice algorithmic solution for this.</p><p>The numbers I work with are integers.</p><p>Edit:</p><p>Another example:</p><p>For min=1, max = 3, number of ranges=2 the ranges would be</p><p>a) [1-2],[3-3]</p><p>or</p><p>b) [1-1],[2-3]</p><p>The other method would behave like shown below:</p><p>a)</p><ul><li>method(1)-&gt;[1-2]</li><li>method(2)-&gt;[1-2]</li><li>method(3)-&gt;[3-3]</li></ul><p>or<br /> b)</p><ul><li>method(1)-&gt;[1-1]</li><li>method(2)-&gt;[2-3]</li><li>method(3)-&gt;[2-3]</li></ul><p>I don&#39;t have a preference for a) or b).</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Here&#39;s what I would do:</p><p>First start with an array the size of number of ranges to keep track of the length of each range. Let&#39;s call this <code>bucket_sizes[number_of_ranges]</code></p><ol><li>Initialize the size of each bucket with the highest evenly possible length: <code>(max-min+1)/number_of_ranges</code> (integer division)</li><li>Then, find the surplus that couldn&#39;t fit evenly in each bucket, <code>(max-min+1) % number_of_ranges</code> (remainder from integer division)</li><li>Distribute the surplus as evenly as possible between each bucket (start at index 0, add 1 to each bucket while subtracting 1 from surplus. If index wraps to end of bucket_size array, start from index 0 again and continue until surplus is 0).</li></ol><p>Now that we know the size of each bucket, we can generate the ranges:</p><pre><code>for (i=0, k=min; i&lt;number_of_ranges; i++) {
  ranges[i].lo = k;
  ranges[i].hi = k+bucket_sizes[i]-1;
  k += bucket_sizes[i];
}
</code></pre><p>To find the range of a specific number, simply iterate the <code>ranges</code> array and match the range where <code>ranges[i].lo &lt;= number &lt;= ranges[i].hi</code>.</p><p>Here is the full source code that I used to test this out (it&#39;s written in C):</p><pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;

struct range
{
    int lo;
    int hi;
};

int generate_ranges(int min, int max, int number_of_ranges, struct range ranges[])
{
    int i;
    int bucket_sizes[number_of_ranges];

    int even_length = (max-min+1)/number_of_ranges;
    for(i=0; i&lt;number_of_ranges; ++i)
        bucket_sizes[i] = even_length;

    /* distribute surplus as evenly as possible across buckets */
    int surplus = (max-min+1)%number_of_ranges;
    for(i=0; surplus&gt;0; --surplus, i=(i+1)%number_of_ranges)
        bucket_sizes[i] += 1; 

    int n=0, k=min;
    for(i=0; i&lt;number_of_ranges &amp;&amp; k&lt;=max; ++i, ++n){
        ranges[i].lo=k;
        ranges[i].hi=k+bucket_sizes[i]-1;
        k += bucket_sizes[i];
    }
    return n;
}

int number_range_index(int number, int number_of_ranges, const struct range ranges[]) {
    int i;
    for(i=0; i&lt;number_of_ranges; ++i)
        if(number &gt;= ranges[i].lo &amp;&amp; number &lt;= ranges[i].hi)
            return i;
    return number_of_ranges;
}


#define MAX_RANGES 50

int main(int argc, char *argv[]) {
    int i;
    struct range ranges[MAX_RANGES];

    if(argc != 5) {
        printf(&#34;usage: %s &lt;min&gt; &lt;max&gt; &lt;number_of_ranges&gt; &lt;number&gt;\n&#34;, argv[0]);
        return EXIT_FAILURE;
    }

    int min = atoi(argv[1]);
    int max = atoi(argv[2]);
    int number_of_ranges = atoi(argv[3]);
    int number = atoi(argv[4]);

    assert(max &gt; min);
    assert(number &gt;= min &amp;&amp; number &lt;= max);
    assert(number_of_ranges &gt; 0);
    assert(number_of_ranges &lt;= MAX_RANGES);

    printf(&#34;min=%d max=%d number_of_ranges=%d number=%d\n\n&#34;, min, max, number_of_ranges, number);

    int n = generate_ranges(min, max, number_of_ranges, ranges);
    for(i=0; i&lt;number_of_ranges; i++) {
        if(i&lt;n)
            printf(&#34;%s[%d-%d]&#34;, i&gt;0?&#34;,&#34;:&#34;&#34;, ranges[i].lo, ranges[i].hi);
        else
            printf(&#34;%s[]&#34;, i&gt;0?&#34;,&#34;:&#34;&#34;);
    }
    printf(&#34;\n\n&#34;);

    int number_idx = number_range_index(number, n, ranges);
    printf(&#34;method(%d)-&gt;[%d,%d]\n&#34;, number, ranges[number_idx].lo, ranges[number_idx].hi);

    return EXIT_SUCCESS;
}
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../job-scheduling-algorithm-to-find-the-maximum-number-of-overlapping-jobs/'>Job scheduling: algorithm to find the maximum number of overlapping jobs</a></li><li class="list-group-item"><a href='../find-k-max-integers-of-an-array-min-heap-vs-selection-algo-vs-selection-sort/'>Find k max integers of an array &#8212; Min Heap vs. Selection Algo vs. Selection Sort</a></li><li class="list-group-item"><a href='../find-the-min-max-length-of-directed-graph/'>Find the min/max length of directed graph</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>