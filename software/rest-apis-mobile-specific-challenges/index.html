<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest APIs &#8211; mobile specific challenges &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084715 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084715" class="post-1084715 software type-software status-publish hentry category-software tag-api tag-ios tag-mobile tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest APIs &#8211; mobile specific challenges</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">ios</span><span class="mr-2 badge badge-warning">mobile</span><span class="mr-2 badge badge-primary">rest</span></p><div class="entry-content"><p>I&#39;m working on a new iOS app project, on the mobile side. Some architecture changes are happening and it turns out we will have to rely on a custom built private API that will be used by the app we are building and also by other clients such as a website.</p><p>The API being designed follows the Rest style of resources-centric URI and CRUD operations mapped to HTTP verbs. things like:</p><pre><code>GET www.example.com/books
DELETE www.example.com/books/482094
POST www.example.com/users/6793
</code></pre><p>The problem is that this style often leads to the need for the mobile client to do many requests for loading a single app screen or managing a single user UI action. This leads to the app being in loading mode for 8 seconds till it has everything needed. A slow and unresponsive app.</p><p>Mobile clients have serious limitations when it comes to connectivity and so ideally, we should follow that sort of rule:</p><p><strong>1 screen == 1 API call</strong></p><p><strong>1 save == 1 API call.</strong></p><p>There are many situations where this puts you on a collision course with the REST design principles, for examples:</p><ul><li>let&#39;s say your app has been offline for a day and you need to sync<br /> with four tables of the back-end databases and you need a call like<br /> <code>www.example.com/sync_everything?since=2015-07-24</code></li><li>let&#39;s say there is a screen where the user can edit many of his<br /> objects, for example ticking tasks in his todo list. There should be<br /> a way to edit all those tasks records in one single batch API call<br /> rather than one API call per edit.</li><li>let&#39;s say there is a screen that<br /> mixes information from the ORDER, SALESMEN and PRODUCT db tables, I<br /> should get that data in one call instead of three.</li></ul><p>the risk is that we might end up with the most Restful API there is and also the most useless unresponsive mobile app there is.</p><p>The thing is I&#39;m only a new contractor there and what I need is something that help me makes those points, some articles from well respected  sources or something like that. Major players compromising with the REST style for their mobile client (e.g.: by using composite aggregate API end points).</p><p>Or any solution for this general problem. Thanks!</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>The API being designed follows the Rest style of resources-centric URI and CRUD operations mapped to HTTP verbs.</p></blockquote><p>This is your problem right here.</p><p>You have limited your resources to (I&#39;m assuming) the models in your database. As such it is taking ages to load all these resources because your server has no concept of resources that don&#39;t have a representation in the database.</p><p>For example might have</p><pre><code>www.example.com/books/482094
www.example.com/books/582045
www.example.com/books/427454
www.example.com/books/319343
</code></pre><p>that all have to be loaded to get my library</p><p>This isn&#39;t a problem with RESTful design, this is actual a REST anti-pattern. There is absolutely nothing in REST that says our resources must have a one to one mapping with anything else in your system, including database models.</p><p>The solution is to create more resources that better match what you want to load. If you have 5 resources that always end up together create a new resource that contains the info for those 5 resources.</p><p>What you should have is something like this</p><pre><code>www.example.com/users/334/my_library
</code></pre><p>which just loads all the books for that user. &#34;my_library&#34; isn&#39;t a model in your database, but it is a resource. The server creates it based on models in the database but there is no 1-to-1 mapping and the server has flexibility to create this resource without changing your DB model.</p><p>You might also have</p><pre><code>www.example.com/users/334/favioured_books
www.example.com/users/334/books_ordered_last_week
www.example.com/users/334/wishlist
</code></pre><p>none of which have to exist as model in your database or domain space.</p><p>There is a wide spread misconception that this is the wrong thing to do because frameworks like Rails taught people to map resources in a 1-to-1 fashion to models in the domain space which map again 1-to-1 with database rows. This is not necessary nor is it recommended.</p><p><strong>Resources should be numerous, cheap and lightweight</strong>. It should be easy to create them, and they should be abstracted from your domain model. If you find you need a new one you just make a new one. If you have problems doing that it is your frameworks fault not a fault with REST.</p><p>Now the big caveat with that of course is whether your framework allows you to do this. Frameworks like Rails and Django which have taken the course to map 1-to-1 in order to &#34;save you time&#34; make it hard to do this. But that is a flaw with the frameworks, not with RESTful design.</p><p>Here is Jim Webber discussing this is more detail (including a few digs at Rails as well!)</p><p><a href="https://yow.eventer.com/yow-2011-1004/domain-driven-design-for-restful-systems-by-jim-webber-1047" rel="noreferrer">https://yow.eventer.com/yow-2011-1004/domain-driven-design-for-restful-systems-by-jim-webber-1047</a></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-authenticate-native-mobile-app-using-a-rest-api/'>Rest &#8211; Authenticate native mobile app using a REST API</a></li><li class="list-group-item"><a href='../rest-how-to-safeguard-a-rest-api-for-only-trusted-mobile-applications/'>Rest &#8211; How to safeguard a REST API for only trusted mobile applications</a></li><li class="list-group-item"><a href='../rest-grouping-and-nesting-of-rest-apis/'>Rest &#8211; Grouping and nesting of REST APIs</a></li><li class="list-group-item"><a href='../support-multiple-versions-of-mobile-apps/'>Support Multiple versions of Mobile apps</a></li><li class="list-group-item"><a href='../rest-api-calls-with-side-effects-on-other-resources/'>Rest API calls with side effects on other resources</a></li><li class="list-group-item"><a href='../rest-api-design-multiple-calls-vs-single-call-to-the-api/'>REST API Design: Multiple calls vs. single call to the API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>