<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How to manage environment variables in local development &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072179 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072179" class="post-1072179 software type-software status-publish hentry category-software tag-development-environment tag-development-process tag-security"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How to manage environment variables in local development</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">development-environment</span><span class="mr-2 badge badge-info">development-process</span><span class="mr-2 badge badge-warning">Security</span></p><div class="entry-content"><p>I&#39;m in the process of writing a development philosophy document for a small groups of developers (6.5 developers to be specific), but it&#39;s ideally a document that will set down the company&#39;s best practices as our team scales up. In the process of creating this document I&#39;ve been interviewing each engineer to understand their development processes, to make something that&#39;s a good mix of helpful in eliminating redundant work, and not overly prescriptive.</p><p>Most of the issues I&#39;ve found there are pretty good solutions for, but there&#39;s something that I assume must be a common issue that I can&#39;t seem to find a good solution for. That&#39;s managing environment variables that are required for local development. For instance, we&#39;ve got a development key for AWS. It&#39;s required to use a lot of functions and features within the application we&#39;re developing.</p><p>At present the process is pretty bad. Obviously we can&#39;t commit an env file to Github as it&#39;s sensitive information that we don&#39;t want the entire org to have access to. Right now we have a secure S3 file that contains the env file required for development.</p><p>We&#39;ve found that there are a lot of issues both keeping this up-to-date both in terms new env variables making it into this file, and pulling this down during development. It&#39;s not very surprising since it&#39;s a single piece of the development cycle that&#39;s not a part of Github, and it&#39;s something that only has to be updated or accessed pretty rarely. That said, when people run into issues it can be very frustrating since realizing that you&#39;ve got the wrong S3 key, or something isn&#39;t a standard kind of error-checking.</p><p>Are there any solutions for managing environment variables that people have found work particularly well? We had an employee write a repo that is the best solution we&#39;ve currently got (<a href="https://github.com/sihrc/privvy" rel="noreferrer">https://github.com/sihrc/privvy</a>), but is there something better?</p><p>EDIT: The reason why private repositories are not the solution for this problem (we&#39;re already using private repos)</p><ol><li><p>These variables aren&#39;t limited to a single project. The development<br /> env file for instance is</p></li><li><p>Version-controlling this file would make development difficult or impossible. If we roll an API key, that&#39;s the API key that we<br /> need to use forever more. If you need to revert to an older revision<br /> and the key changes, that&#39;s a problem</p></li><li><p>It&#39;s not strange for us to have to add a third-party to a repo. It&#39;s VERY important that they be able to view the code, but not the<br /> credentials.</p></li></ol></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Obviously we can&#39;t commit an env file to Github as it&#39;s sensitive information that we don&#39;t want the entire org to have access to.</p></blockquote><p>The fact that the information is sensitive doesn&#39;t mean it shouldn&#39;t be under version control. Similarly, the fact that you&#39;re using GitHub doesn&#39;t mean all your information is public. GitHub Enterprise has private repositories, and within your company, individual repositories can be restricted to a subset of employees.</p><blockquote><p>Right now we have a secure S3 file that contains the env file required for development.</p></blockquote><p>That&#39;s not the right approach. Instead of having your configuration in one  place—the version control, you&#39;re putting information in two different locations, one being rather difficult to access. While S3 supports versioning, it&#39;s not as straightforward as in Git. Finally, unless you somehow configured S3 to use your corporate SSO server, you&#39;re forced to create additional accounts for every user who needs to access the S3 file. This is an opened door to severe security issues (like in “Hey, I can&#39;t access the S3 file. Seems my account has an issue again!”; “Well, just use mine. The password is ...”)</p><blockquote><p>We&#39;ve found that there are a lot of issues both keeping this up-to-date both in terms new env variables making it into this file, and pulling this down during development.</p></blockquote><p>Obviously. As explained below, two sources increase complexity.</p><blockquote><p>Are there any solutions for managing environment variables that people have found work particularly well?</p></blockquote><p>Private repositories.</p><p>Another solution I&#39;ve seen in several companies is to publish the settings into a public repository, but encrypt it. The problem with this approach is often the fact that the encryption key should be stored somewhere as well, and, more importantly, shared. This leads to two issues:</p><ul><li><p>When a disgruntled employee has your keys, you have to decrypt and reencrypt everything with a new key, and share the new key to every concerned person.</p></li><li><p>Everyone shares the same key. It might be OK for a small team (although I don&#39;t see a reason why this would be the preferred approach), but will quickly become an issue if the key needs to be shared with outsiders: consultants, interns, or people from other teams.</p></li></ul><blockquote><p>Additionally, there&#39;s no need for version control of this file. Commits or diffs on this file aren&#39;t going to be meaningful</p></blockquote><p>The first time you&#39;ll get your S3 file screwed by a disgruntled employee, you&#39;ll find that having a permanent history of every change is essential.</p><p>Same for diffs. Spending hours figuring out that someone replaced by mistake the wrong key, and then trying to figure out how to get the right keys back is much less fun when you can just track all the changes step by step.</p><blockquote><p>The reason why private repositories are not the solution for this problem (we&#39;re already using private repos)</p><ul><li>These variables aren&#39;t limited to a single project. The development env file for instance is</li></ul></blockquote><p>GitHub Enterprise has a branch restrictions feature. Although it is not as granular as directory-per-directory accesses, it may do the job.</p><p>Otherwise, you may switch from GitHub to a service which makes it possible to restrict accesses per directory. Personally, I&#39;m using a SVN repository which, among others, contains the configuration of every virtual machine I deploy: one part is publicly available, but the other part which contains confidential data such as the secret keys to Amazon AWS, Google and Twilio services, is restricted to named persons. It consists of a simple directory.</p><blockquote><ul><li>Version-controlling this file would make development difficult or impossible. If we roll an API key, that&#39;s the API key that we need to use forever more. If you need to revert to an older revision and the key changes, that&#39;s a problem</li></ul></blockquote><p>I don&#39;t think that there is an actual solution which works in every case. For instance, what if a revision you made two days ago migrated from Bing Maps to Google Maps? Meanwhile, you may have removed all the Bing Maps API keys; therefore, if someone reverts to an older version, it won&#39;t work, and there is nothing you can do.</p><p>Otherwise, when it comes to the changes in API keys, this should be pretty rare. Unless you have a security breach, there is little use in changing those keys on regular basis.</p><blockquote><ul><li>It&#39;s not strange for us to have to add a third-party to a repo. It&#39;s VERY important that they be able to view the code, but not the credentials.</li></ul></blockquote><p>Same here. Branch restrictions in GitHub Enterprise, or per-directory permissions in version control systems which support this feature.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-manage-a-complexity-jump/'>How to manage a complexity jump</a></li><li class="list-group-item"><a href='../web-development-how-to-integrate-local-web-development-environments-with-a-central-sso-solution/'>Web-development &#8211; How to integrate local web development environments with a central SSO solution</a></li><li class="list-group-item"><a href='../gitlab-workflow-forcing-code-review-or-merge-request-on-branch/'>Gitlab workflow, forcing code review or merge request on branch</a></li><li class="list-group-item"><a href='../git-my-office-wants-infinite-branch-merges-as-policy-what-other-options-do-we-have/'>Git &#8211; My office wants infinite branch merges as policy; what other options do we have</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>