<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Communicating with third party API &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072382 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072382" class="post-1072382 software type-software status-publish hentry category-software tag-architecture tag-google-app-engine tag-java tag-soap"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Communicating with third party API</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">google-app-engine</span><span class="mr-2 badge badge-warning">java</span><span class="mr-2 badge badge-primary">soap</span></p><div class="entry-content"><p>I am working on an App which basically communicate with a third party API, it has no back-end. The front-end will be a SPA. Here is the overall scenario:</p><ol><li>The external API needs current user&#39;s Id to respond to the requested query.</li><li>My server initially has the user information which it can use to query the API and get the desired result.</li><li>Based on the initial response the user fills in some more detail and requests the API again for the final response.</li></ol><p><strong>Possible solutions in my mind:</strong></p><p><strong>Solution 1(with additional requests overhead):</strong></p><ol><li>On first request serve the home page to the user, then let the<br /> front-end send a request(with the logged in user info) to my server<br /> to get initial data from the external API.</li><li>Now, my server requests the external API, gets the response and<br /> sends that response to the client.</li><li>Client gets the response, makes another request based on the response.</li><li>Repeat step 2 with the additional data.</li></ol><p><strong>Solution 2:</strong></p><ol><li>Since the server already has the user info(using oauth2), let it request the API first then render the landing page with the response loaded in the page as a static global JSON data, let the front-end code to query the static data and use it construct the next request.</li><li>Now, we have the same scenario of step 2 mentioned above.</li></ol><p>PS: The API communicates via SOAP protocol and maintains a session using oauth2.</p><p><strong>Question:</strong><br /> Which scenario is better with respect to error handling and availability? How should I handle the case when the API is down?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>So if I understand correctly the difference between the 2 solutions is really just in serving the 1st page if the external API is down:</p><ul><li>solution 1 is serving a generic (thus potentially useless) page</li><li>solution 2 is serving a customized page (but with potentially stale cached info)</li></ul><p>Both solutions will fail subsequent requests if the external API remains down, so really there isn&#39;t a significant difference between them from the error handling and availability perspective.</p><p>Personally I wouldn&#39;t design an app with such total dependency on the external API, I&#39;d decouple a bit the requests to my app from the requests to the external API, in the sense that I&#39;d always provide a response, even if that means just informing the user of the inadequate service status of the external API.</p><p>Something along these lines (where the long-lasting tasks would be your accesses to the external API): <a href="https://stackoverflow.com/questions/35030799/asynchronous-requests-in-appengine">https://stackoverflow.com/questions/35030799/asynchronous-requests-in-appengine</a></p><p>Clarification: I consider the external API accesses as long-running because you have no control over how long it takes to get a response (if you even get one) in order for the app to process it and respond to the original client request. If the whole thing takes longer than 60 sec (the GAE request deadline limit) the app will be killed.</p><p>You <em>could</em> keep the synchronous calls to the external API as you intended (the app&#39;s &#34;normal mode&#34;, when the external API responds in a timely manner), but with a safety timeout allowing the app to unblock, fallback to the &#34;offline mode&#34; I described in that Q&amp;A, maybe record service status changes and still respond to the client&#39;s request accordingly, all within those 60s.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-decoupling-server-and-client-using-rest-api/'>Rest &#8211; Decoupling Server and Client using REST API</a></li><li class="list-group-item"><a href='../php-how-to-prevent-multiple-form-submissions-when-user-reloads-the-page/'>Php &#8211; How to prevent multiple form submissions when user reloads the page</a></li><li class="list-group-item"><a href='../architecture-keep-data-in-sync-with-3rd-party-api/'>Architecture &#8211; Keep data in sync with 3rd party api</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>