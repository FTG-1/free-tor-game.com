<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; LinkedList &#8211; why no direct .next() on elements &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071820 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071820" class="post-1071820 software type-software status-publish hentry category-software tag-collections tag-java tag-linked-list"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; LinkedList &#8211; why no direct .next() on elements</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">collections</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">linked list</span></p><div class="entry-content"><p>I never understood this: why is it that I can&#39;t seem to find a core collections api somewhere that Allows me to retrieve elements that have a direct .next() or .previous() method on them without all the boilerplate or having to implement my own version of a LinkdList. The benefit? I can iterate directly over my returned elements without the need of an iterator, which seems to me one possible main motivator of having a LinkedList in the first place.</p><pre><code>class Link { ... }
LinkedList&lt;Link&gt; linksByPosition = ...
Map&lt;String,Link&gt; linksByName = ...
Link linkWithName = linksByName.get(&#34;name&#34;);
Link nextLink = ??? // Do you get how complex it is?
</code></pre><p>Do you get how complex the <code>???</code> might be? I need to consider a scan through every element to find the matching one first to know at what position it is, before I can get the next one &#8230;</p><p>Now consider this altered form, with a <code>SmarterLinkedList</code> that returns me implements of a predefined <code>LinkdListNode</code>.</p><pre><code>class Link extends AbstractLinkedListNode&lt;Link&gt; { ... }
SmarterLinkedList&lt;Link&gt; linksByPosition = ...
Map&lt;String,Link&gt; linksByName = ...
Link linkWithName = linksByName.get(&#34;name&#34;);
Link nextLink = linkWithName.next();
</code></pre><p>If internally, it is already tracking the linking, why would you not want to expose that part of the API to the developer? It seems to me endlessly useful?</p><p>Now lets say, I will make the requirements a little complexer, now I also want to append an item right after the one I am holding. In the first version of the code, while searching for the matching <code>Link</code>, I can also maintain an index so I know at which point to insert. This way I can call the <code>LinkedList.add(index+1,newLink)</code> method. You know what this is doing behind the scenes right? Yes, internally, it again iterates to the right position <code>index+1</code> times until it reaches the right position for the insertion.</p><p>However if the <code>LinkedListNode</code> also requires me to expose methods for <code>insertAfter</code>, <code>insertBefore</code>, <code>removeSelf</code> &#8230; makes it more powerful, would it not?</p><h1>UPDATE</h1><p>It seems already that the consensus is going to be &#39;implement one your own&#39;. But I am thinking &#39;too much boilerplate code&#39; that can be avoided without overly risking exposing node management innards.</p><p>I hope that eventually someone will stumble upon this, and tell me that there is something that does exactly offer that.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It is exposed.</p><p>That&#39;s an <code>Iterator</code>.</p><p>Exposing the innards of the <em>implementation</em> however, breaks the encapsulation of the class. The how it&#39;s implemented is under the covers - singly linked, doubly linked, dequeue (incidentally, the implementation changed from Java 1.5 to 1.6 with the addition of the <code>Deque</code> interface), stream accessible (it slightly changed again between 1.6 and 1.8).</p><p>The iterator is exposed. If you want to iterate over that, it&#39;s there. If you want to implement your own linked list (and I have in the past for exactly this reason - to be able to get access to the underlying representation and work with it), it isn&#39;t <em>that</em> hard to do.</p><p>Providing access to the underlying Node (or Entry depending on version of Java) class would mean that the LinkedList itself could enter an inconsistent state.  In particular, the LinkedList knows the start and end elements. It has the ability to remove first, remove last, get last, get first and so on (all part of the deque).  Providing access to the node would mean that someone else may unlink the head, or change the size (size() in LinkedList is returning a value - not counting all the nodes).</p><p>If you don&#39;t know where the end of the list is, <code>add(E e)</code> (add at the end of the list) becomes O(n) instead of O(1).  If you don&#39;t know how big the list is through access via LinkedList.add(E e), the size() method becomes O(n) rather than O(1).  These are important guarantees about how the List works.</p><p>Then there is <em>also</em> the issue of synchronizing the list.  This can be done by restricting the add and remove type methods on the list itself.  Giving access to the underlying class and all the guarantees about how synchronization work goes out the window because you no longer control the synchronization of add and remove on each element.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-question-regarding-linkedlist-in-java/'>Java &#8211; Question regarding LinkedList in Java</a></li><li class="list-group-item"><a href='../java-ny-practical-way-for-a-linked-node-structure-to-be-immutable/'>Java &#8211; ny practical way for a linked node structure to be immutable</a></li><li class="list-group-item"><a href='../java-collections-why-are-vectors-not-used-anymore-but-are-still-around/'>Java &#8211; Collections: Why are Vectors not used anymore but are still around</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>