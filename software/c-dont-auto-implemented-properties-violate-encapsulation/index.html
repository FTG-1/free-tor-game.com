<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Don&#8217;t auto-implemented properties violate encapsulation &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079809 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079809" class="post-1079809 software type-software status-publish hentry category-software tag-c tag-encapsulation tag-object-oriented tag-properties"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Don&#8217;t auto-implemented properties violate encapsulation</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">encapsulation</span><span class="mr-2 badge badge-warning">object-oriented</span><span class="mr-2 badge badge-primary">properties</span></p><div class="entry-content"><p>In C#, when a field getting or setting requires logic, we use properties. For example:</p><pre><code>private int _age;
public int Age
{
    get
    {
        Console.Writeline(&#34;Club member is {0} years old&#34;, _age);
    }
    set
    {
        if(value &gt; 0 &amp;&amp; value &lt; 120)
        {
            _age = value;
        }
        else
        {
            Console.Writeline(&#34;We do not accept unborns nor immortals to our club.&#34;);
        }
    }
}
</code></pre><p>When no logic is required, we could use the very concise <a href="https://msdn.microsoft.com/en-us/library/bb384054.aspx?f=255&amp;MSPPError=-2147217396" rel="nofollow noreferrer">auto-implemented properties</a>:</p><pre><code>public string Name {get; set;}
</code></pre><p>Thos are very similar to <code>public</code> fields since you could read and change their values from anywhere. There are, however, some differences, as <a href="https://stackoverflow.com/a/1180870/1925272">Michael Stum</a> summarizes very well Jeff Atwood&#39;s <a href="http://blog.codinghorror.com/properties-vs-public-variables/" rel="nofollow noreferrer">article</a>:</p><blockquote><ul><li>Reflection works differently on variables vs. properties, so if you rely on reflection, it&#39;s easier to use all properties.</li><li>You can&#39;t databind against a variable.</li><li><p>Changing a variable to a property is a breaking change. For example:</p><pre><code>TryGetTitle(out book.Title); // requires a variable
</code></pre></li></ul></blockquote><p>As I see it, those are very technical differences: <code>public</code> fields have some advantages over auto-implemented properties and vice-versa, but fundamentally, in an OOP point-of-view, they are very similar: fields which can be changed from any class, and that, as far as I know, violates encapsulation.</p><p>So why <code>public</code> fields considered evil due to the encapsulation violation while auto-implemented properties are so great?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h2>The Question</h2><p>The question is</p><blockquote><p>So why public fields considered evil due to the encapsulation violation while auto-implemented properties are so great?</p></blockquote><p>The answer to that question is covered in one of the technical points you note</p><blockquote><p>Changing a variable to a property is a breaking change</p></blockquote><p>If you publish any class to anyone (even your future self), you&#39;re bound to either keep to that interface or break an arbitrary amount of code that depends on it. Forever.</p><p>Encapsulation solves this issue by providing (or rather, describing) a way to be sure you can make changes to the implementation in the future without breaking any code outside the class. That is, using public fields binds you to them indefinitely, whereas auto-generated properties have the ability to change in the future without breaking calling code.</p><p>I&#39;d like to note here that turning a field into a property is not a breaking change in all programming languages, but it is in C#.</p><h2>Encapsulation</h2><p>Implied in the question is another one I&#39;d like to tackle about whether or not properties can provide encapsulation.</p><p><a href="https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)" rel="nofollow noreferrer">Wikipedia</a> defines Encapsulation as two related but separate concepts:</p><blockquote><ul><li><p>A language mechanism for restricting access to some of the object&#39;s components.</p></li><li><p>A language construct that facilitates the bundling of data with the methods (or other functions) operating on that data.</p></li></ul></blockquote><p>The question asserts that</p><blockquote><p>[properties are] fields which can be changed from any class, and that, as far as I know, violates encapsulation.</p></blockquote><p>I reject this assertion based on both of Wiki&#39;s definitions. Let me give an example <strike>straw man</strike> scenario and then ask some questions about it to investigate.</p><p>I&#39;ve made a class called Temperature. It has public properties for getting and setting its temperature in Celsius, Fahrenheit, and Kelvin. It will do any conversions between them simply by writing one than reading another.</p><p>Question 1: How is Temperature used?</p><ol><li><p>Reading and/or writing the properties directly, per the above interface description</p></li><li><p>Reading and/or writing some internal state that isn&#39;t part of the public interface specified above</p></li><li><p>Some other answer that I&#39;m unaware of</p></li></ol><p>Question 2: How is Temperature implemented?</p><ol><li><p>Each property has a backing hidden variable, with each setter updating all three backing variables. Getters just echo the variable.</p></li><li><p>There is one backing variable (in Rankines) updated by all three setters. Each getter converts from Rankines to the appropriate unit on the fly.</p></li><li><p>Temperature stores only a GUID. Any get/set requests are passed with the GUID to a web service, which handles the actual business of conversion.</p></li><li><p>It&#39;s impossible to tell from the interface defined, but any of the above would work (modulo network exceptions).</p></li><li><p>Some other answer that I&#39;m unaware of</p></li></ol><p>The answers I would pick are 1 and 4. That is, properties defined some public interface to the class, but obfuscated how the class was actually implemented. Properties satisfy &#34;restricting access to some of the object&#39;s components&#34; by hiding what those components even are. In conjunction with the class itself, they also help with &#34;facilitates the bundling of data with the methods (or other functions) operating on that data&#34; by being able to share information among themselves.</p><p>TL;DR: Properties can (and commonly are) used to support encapsulation.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-method-chaining-vs-encapsulation/'>Object-oriented &#8211; Method chaining vs encapsulation</a></li><li class="list-group-item"><a href='../object-oriented-how-did-oop-evolve-to-include-the-notion-of-properties/'>Object-oriented &#8211; How did OOP evolve to include the notion of Properties</a></li><li class="list-group-item"><a href='../c-how-to-argue-against-this-completely-public-mindset-of-business-object-class-design/'>C# &#8211; How to argue against this &#8220;completely public&#8221; mindset of business object class design</a></li><li class="list-group-item"><a href='../difference-between-assigning-to-auto-implemented-properties-vs-their-backing-fields-within-the-class/'>Difference between assigning to auto-Implemented properties VS their backing fields within the class</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>