<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Database &#8211; Am I planning the database/backend correctly &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1086190 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1086190" class="post-1086190 software type-software status-publish hentry category-software tag-database tag-database-design tag-mysql tag-relational-database"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Database &#8211; Am I planning the database/backend correctly</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">database</span><span class="mr-2 badge badge-info">database-design</span><span class="mr-2 badge badge-warning">MySQL</span><span class="mr-2 badge badge-primary">relational-database</span></p><div class="entry-content"><p>I&#39;m an iOS developer and to be honest I&#39;m not really looking to become a database expert right at this moment, but I do need to know how to properly plan out what I believe to be a pretty cookie cutter social network style backend/database.</p><p>I&#39;ll keep this short and sweet:</p><p>Social network app will have users, posts, comments, and favorites.</p><p>Using comments as an example:</p><p>Each comment is an object that has been created in my backend for a class called &#34;Comments&#34; (Is this overkill? I don&#39;t see how else it could be achieved but I just can&#39;t believe how a server would handle so many individual comment objects if an app became popular, but maybe I&#39;m just underestimating the power of a good backend?)</p><p>A comment object consists of a URL for the commenter&#39;s avatar, the commenter&#39;s user ID, a unique object ID, the post object&#39;s ID that the comment is for, and the comment text.</p><p>Posts and Favorites would also be their own classes/objects in the backend and would follow the same model as comments in the example above.</p><p>So my main question is, am I on track with the above? I want to make sure I&#39;m structuring my backend properly.</p><p>My second question is, how should the user should keep track of all of their posts, comments, and favorites?</p><p>My initial idea was to just have array fields for the User class and store the ID&#39;s of the posts, comments, and favorites eg. User class has an array field called &#34;Posts&#34; with ID&#39;s of post objects.</p><p>The thing that confuses me is, is it overkill to keep track of these in the User class, when I&#39;m storing the User&#39;s ID on the post, comment, and favorite classes already? And then I would just query those classes and filter for the user&#39;s ID, but then I think about it and if the app had a ton of usage, it might take longer to query all those objects and filter by the user&#39;s ID when the user could just keep track of their objects via fields on the User class.</p><p>Last but not least, last week I read the following in some Parse.com (popular Backend as a Service) docs:</p><p>&#34;When youâ€™re thinking about one-to-many relationships and whether to implement Pointers or Arrays, there are several factors to consider. First, how many objects are involved in this relationship? If the &#34;many&#34; side of the relationship could contain a very large number (greater than 100 or so) of objects, then you have to use Pointers.&#34;</p><p>I&#39;m confused on what Pointers are in a backend?</p><p>I realize these are all pretty noob questions but I really want to make sure I setup my backend properly and make sure that it&#39;s structure makes sense.</p><p>Hopefully some of you guys will be willing to read this giant wall of text and help a brotha out.</p><p>Thanks for the help!</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h2>A bit about relational databases</h2><p>One of the most powerful features of relational databases is the ability to connect sets of data through common points. In order to do this efficiently, a database should follow the rules of <a href="http://www.phlonx.com/resources/nf3/" rel="nofollow noreferrer">normalization</a>. To sum those rules up, a database should have:</p><ol><li>No repeating elements or groups of elements</li><li>No partial dependencies on a concatenated key</li><li>No dependencies on non-key attributes</li></ol><p>With these rules in mind, an example table for the comments could look like this:</p><pre><code>----------------------------------------------------------------------    
| comments                                                           |
|--------------------------------------------------------------------|
| comment_id (key, auto-increment) |  comment  | post_id |  user_id  |
|----------------------------------|-----------|---------|-----------|
| 1                                | &lt;text...&gt; |    1    |   123452  |
----------------------------------------------------------------------   
</code></pre><p>Here, the <code>comment_id</code> is the &#39;key,&#39; or unique identifier, of the table. It&#39;s also been set to &#39;auto increment,&#39; which means that it will automatically increase its value as &#39;records,&#39; or rows, are added to the table. As shown, the table containing information related to comments only knows what it needs to know. How, then, do you relate user-specific information to a comment? This is where the &#39;relational&#39; part of &#39;relational database&#39; comes into play:</p><pre><code>--------------------------------------------|
| users                                     |
|-------------------------------------------|--------------------------------|
| user_id (key, auto-increment) |   avatar  | additional fields not shown... |
|-------------------------------|-----------|--------------------------------|
| 123452                        | &lt;img_url&gt; |
---------------------------------------------
</code></pre><p>Note that the <code>user_id</code> column contains the same data for both the <code>comments</code> table and the <code>users</code> table. This way, you can &#39;join&#39; data from the two tables. For example, to get all of the comments made by a user, you could run the MySQL query:</p><pre><code>SELECT comment_id, comment, post_id FROM comments NATURAL JOIN users WHERE user_id=123452;
</code></pre><p>This method also answers the question</p><blockquote><p>how should the user should keep track of all of their posts, comments, and favorites?</p></blockquote><p>The <code>user</code> table should not keep track of such information in itself, but rather the respective tables should contain references to a globally unique user ID.</p><h2>Almost there</h2><p>So basically, you were on the right track. The only real change from the model you specified was to move the user&#39;s avatar information to the table concerning users, instead of in the table concerning comments.</p><p>As you seem to be leaning away from using a raw SQL database, you could consider the tables to be classes, and use the rules of normalization as a design guideline.</p><p>Finally, the Pointers vs. Arrays thing: both of those are very specific to the Parse backend (and admittedly, neither are explained very well). The best comparison I can come up with is that Pointers would be like Lists (as in Java or C#), and Arrays would be like, well, Arrays. The difference between the two is that Arrays can only store a predetermined amount of data, while Lists (or Pointers, in Parse&#39;s case) can store an unspecified amount. In theory, the amount would be infinite, but in practice the amount is determined by the amount of space available in the heap. For more information about the difference between Lists and Arrays, see <a href="https://stackoverflow.com/questions/434761/array-versus-listt-when-to-use-which">this question</a>. If you are planning to use Parse, I would recommend using Pointers in conjunction with Join Tables (which are essentially wrappers around the SQL method I described above), as those are the options offering the most flexibility.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../database-how-to-store-personal-information-properly/'>Database &#8211; How to store personal information properly</a></li><li class="list-group-item"><a href='../database-rails-application-how-to-optimize-reduce-database-calls-when-iterating-over-a-collection/'>Database &#8211; Rails application &#8211; how to optimize/reduce database calls when iterating over a collection</a></li><li class="list-group-item"><a href='../database-model-for-keeping-track-of-likes-shares-comments-on-blog-posts-over-time/'>Database model for keeping track of likes/shares/comments on blog posts over time</a></li><li class="list-group-item"><a href='../database-design-to-store-localized-country-names-and-language-names/'>Database design to store localized country names and language names</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>