<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Context Switching behavior &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077518 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077518" class="post-1077518 software type-software status-publish hentry category-software tag-multithreading"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Context Switching behavior</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">multithreading</span></p><div class="entry-content"><p>I need to ask a question that have been bugging me for some time now:</p><p>If I have a single core and one OS thread, this thread will get 100% of the CPU time and all is good.</p><p>If I have a single core and two or more OS threads, they will share the CPU time using time slices.</p><p>So, is the time slices always the same amout of time no matter how many threads?</p><p>What I&#39;m trying to get at, is the amout of work the CPU can do the same when I have two threads or 10000 threads?<br /> I&#39;m well aware that each individual thread will progress slower since they share a resource, but the actual amount of work the CPU can do, will it be the same?</p><p>e.g.</p><pre><code>[T1 ] [T2 ] [T1 ] [T2 ] [T1 ] [T2 ] [T1 ] [T2 ] [T1 ] [T2 ]

[T1 ] [T2 ] [T3 ] [T4 ] [T5 ] [T6 ] [T1 ] [T2 ] [T3 ] [T4 ]

----time--------------------------------------------------&gt;
img. 1
</code></pre><p>In the illustration above, there are 2 vs 6 threads, but the total amount of work would be the same.<br /> Is this true?<br /> Or are there something else that affects this when there are more threads, that cause each slice to be smaller or the context switch between the threads to be longer?</p><p>e.g.</p><pre><code>[T1 ] [T2 ] [T1 ] [T2 ] [T1 ] [T2 ] [T1 ] [T2 ] [T1 ] [T2 ]

[T1 ]   [T2 ]    [T3 ]    [T4 ]    [T5 ]    [T6 ]    [T1 ] 

----time--------------------------------------------------&gt;
img. 2
</code></pre><p>I&#39;m not asking if it is a good idea to use 1000 threads&#8230;</p><p><strong>[Edit]</strong></p><p>Trying to clarify what I&#39;m trying to understand:</p><p>Given x amount of time, e.g. <strong>1 minute</strong>.<br /> And given that the code does not use locks or any other thread interrupting code.</p><p>If I have two threads, there will be <code>y%</code> time spent on context switching.<br /> If I have 1000 threads, will <code>y</code> be a greater number?, or will it be the same as in the previous case?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>If your quantum (the time each thread gets to run) is the same, then you&#39;ll have the same number of context switches regardless of the number of threads (assuming no threads are blocked). The amount of time each thread <em>gets</em> will be affected, but the context switching overhead will be constant.  This is in an idea world; obviously, in the real world, you&#39;ll have locks and resource contention, so many processes will be waiting on I/O or otherwise not ready, so there will be more context switching overhead, and it&#39;s possible that the amount of time spent switching can exceed the amount of time spent actually running user code. The amount of extra time is entirely dependent on your workload, which is why it&#39;s not possible to generally predict the amount of overhead.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/parallelism-implies-concurrency-but-not-the-other-way-round-right/'>Parallelism implies concurrency but not the other way round right</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/issues-with-time-slicing/'>Issues with time slicing</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/how-to-program-thread-allocation-on-multicore-processors/'>How to program thread allocation on multicore processors</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/is-it-a-performance-hit-to-create-threads-that-loop-a-lot-to-check-for-things/'>Is it a performance hit to create threads that loop a lot to check for things</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/should-multi-threading-be-used-for-tasks-which-does-not-involve-io-operation/'>Should multi-threading be used for tasks which does not involve IO operation</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/why-would-a-program-require-a-specific-minimum-number-of-cpu-cores/'>Why would a program require a specific minimum number of CPU cores</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-behaviour-of-thread-sleep-in-a-single-core-processor-machine/'>Java &#8211; Behaviour of Thread sleep in a single core processor machine</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-multi-threading-performance-when-cpu-is-maxed-out/'>Java &#8211; multi-threading performance when CPU is maxed out</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/how-does-a-single-thread-run-on-multiple-cores/'>How does a single thread run on multiple cores</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/does-web-socket-block-thread-while-keeping-connection-as-regular-http-connection-does/'>Does Web Socket block thread while keeping connection as regular http connection does</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>