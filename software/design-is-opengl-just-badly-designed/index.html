<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Design &#8211; Is OpenGL just badly designed &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077935 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077935" class="post-1077935 software type-software status-publish hentry category-software tag-design tag-design-patterns tag-graphics tag-low-level tag-opengl"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Design &#8211; Is OpenGL just badly designed</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">graphics</span><span class="mr-2 badge badge-primary">low-level</span><span class="mr-2 badge badge-danger">opengl</span></p><div class="entry-content"><p>I have been using OpenGL and OpenGL ES for a long time, and I know them pretty well. They&#39;re also really, really annoying to use, and I haven&#39;t really seen this discussed anywhere. Here are some examples of bad design I have noticed:</p><ul><li>Global states everywhere. There are states for every feature, often implicit, sometimes hidden. Without reading documentation in detail it&#39;s hard to figure out what values are legal for which states and what influences them. Since they are global, it&#39;s a nightmare to debug, even with a single-threaded program.</li><li>Error handling is quite possibly hands down the worst I have ever seen in any framework. I consider the fact that errors need to be checked manually a hardware limitation, so I&#39;ll let that slide. But there are only a couple of error flags. Those flags are often used multiple times within the context of a single function to signify different things, leaving you with no options but to guess why it occurs. There is only one &#34;slot&#34; for errors so effectively if you don&#39;t check after every function, you will never get to the bottom of it properly, since errors will get lost if there is more than one before checking.</li><li>Function signatures are often counterintuitive and misleading. Arguments that take any number, but actually only a couple of values are legal. Enums Arguments that have only one possible legal value (such as border=0 in glTexImage2D) leaving you wondering why they&#39;re even there (compatibility with future versions of the API? No, they&#39;re never changed to accept any other values). Redundant enums accepted by functions that can only handle one type of value anyway, such GL_TEXTURE_3D for functions that only operate on 3D textures.</li><li>Extensions required to do almost everything. Querying the GPU for supported extensions is a huge pain.</li><li>Misleadingly similar function names for functions that actually do very different things, such as glGenTextures/glCreateTextures</li><li>Obscure, arcane rules for framebuffer completeness (for example when you want to render to a texture). Without reading documentation in detail you will routinely run into situations where you&#39;re unable to figure out why your framebuffer is considered incomplete. This is made even worse by the previously mentioned fact that error handling is abysmal, and error codes are shared by different errors. Try reading the attachment completeness rules to get an idea just how <em>bad</em> it is. There is also no feedback as to which framebuffer attachment is the bad one.</li><li>Fixed function pipeline can be mixed with the new pipeline with shaders, leading to a HUGE mess</li><li>Absolutely no checking for any kinds of errors at compile time, although I appreciate that most of this would be hardware-dependent anyway</li><li>Lots of redundant functions (just see how many variants of glUniform or glGet there are)</li></ul><p>With all these, and many other flaws, OpenGL seems to be just fine. It&#39;s extremely popular, dominates on mobile devices, is in active development, and supported on all kinds of GPUs. Why? Why is all this tolerated, and most importantly why was it designed this way? I know that GPUs are very particular devices and communication between CPU, GPU, memory, etc requires certain constraints, but most of it seems to be due to bad design that could be avoided.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>It&#39;s extremely popular, dominates on mobile devices, is in active development, and supported on all kinds of GPUs. Why?</p></blockquote><p>Well... what&#39;s your alternative?</p><p>Ignoring Vulkan, if you want to write a cross-platform application for mobile devices, and you want to use hardware 3D, what exactly are you going to use <em>except</em> OpenGL ES?</p><p>Nobody has ever claimed (at least recently) that OpenGL is a sensible, well-designed API. But it <em>works</em>; it gets the job done, and there&#39;s no more broadly available, cross-platform alternative.</p><hr/><p>And now for some fact checking:</p><blockquote><p>There is only one &#34;slot&#34; for errors so effectively if you don&#39;t check after every function, you will never get to the bottom of it properly, since errors will get lost if there is more than one before checking.</p></blockquote><p>That&#39;s false. Errors in OpenGL are <em>queued</em>. <a href="https://www.opengl.org/wiki/OpenGL_Error#Testing_for_errors" rel="nofollow noreferrer">Each call to <code>glGetError</code> returns the error least recently added to the queue</a>. OpenGL errors are not lost in OpenGL.</p><p>The problem with not checking for errors reasonably frequently is that, if you don&#39;t, then it&#39;ll be hard to know which function was responsible for which error.</p><blockquote><p>such as border=0 in glTexImage2D</p></blockquote><p>That exists because textures pre-GL 3.1 could have border texels. But since no consumer-grade hardware supported border texels, they removed it from core OpenGL in 3.1. But you can&#39;t just remove a parameter from a function; that would break ABIs all over the place. So they took the path of least resistance: keep the parameter, but required that it be zero.</p><p>ES retained it to preserve API compatibility with desktop OpenGL.</p><p>In general, pretty much every annoyance of the OpenGL API ultimately comes down to some level of &#34;because backwards compatibility&#34;.</p><blockquote><p>Absolutely no checking for any kinds of errors at compile time</p></blockquote><p>OpenGL is a C API. There&#39;s not much room in C for compile-time verification of stuff.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-why-dont-modern-libraries-use-oop/'>Object-oriented &#8211; Why don&#8217;t modern libraries use OOP</a></li><li class="list-group-item"><a href='../design-map-of-functions-vs-switch-statement/'>Design &#8211; Map of functions vs switch statement</a></li><li class="list-group-item"><a href='../c-what-design-pattern-best-suits-managing-handles-to-objects-without-passing-handles-or-manager-around/'>C++ &#8211; What design pattern best suits managing handles to objects, without passing handles or Manager around</a></li><li class="list-group-item"><a href='../what-are-the-advantages-of-matrix-multiplication-over-individual-variables-graphics/'>What are the advantages of matrix multiplication over individual variables (graphics)</a></li><li class="list-group-item"><a href='../c-opengl-multithreading-and-throwing-destructors/'>C++ &#8211; OpenGL, multithreading, and throwing destructors</a></li><li class="list-group-item"><a href='../c-idiomatic-usage-of-exceptions-in-c/'>C++ &#8211; Idiomatic usage of exceptions in C++</a></li><li class="list-group-item"><a href='../c-why-use-sdl-and-opengl-instead-of-just-opengl/'>C++ &#8211; Why use SDL and OpenGL instead of just OpenGL</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>