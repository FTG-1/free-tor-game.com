<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Unit-testing &#8211; Functional programming, Domain Driven Design, and Test/Behavior Driven Development &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083031 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083031" class="post-1083031 software type-software status-publish hentry category-software tag-bdd tag-domain-driven-design tag-functional-programming tag-tdd tag-unit-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Unit-testing &#8211; Functional programming, Domain Driven Design, and Test/Behavior Driven Development</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">bdd</span><span class="mr-2 badge badge-info">domain-driven-design</span><span class="mr-2 badge badge-warning">functional programming</span><span class="mr-2 badge badge-primary">tdd</span><span class="mr-2 badge badge-danger">unit testing</span></p><div class="entry-content"><p>I am posting because, first of all, I want to make sure my understanding on these 3 methodologies is correct. Secondly, I would like some clarification on how they could all fit in together. I see they are approaches used to tackle on different problems, and to me, it seems like they should all complement each other quite well because they address different levels of abstraction.</p><p>From what little exposure I&#39;ve had to Functional Programming (Scala beginner), it seems to me like functional programming aims for idempotence and &#34;real&#34; functions are supposed to do one thing, and one thing only (no side effects).</p><p>Separation of concerns (having UI, application, domain, and infrastructure layers), along with having a ubiquitous language, and working closely with a domain expert on understanding the problem at hand before beginning implementation, is, from a high view, one of the biggest things DDD entails.</p><p>And then there&#39;s BDD, which seems to be an approach to TDD which takes some inspiration from certain aspects of DDD (especially the ubiquitous language and the importance understanding the domain has in design and implementation) in order to let tests drive development efforts.</p><p>Why do I say they complement each other? In a nutshell:</p><ol><li>TDD proponents say no design is necessary, just let the tests guide your code design. If you use BDD, though, you&#39;re making use of domain knowledge for your design, which relates to DDD. If you do some prior design work as in DDD, you&#39;re narrowing down your solution space from infinite to finite (and humanly approachable/understandable), which could help guide your tests and design</li><li>Using BDD, your tests are supposed to test one thing only, and functional programming languages are great for this because functions are supposed to do one thing only, so this could help you design your functions and then have proof that they work because you&#39;ve written a test for them.</li><li>Because functions do one thing only, it should be helpful in enforcing a separation of concerns. So if you do DDD (higher level), a functional programming language should make it intuitive to implement the design (lower level) because of those features it enforces.</li></ol><p>Am I completely wrong about any of these concepts, or am I making some sense?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>First, some clarifications, since you expressed interest in checking your understanding:</p><h1>Functional Programming (FP)</h1><p>Functional programming is a paradigm in which the primary unit of program composition is the function; contrast this with object oriented programming, a paradigm in which objects comprise the primary unit.</p><h2>Side Effects and Purity (or Referential Transparency)</h2><p>You mention idempotence and &#34;reality&#34;, when I think you mean referential transparency and &#34;purity&#34;. Idempotence means that applying a function twice (or thrice, or...) is no different than applying it once.</p><p>&#34;Pure&#34; functions are those without side effects, such as writing to disk or sending data over the wire. It is not necessary for them to do only &#34;one thing&#34;. You can replace a pure function call with its value without changing the behaviour of the program at all:</p><pre><code>&gt; // pure function
undefined
&gt; const f = x =&gt; x*2;
undefined
&gt; const a = f(2);
undefined
&gt; a
4
&gt; console.log(f(2));
4
undefined
&gt; console.log(a);
4
undefined
&gt; // impure function
undefined
&gt; function g(x) {
... console.log(x*2);
... return x*2;
... }
undefined
&gt; const b = g(2);
4
undefined
&gt; b
4
&gt; console.log(g(2));
4
4
undefined
&gt; console.log(b);
4
undefined
&gt; 
</code></pre><p>Notice how, after replacing <code>g(2)</code> with its value, <code>4</code>, <code>console.log(b)</code> writes one less line. This makes it (under some definitions) an &#34;impure&#34; function. This has nothing to do with doing &#34;one thing only&#34;; <code>const g = () =&gt; { console.log(&#34;Hello world!&#34;); }</code> only writes to console, and yet replacing <code>g()</code> with its value, <code>undefined</code>, would not produce the same program (there would be no console output).</p><p>This property of being able to replace a function call with its value, without changing the behaviour of the program as a whole, is called <em>referential transparency</em>. I use it as one definition of &#34;purity&#34;. There are many others.</p><p>Not all functional programming languages necessarily enforce purity; one could argue that JavaScript (and especially ES6) is a functional language, and yet as we&#39;ve seen it is possible to write impure functions very easily in the language.</p><p>Languages like Haskell and Elm, however, make certain classes of side-effects very explicit via their type systems (e.g. the <code>IO</code> monad in Haskell, and the <code>Signal</code> applicative in Elm). Executing code with side effects is only possible according to certain constraints, enforced by the typechecker.</p><h1>Domain Driven Design (DDD)</h1><p>Domain Driven Design is a means of thinking about, discussing, designing, and actually implementing software with a cross-functional team operating in a rich and complex problem domain (e.g. finance). It&#39;s comprised of modelling the problem conceptually and linguistically according to a Ubiquitous Language, which pervades all aspects of the software - user-facing language in the UI, conversations with designers, domain experts, class, file, and variable names in the code.</p><p>This conceptual model and the Ubiquitous Language used to describe and talk about it only apply within a Bounded Context, which you can think of as a namespace; a <code>Ticket</code> may refer to one thing in the context of <code>Customer Support</code>, and another thing entirely in the context of <code>Cinema</code>.</p><h2>Separation of Concerns</h2><p>On the level of the actual software implementation, DDD encourages us to model the problem domain, its structures, relationships, and constraints, as closely as possible within the code. This representation of the DDD conceptual model lives within the <em>domain layer</em> of code, which is exercised from the outside (via a GUI, a CLI, a webpage, etc.) via the <em>application layer</em>, which &#34;plugs in&#34; the domain into an environment where the operations of the domain are exposed. This layer encapsulates all technical details (broadly speaking) of the application; contrast this with the domain layer, which is exclusively concerned with the &#34;business logic&#34; of the problem domain. This is the separation of concerns you allude to, and while it is quite important, I would say that it is not the primary focus of DDD.</p><h1>Relationships Between the Three</h1><h2>DDD and FP - Side Effects and Separation of Concerns</h2><p>Domain Driven Design, extending beyond the mere software solution and its implementation, and into the minds of all people involved in the software&#39;s use - its end-users, maintainers, designers, and software developers - does not prescribe (to my knowledge) the use of any particular programming paradigm.</p><p>However, some functional programming languages are well suited for achieving the separation of concerns you describe; for instance, &#34;business logic&#34;, operating on data types representing the Entities and/or Value Objects within a given domain, could be restricted to pure functions, or those without side effect. In order to actually execute this business logic, it could be plugged into, say, the <code>IO</code> monad from Haskell, where it would then be able to communicate over the network, or read and write files from disk. It would not be possible (in theory) to have technical concerns leak into the domain layer, since all application-level detail must take place in <code>IO</code>. This is possible because languages such as Haskell make side-effects explicit at the type level.</p><h2>FP and BDD - &#34;Doing Only One Thing&#34;, and Referential Transparency</h2><p>If we proceed under the above definition, in which pure functions are those which can be replaced by their value without changing the way the  program runs (referential transparency), the principle of &#34;doing only one thing&#34; becomes irrelevant to the question of whether or not FP is well-suited to BDD. I think the two topics are somewhat distant.</p><h2>DDD and BDD</h2><p>They&#39;re pretty related. Cucumber is great.</p><h1>Summary</h1><p>Functional Programming and Domain-Driven Design are in some sense orthogonal to one another; DDD makes no hard prescriptions on what language or technology to use. However, the principle of separation of concerns, which DDD does employ in its separation of domain and application layers, can be easily achieved in some functional programming languages with explicit side-effects. Pure functions need not do only one thing; they only need by referentially transparent. FP&#39;s connection with BDD is tenuous; BDD&#39;s connection with DDD is quite close.</p><p>Hope that helped. Just sharing my own understanding, which of course is always in need of revision.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-unit-testing-and-test-driven-development-questions/'>C# &#8211; Unit testing and Test Driven Development questions</a></li><li class="list-group-item"><a href='../architecture-how-to-combine-strict-tdd-and-ddd/'>Architecture &#8211; How to combine strict TDD and DDD</a></li><li class="list-group-item"><a href='../ddd-domain-models-and-business-logic/'>DDD Domain Models and Business Logic</a></li><li class="list-group-item"><a href='../architecture-does-bdd-and-ddd-work-well-together/'>Architecture &#8211; Does BDD and DDD work well together</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>