<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Is it a bad idea to pass JSON objects on the query string for an API &#8220;search&#8221; operation &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066253 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066253" class="post-1066253 software type-software status-publish hentry category-software tag-api-design tag-json tag-rest tag-web-api"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Is it a bad idea to pass JSON objects on the query string for an API &#8220;search&#8221; operation</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api-design</span><span class="mr-2 badge badge-info">json</span><span class="mr-2 badge badge-warning">rest</span><span class="mr-2 badge badge-primary">web-api</span></p><div class="entry-content"><p>I&#39;m building an API endpoint for a UI grid to search, filter, and display a list of domain objects, let&#39;s call them &#34;widgets.&#34; In the past, I would have built this with a list of named query string parameters, like this:</p><pre><code>GET /api/v1/widgets?type=2&amp;name=what&amp;from=2019-12-31&amp;to=2020-01-03&amp;pagesize=25&amp;page=2&amp;sort=name,-createdate
</code></pre><p>This would result in SQL something like</p><pre><code>SELECT &lt;selectlist&gt;
FROM widget
WHERE type = 2
    AND name LIKE &#39;what%&#39;
    AND createdate &gt;= &#39;2019-12-31&#39;
    AND createdate &lt;= &#39;2020-01-03&#39;
ORDER BY name ASC, createdate DESC
LIMIT 25, 25;
</code></pre><p>I&#39;ve had a co-worker propose that instead of a long list of parameters, we pass a couple of JSON objects on the query string, like this:</p><pre><code>&#34;filters&#34;: {
    { &#34;column&#34;: &#34;type&#34;, &#34;operator&#34;: &#34;=&#34;, &#34;value&#34;: 2 },
    { &#34;column&#34;: &#34;name&#34;, &#34;operator&#34;: &#34;like&#34;, &#34;value&#34;: &#34;what&#34; },
    { &#34;column&#34;: &#34;createdate&#34;, &#34;operator&#34;: &#34;&gt;=&#34;, &#34;value&#34;: &#34;2019-12-31&#34; },
    { &#34;column&#34;: &#34;createdate&#34;, &#34;operator&#34;: &#34;&lt;=&#34;, &#34;value&#34;: &#34;2020-01-03&#34; }
},
&#34;pagination&#34;: {
    &#34;page&#34;: &#34;2&#34;,
    &#34;pagesize&#34;: &#34;25&#34;,
    &#34;sort&#34;: [ &#34;name&#34;, &#34;createdate&#34; ],
    &#34;sortdirection&#34;: [ &#34;asc&#34;, &#34;desc&#34; ]
}
</code></pre><p>Which, after encoding, looks something like this as a URL (sorry if I messed up the encoding, I made this up as an example):</p><pre><code>GET /api/v1/widgets?filters=[%7B%22column%22:%22type%22,%22operator%22:%22%3D%22,%22value%22:2%7D,%7B%22column%22:%22name%22,%22operator%22:%22like%22,%22value%22:%22what%22%7D,%7B%22column%22:%22createdate%22,%22operator%22:%22%3E%3D%22,%22value%22:%222019-12-31%22%7D,%7B%22column%22:%22createdate%22,%22operator%22:%22%3C%3D%22,%22value%22:%222020-01-03%22%7D]&amp;pagination=%7B%22page%22:%222%22,%22pagesize%22:%2225%22,%22sort%22:[%22name%22,%22createdate%22],%22sortdirection%22:[%22asc%22,%22desc%22]%7D
</code></pre><p>We are in JavaScript on both client and server, so parsing the JSON object is not a difficult task. And I realize that the structure of the JSON object for querying would have to be altered, as it does not account for some things. Disregarding that, the basic question is:</p><p>Is this a bad/good idea? I see advantages and disadvantages, but I&#39;m trying to look past my personal bias.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Its not a brilliant idea. The URI is not really a good place for data of unpredictable length, and although there is no &#39;official&#39; maximum length, many webservers apply their own limit (IIS is 2083 characters, for example). Some webservers also have restrictions on acceptable characters in URIs.</p><p>There are also other considerations that are generic to URIs. Are the contents of the query in any way sensitive? Many servers will log URIs and query string parameters which may leave sensitive data in places you dont want it.</p><p>For this kind of variable length data, using HTTP Post would be best solution.</p><p>If you did still want to use the query string, another option would be to base64 the JSON string, meaning you wouldnt need to worry about escaping the spaces and special characters. This would mean the URI was not &#39;human readable&#39;, but I would argue that URI encoded JSON isn&#39;t particularly easy to read either.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-api-should-api-return-nested-json-objects/'>REST API &#8211; Should API Return Nested JSON Objects</a></li><li class="list-group-item"><a href='../rest-is-it-a-good-practice-to-have-a-special-value-all-in-an-enum/'>Rest &#8211; Is it a good practice to have a special value &#8220;ALL&#8221; in an enum</a></li><li class="list-group-item"><a href='../rest-web-api-rest-ish-pattern-for-flexible-querying-of-time-series-data/'>Rest &#8211; Web API: REST-ish pattern for flexible querying of time-series data</a></li><li class="list-group-item"><a href='../rest-retrieving-json-and-image-representation-of-a-resource/'>Rest &#8211; Retrieving JSON and image representation of a resource</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>