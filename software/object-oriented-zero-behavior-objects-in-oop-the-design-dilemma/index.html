<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Zero behavior objects in OOP &#8211; the design dilemma &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066326 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066326" class="post-1066326 software type-software status-publish hentry category-software tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Zero behavior objects in OOP &#8211; the design dilemma</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">object-oriented</span></p><div class="entry-content"><p>The basic idea behind OOP is that data and behavior (upon that data) are inseparable and they are coupled by the idea of an object of a class. Object have data and methods that work with that (and other data). Obviously by the principles of OOP, objects that are just data (like C structs) are considered an anti-pattern.</p><p>So far so good.</p><p>The problem is I have noticed that my code seems to be going more and more in the direction of this anti-pattern lately. Seems to me that the more I try to achieve information hiding between classes and loosely coupled designs, the more my classes get to be a mix of pure data no behavior classes and all behavior no data classes.</p><p>I generally design classes in a way which minimizes their awareness of other classes&#39; existence and minimizes their knowledge of other classes&#39; interfaces. I especially enforce this in a top-down fashion, lower level classes don&#39;t know about higher level classes. E.g.:</p><p>Suppose you have a general card game API. You have a class <code>Card</code>. Now this <code>Card</code> class needs to determine visibility to players.</p><p>One way is to have <code>boolean isVisible(Player p)</code> on <code>Card</code> class.</p><p>Another is to have <code>boolean isVisible(Card c)</code> on <code>Player</code> class.</p><p>I dislike the first approach in particular as it grants knowledge about higher level <code>Player</code> class to a lower level <code>Card</code> class.</p><p>Instead I opted for the third option where we have a <code>Viewport</code> class which, given a <code>Player</code> and a list of cards determines which cards are visible.</p><p>However this approach robs both <code>Card</code> and <code>Player</code> classes of a possible member function. Once you do this for other stuff than visibility of cards, you are left with <code>Card</code> and <code>Player</code> classes which contain purely data as all functionality is implemented in other classes, which are mostly classes with no data, just methods, like the <code>Viewport</code> above.</p><p>This is clearly against the principal idea of OOP.</p><p>Which is the correct way? How should I go about the task of minimizing class interdependencies and minimizing assumed knowledge and coupling, but without winding up with weird design where all the low level classes contain data only and high level classes contain all the methods? Does anyone have any third solution or perspective on class design which avoids the whole problem?</p><p>P.S. Here&#39;s another example:</p><p>Suppose you have class <code>DocumentId</code> which is immutable, only has a single <code>BigDecimal id</code> member and a getter for this member. Now you need to have a method somewhere, which given a <code>DocumentId</code> returns <code>Document</code> for this id from a database.</p><p>Do you:</p><ul><li>Add <code>Document getDocument(SqlSession)</code> method to <code>DocumentId</code> class, suddenly introducing knowledge about your persistence (<code>&#34;we&#39;re using a database and this query is used to retrieve document by id&#34;</code>), the API used to access DB and the like. Also this class now requires persistence JAR file just to compile.</li><li>Add a some other class with method <code>Document getDocument(DocumentId id)</code>, leaving <code>DocumentId</code> class as dead, no behavior, struct-like class.</li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>What you describe is known as an <strong>anemic domain model</strong>. As with many OOP design principles (like Law of Demeter etc.), it&#39;s not worth bending over backwards just to satisfy a rule.</p><p>Nothing wrong about having bags of values, as long as they don&#39;t clutter the entire landscape and don&#39;t rely on other objects to do the housekeeping they <strong>could be doing for themselves</strong>.</p><p>It would certainly be a code smell if you had a separate class just for modifying properties of <code>Card</code> - if it could be reasonably expected to take care of them on its own.</p><p>But is it really a job of a <code>Card</code> to know which <code>Player</code> it is visible to?</p><p>And why implement <code>Card.isVisibleTo(Player p)</code>, but not <code>Player.isVisibleTo(Card c)</code>? Or vice versa?</p><p>Yes, you can try to come up with some sort of a rule for that as you did - like <code>Player</code> being more high level than a <code>Card</code> (?) - but it&#39;s not that straightforward to guess and I&#39;ll have to look in more than one place to find the method.</p><p>Over time it can lead to a rotten design compromise of implementing <code>isVisibleTo</code> on <strong>both</strong> <code>Card</code> and <code>Player</code> class, which I believe is a no-no. Why so? Because I already imagine the shameful day when <code>player1.isVisibleTo(card1)</code> will return a different value than <code>card1.isVisibleTo(player1).</code> I think - it&#39;s subjective - this should be made impossible <strong>by design</strong>.</p><p>Mutual visibility of cards and players should better be governed by some sort of a context object - be it <code>Viewport</code>, <code>Deal</code> or <code>Game</code>.</p><p>It&#39;s not equal to having global functions. After all, there may be many concurrent games. Note that the same card can be used simultaneously on many tables. Shall we create many <code>Card</code> instances for each ace of spade?</p><p>I might still implement <code>isVisibleTo</code> on <code>Card</code>, but pass a context object to it and make <code>Card</code> delegate the query. Program to interface to avoid high coupling.</p><p>As for your second example - if the document ID consists only of a <code>BigDecimal</code>, why create a wrapper class for it at all?</p><p>I&#39;d say all you need is a <code>DocumentRepository.getDocument(BigDecimal documentID);</code></p><p>By the way, while absent from Java, there are <code>struct</code>s in C#.</p><p>See</p><ul><li><p><a href="http://msdn.microsoft.com/en-us/library/ah19swz4.aspx">http://msdn.microsoft.com/en-us/library/ah19swz4.aspx</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/0taef578.aspx">http://msdn.microsoft.com/en-us/library/0taef578.aspx</a></p></li></ul><p>for reference. It&#39;s a highly object-oriented language, but noone makes a big deal out of it.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-the-term-that-describe-objects-representing-both-logic-and-data/'>Object-oriented &#8211;  the term that describe objects representing both logic and data</a></li><li class="list-group-item"><a href='../c-clean-oop-design-how-to-implement-single-responsibility-and-no-procedural-programming/'>C# &#8211; Clean OOP-Design: How to implement single responsibility and no procedural programming</a></li><li class="list-group-item"><a href='../object-oriented-designing-a-card-game/'>Object-oriented &#8211; Designing a card game</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>