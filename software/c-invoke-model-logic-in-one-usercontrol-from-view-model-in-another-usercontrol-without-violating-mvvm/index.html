<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Invoke model logic in one UserControl from view-model in another UserControl without violating MVVM &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082355 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082355" class="post-1082355 software type-software status-publish hentry category-software tag-c tag-mvvm tag-wpf"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Invoke model logic in one UserControl from view-model in another UserControl without violating MVVM</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">mvvm</span><span class="mr-2 badge badge-warning">wpf</span></p><div class="entry-content"><p>Here is WPF application consisting from 3 <code>UserControl</code>s:</p><p><a href="../../../i.stack.imgur.com/KextY.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/KextY.png" alt="enter image description here"/></a></p><p><code>UserControl3</code> is a part of <code>UserControl2</code> content. I keep <em>MVVM</em> during developing and using <em>Prism</em>.</p><p>I need to invoke custom class method (which is <em>model</em> in terms of MVVM) in <code>UserControl3</code> from <em>view-model</em> of <code>UserControl1</code>. The restriction that service in <code>UserControl3</code> can&#39;t be singleton. I suppose to do it one of the following way:</p><ol><li><p>Using event aggregator from Prism. <code>UserControl1</code> view-model is publisher and <code>UserControl3</code> model is subscriber. For this I&#39;ll need to create unique Id in <code>Window</code> and pass it to <code>UserControl1</code> and <code>UserControl3</code>.</p></li><li><p>Creating service instance in <code>Window</code> and pass it to <code>UserControl1</code> and <code>UserControl3</code>. Then <code>UserControl1</code> just invoke method on this instance.</p></li><li><p><code>Window</code> pass <code>UserControl2</code> instance to <code>UserControl1</code>. View-model in <code>UserControl1</code> will just invoke method of <code>UserControl2</code>, which will invoke method of <code>UserControl3</code> and so on.</p></li></ol><p>It seems like 2 and 3 approaches violates MVVM. What will you prefer?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>This question, while focusing mostly on WPF applications applies equally to any GUI application.</p><p>When you have two different pieces of the user interface that must interact, you are really left with two possible solutions:</p><ol><li><p><strong>Events</strong>, which you outline as solution #1. The advantage here is the publisher and subscriber are decoupled, and do not have to know the structure of the user interface in order to do their job. The disadvantage here is that subscriber and publisher are decoupled, making UI problems harder to debug.</p></li><li><p><strong>Composition</strong> (in Object-Oriented terms). You need to encapsulate the logic somehow. If this logic is purely UI logic, then one User Control could have a direct reference to another, if and only if the structure of the UI will now and forever more facilitate this object relationship.</p><p>If the two User Controls cannot know the structure of their containing window, go with option #1 above.</p><p>If the logic is not UI logic, then a service class injected into each User Control upon object creation will work (also known as Dependency Injection).</p></li></ol><p>My preference is to use events or messages between two UI components. An event can be generated by the user, or by the application.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-best-method-for-async-initialization-of-view-model-in-mvvm-pattern-wpf/'>C# &#8211; Best method for async initialization of view model in MVVM pattern (WPF)</a></li><li class="list-group-item"><a href='../again-mvvm-mvp-story-passing-interface-of-a-view-to-its-view-model-why-it-is-bad/'>Again MVVM / MVP story , passing interface of a view to its view model why it is bad</a></li><li class="list-group-item"><a href='../c-mvvm-with-di-view-model-location-and-shared-service-data/'>C# &#8211; MVVM with DI, view model location and shared service data</a></li><li class="list-group-item"><a href='../c-in-mvvm-should-viewmodel-or-view-be-responsible-for-creating-new-views/'>C# &#8211; In MVVM, should ViewModel or View be responsible for creating new views</a></li><li class="list-group-item"><a href='../c-when-using-mvvm-is-it-okay-to-use-property-injection-on-a-view-model-in-wpf/'>C# &#8211; When using MVVM, is it okay to use property injection on a view model in WPF</a></li><li class="list-group-item"><a href='../wpf-mvvm-loading-data-on-startup/'>WPF MVVM Loading data on startup</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>