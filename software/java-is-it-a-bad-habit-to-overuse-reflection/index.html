<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Is it a bad habit to (over)use reflection &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064554 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064554" class="post-1064554 software type-software status-publish hentry category-software tag-java tag-programming-practices tag-reflection"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Is it a bad habit to (over)use reflection</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">programming practices</span><span class="mr-2 badge badge-warning">reflection</span></p><div class="entry-content"><p>Is it a good practice to use reflection if greatly reduces the quantity of boilerplate code?</p><p>Basically there is a trade-off between performance and maybe readability on one side and abstraction/automation/reduction of boilerplate code on the other side.</p><p>Edit: <a href="http://www.javaworld.com/javatips/jw-javatip98.html">Here is an example of a recommended use of reflection</a>.</p><p>To give an example, suppose there is a an abstract class <code>Base</code> which has 10 fields and has 3 subclasses <code>SubclassA</code>, <code>SubclassB</code> and <code>SubclassC</code> each with 10 different fields; they are all simple beans. The problem is that you get two <code>Base</code> type references and you want to see if their corresponding objects are of same (sub)type and are equal.</p><p>As solutions there is the raw solution in which you first check if the types are equal and then check all fields or you can use reflection and dynamically see if they are of the same type and iterate over all methods that start with &#34;get&#34; (convention over configuration), call them on both objects and call equals on the results.</p><pre><code>boolean compare(Base base1, Base, base2) {
    if (base1 instanceof SubclassA &amp;&amp; base2 instanceof SubclassA) { 
         SubclassA subclassA1 = (SubclassA) base1;
         SubclassA subclassA2 = (SubclassA) base2;
         compare(subclassA1, subclassA2);
    } else if (base1 instanceof SubclassB &amp;&amp; base2 instanceof SubclassB) {
         //the same
    }
    //boilerplate
}

boolean compare(SubclassA subA1, SubclassA subA2) {
    if (!subA1.getField1().equals(subA2.getField1)) {
         return false;
    }
    if (!subA1.getField2().equals(subA2.getField2)) {
         return false;
    }
    //boilerplate
}

boolean compare(SubclassB subB1, SubclassB subB2) {
    //boilerplate
}

//boilerplate

//alternative with reflection 
boolean compare(Base base1, Base base2) {
        if (!base1.getClass().isAssignableFrom(base2.getClass())) {
            System.out.println(&#34;not same&#34;);
            System.exit(1);
        }
        Method[] methods = base1.getClass().getMethods();
        boolean isOk = true;
        for (Method method : methods) {
            final String methodName = method.getName();
            if (methodName.startsWith(&#34;get&#34;)) {
                Object object1 = method.invoke(base1);
                Object object2 = method.invoke(base2);
                if(object1 == null || object2 == null)  {
                    continue;
                }
                if (!object1.equals(object2)) {
                    System.out.println(&#34;not equals because &#34; + object1 + &#34; not equal with &#34; + object2);
                    isOk = false;
                }
            }
        }

        if (isOk) {
            System.out.println(&#34;is OK&#34;);
        }
}
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Reflection was created for a specific purpose, to discover the functionality of a class that was unknown at compile time, similar to what the <code>dlopen</code> and <code>dlsym</code> functions do in C.  Any use outside of that should be <em>heavily</em> scrutinized.</p><p>Did it ever occur to you that the Java designers themselves encountered this problem?  That&#39;s why practically every class has an <code>equals</code> method.  Different classes have different definitions of equality.  In some circumstances a derived object could be equal to a base object.  In some circumstances, equality could be determined based on private fields without getters.  You don&#39;t know.</p><p>That&#39;s why every object who wants custom equality should implement an <code>equals</code> method.  Eventually, you&#39;ll want to put the objects into a set, or use them as a hash index, then you&#39;ll have to implement <code>equals</code> anyway.  Other languages do it differently, but Java uses <code>equals</code>.  You should stick to the conventions of your language.</p><p>Also, &#34;boilerplate&#34; code, if put into the correct class, is pretty hard to screw up.  Reflection adds additional complexity, meaning additional chances for bugs.  In your method, for example, two objects are considered equal if one returns <code>null</code> for a certain field and the other doesn&#39;t.  What if one of your getters returns one of your objects, without an appropriate <code>equals</code>?  Your <code>if (!object1.equals(object2))</code> will fail.  Also making it bug prone is the fact that reflection is rarely used, so programmers aren&#39;t as familiar with its gotchas.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/c-when-and-why-you-should-use-void-instead-of-e-g-bool-int/'>C# &#8211; When and why you should use void (instead of e.g. bool/int)</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-use-reflection/'>Java &#8211;  use reflection</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-generic-decorator-implementation/'>Java &#8211; Generic decorator implementation</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/reflection-is-using-reflection-still-bad-or-slow-what-has-changed-with-reflection-since-2002/'>Reflection: Is using reflection still &#8220;bad&#8221; or &#8220;slow&#8221;? What has changed with reflection since 2002</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-replacement-for-instanceof-java/'>Java &#8211; Replacement for instanceof Java</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-shallow-or-deep-equal-which-one-is-idiomatic-in-java/'>Java &#8211; Shallow or deep equal, which one is idiomatic in Java</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-how-to-handle-conditional-fields-in-java/'>Java &#8211; How to handle &#8220;conditional fields&#8221; in Java</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-is-it-a-good-idea-to-have-type-safe-equals/'>Java &#8211; Is it a good idea to have type safe equals</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>