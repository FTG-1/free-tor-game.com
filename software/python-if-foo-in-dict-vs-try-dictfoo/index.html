<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Python &#8211; &#8216;if foo in dict&#8217; vs &#8216;try: dict[foo]&#8217; &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064357 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064357" class="post-1064357 software type-software status-publish hentry category-software tag-python"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Python &#8211; &#8216;if foo in dict&#8217; vs &#8216;try: dict[foo]&#8217;</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">python</span></p><div class="entry-content"><p>This is less a question about the nature of duck typing and more about staying pythonic, I suppose.</p><p>First of all &#8211; when dealing with dicts, in particular when the structure of the dict is fairly predictable and a given key is not <em>typically</em> present but sometimes is, I first think of two approaches:</p><pre><code>if myKey in dict:
    do_some_work(dict[myKey])
else:
    pass
</code></pre><p>And of course Ye Olde &#39;forgiveness vs permission&#39; approach.</p><pre><code>try:
    do_some_work(dict[myKey])
except KeyError:
    pass
</code></pre><p>As a journeyman Python guy, I feel like I see the latter preferred a lot, which only feels odd I guess because in the Python docs <code>try/excepts</code> seem to be preferred when there is an actual mistake, as opposed to an, umâ€¦ <em>absence of success?</em></p><p>If the occasional dict does not have key in myDict, and it is <em>known that it will not always have that key,</em> is a try/except contextually misleading? This isn&#39;t a programming error, it&#39;s just a fact of the data &#8211; this dict just didn&#39;t have that particular key.</p><p>This seems particularly important when you look at the try/except/else syntax, which looks to be really useful when it comes to making sure that try isn&#39;t catching too many errors. You&#39;re able to do something like:</p><pre><code>try:
    foo += bar
except TypeError:
    pass
else:
    return some_more_work(foo)
</code></pre><p>Isn&#39;t that going to lead to swallowing all kinds of weird errors that are probably the result of some bad code? The above code might just be preventing you from seeing that you&#39;re trying to add <code>2 + {}</code> and you may never realize that some part of your code has gone horribly wrong. I don&#39;t suggest that we should Check All The Types, that&#39;s why it&#39;s Python and not JavaScript &#8211; but again with the context of try/except, it seems like it&#39;s supposed to catch the program doing something it shouldn&#39;t be doing, instead of enabling it to carry on.</p><p>I realize the above example is something of a straw-man argument, and is in fact intentionally bad. But given the pythonic creed of <code>better to ask forgiveness than permission</code> I can&#39;t help but feel like it begs the question of where the line in the sand actually is between correct application of if/else vs try/except is, in particular when you know what to expect out of the data you&#39;re working with.</p><p>I&#39;m not even talking about speed concerns or best practice here, I&#39;m just sort of quietly confused by the perceived Venn diagram of cases where it looks like it could go either way, but people err on the side of a try/except because &#39;someone somewhere said it was Pythonic&#39;. Have I drawn the wrong conclusions about the application of this syntax?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Use the <a href="http://docs.python.org/3/library/stdtypes.html#dict.get">get method</a> instead:</p><pre><code>some_dict.get(the_key, default_value)
</code></pre><p>...where <code>default_value</code> is the value returned if <code>the_key</code> is not in <code>some_dict</code>. If you omit <code>default_value</code>, <code>None</code> is returned if the key is missing.</p><p>In general, in Python, people tend to prefer try/except than checking something first - see the <a href="http://docs.python.org/glossary.html#term-eafp">EAFP</a> entry in the <a href="http://docs.python.org/glossary.html">glossary</a>. Note that many &#34;test for membership&#34; functions use exceptions behind the scenes.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-why-arent-there-explicit-access-modifiers-in-python/'>Python &#8211; Why aren&#8217;t there explicit access modifiers in Python:</a></li><li class="list-group-item"><a href='../python-duck-typing-data-validation-and-assertive-programming-in-python/'>Python &#8211; Duck typing, data validation and assertive programming in Python</a></li><li class="list-group-item"><a href='../python-are-exceptions-for-flow-control-best-practice-in-python/'>Python &#8211; Are exceptions for flow control best practice in Python</a></li><li class="list-group-item"><a href='../python-when-is-it-not-pythonic-to-use-properties-instead-of-a-method-that-doesnt-take-arguments/'>Python &#8211; When is it not Pythonic to use properties instead of a method that doesn&#8217;t take arguments</a></li><li class="list-group-item"><a href='../python-programming-cleanly-when-writing-scientific-code/'>Python &#8211; Programming cleanly when writing scientific code</a></li><li class="list-group-item"><a href='../python-how-to-perform-consistent-hashing-on-any-python-object-that-works-with-hash/'>Python &#8211; How to perform consistent hashing on any Python object that works with hash()</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>