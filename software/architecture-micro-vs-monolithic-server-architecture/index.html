<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture &#8211; Micro vs Monolithic Server architecture &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075875 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075875" class="post-1075875 software type-software status-publish hentry category-software tag-architecture tag-server"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture &#8211; Micro vs Monolithic Server architecture</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">server</span></p><div class="entry-content"><p>We are currently working on our new product/project, it is a client-server application directed towards certain specific industrial/service enterprises. We are building a server (C Language and Linux Only) running a custom protocol on top of TCP with a Java front-end. We are about 20% into the coding work and are faced with a situation having to choose between Micro or Monolithic Kernel Architecture.</p><p>I am aware that Micro vs. Monolithic is usually in relation to kernel architecture, but we are specifically talking about servers.</p><p><strong>Why a custom server and not something existing?</strong></p><ul><li>Our UI needs are significant and very dynamic, thus Web/Web-browser based solutions were not appropriate.</li><li>The statistical processing is significant at the client end and therefore, again, browsers were of little help. (Of course, we could do the processing at the server end and pass on the processed data to the client but that would imply lot of load on the server and wastage of client resources).</li><li>Moreover, with atleast three technologies (JS/HTML/CSS) to manage even a single event makes the whole experience like sweeping the house in the midst of a desert storm &#8211; you sweep it n-times, the dust accumulates n+1 times.</li></ul><p><strong>What about Micro and Monolithic Server? What are you talking?</strong></p><p>Consider the following (hypothetical) client request:</p><pre><code>request-id: 123
request-service: HistoricDataSets
request-message: Fetch all records upto the year 2010
</code></pre><p>On receving such request, a server, typically, does (we are ignoring concurrency techniques like thread and forks for simplicity):</p><ul><li>Parse the request string</li><li>Identify the action (Fetch <code>HistoricDataSets LIMIT  Year (2010)</code> in our case)</li><li>Interact with the persistance layer (Oracle, lets say, in our example) and fetch the data.</li><li><p>Format the data as per the protocol. Ex:</p><p>response-id: 123<br /> success: true<br /> response-text: DataSets</p></li><li><p>Respond to the client with the thus formatted data.</p></li></ul><p>This is what we are calling a <strong>Monolithic Server</strong> (akin to a monolithic kernel where all OS workings are done in the kernel space).</p><p>Consider the same request again, on receipt, this time the server (we have assumed only shared memory as IPC, again for simplicity):</p><ul><li>Puts the request into the shared memory for the <code>Parser</code> process</li><li>The <code>Parser</code> parses the string, identifies the task and directs the <code>Executioner</code> process to execute the tasks.</li><li>The <code>Executioner</code> then passes the data to <code>Fomatter</code> process which, after formatting the data into a protocol string, returns to the server.</li><li>The server dispatches it to the client (response).</li></ul><p>Of course, instead of <code>Parser</code>, <code>Executioner</code> and <code>Formatter</code> it could have been a single but separate process.  This is what we are calling a <strong>Micro Server</strong> (akin to a micro kernel doing barely minimum that is required). The server effectively is only listening and responding whereas all steps are taken care of by different process(es).</p></p><hr/><p>Which one to pick? We are confused! While monolithic servers are tried and tested (most HTTP-Web Servers?) and easier to program and can handle concurrency quite well. Micro servers, prima facie, seem swift and in line with UNIX principle of one program to do one task, but are also complicated to develop, esp. keeping concurrency in mind.</p><p><strong>Question(s)</strong><br /> &#8211; What are (possibly could be) the pros and cons of each approach?<br /> &#8211; When to use which? (It could also be interpreted as a general question: When to use IPC?)<br /> &#8211; If Micro kernel is chosen, then what functions need to be a part of core-server and what not?</p><p><strong>Similar/Related questions</strong></p><ul><li><a href="https://softwareengineering.stackexchange.com/questions/92575/dangers-of-huge-monolithic-application">Dangers of huge monolithic application</a></li><li><a href="https://softwareengineering.stackexchange.com/questions/57811/embedded-web-server-vs-external-web-server">External Vs Embedded browser</a> (Tangential)</li><li><a href="https://stackoverflow.com/questions/2204216/advice-for-converting-a-large-monolithic-singlethreaded-application-to-a-multith">Advice for converting Monolithic app into multithreaded</a> (Tangential)</li></ul><hr/><p><strong>Some information that may be helpful:</strong></p><ul><li>Our prospective customers can be divided into two categories:<ul><li>Large: About 1,700 &#8211; 2,000 requests per minute</li><li>Small: About 650 &#8211; 700 requests per minute</li></ul></li><li>Data volume per request cycle (request and the subsequent response) can be assumed to be normally distributed with mean ~ 1.20 MB and worse case about 250-300 MB.</li><li>The product concept is relatively new but has the capability of impacting the core operations, therefore we expect the customer budgets to be flexible only post a certain lag (9-12 months) post deployment, this limits the amount of hardware the client will be willing to commit esp. the small ones.</li><li>Each customer will have his own client-server stack. The server will be running on the customer&#39;s hardware managed by the customer&#39;s team, while clients will be deployed on the machines of the functional employees</li><li>Remote updates for both client and server application is a must</li><li>Real time <code>PUSH</code> services by the server may be &#39;highly&#39; desired if the product clicks!</li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Economics sometimes govern much more critical answer than the core theory behind choices. The most important thing is that if you are looking at something &#39;vast&#39; in your case, where you application needs genuinely tough deployment - the lesser the number of wheels you invent yourself, the better it is. If it works, i won&#39;t care if it is monolithic or micro; if it doesn&#39;t i won&#39;t care it either!</p><p>It may be true that very conventional Webpage based apps might not be for you - but you need to take a little broader look and see you can use things ready to go and later evolve your way out to see if you can replace that element by something better. That way, not only you will save time for the first thing - but you will also improve your understanding on what really matters in real life. Here are some pointers you might consider.</p><ol><li><p>If you really need very high scalability, consider how your servers will divide the task rather than churn numbers as fast as they can. Eventually, you will have a load that one server cannot really take up even if intel makes fastest processor on earth and customer is ready to pay! So request routing and load balancing is more important than the efficiency of the protocol itself.</p></li><li><p>HTTP is still best -if you need to scale up. (You can also get easy to buy load balancers if you use it). Custom protocol requires custom arrangements.</p></li><li><p>HTTP doesn&#39;t mean you need to throw around HTML, java script at all. Doesn&#39;t even mean you need to have regular apache server and web browser. You can use HTTP between two custom clients and elements like <a href="http://panoptic.com/wiki/aolserver/What_is_AOLserver">AOL server</a> or <a href="http://www.lighttpd.net/">lighthttpd</a> that can be used as a library if communication is not a huge data transfers. You can also use SOAP on both sides with tool kits like <a href="http://www.cs.fsu.edu/~engelen/soap.html">gSOAP</a>.</p></li><li><p>Even if HTTP definitely doesn&#39;t fit the bill, consider something like <a href="http://beepcore.org/">BEEP</a>, that helps you make things more efficient. Alternatively there are many proven RPC, RMI mechanisms that exists.</p></li><li><p>Try to see that you can do maximal work more by doing parallel processing in the back-end and servers are only queried when work is done. If this works -there are frameworks like <a href="https://computing.llnl.gov/tutorials/mpi/">MPI</a>, or there are many other distributed computing tool kits that can be of help.</p></li><li><p>Finally, while i may not be in a position to know exact needs, but you may either need to distribute a lot of data or do a lot of computation, if you need both - there is still some core architectural inefficiencies.</p></li></ol><p>To me, creating a new Protocol, and than creating a new server framework is a double experiment that you shouldn&#39;t do together. If your stakes are so high, first you should actually try to experiment with existing tools to see the limits of what is been done so far - only then you will know the real challenges.</p><p>Lot more has been accomplished in the research of distributed systems than just web apps. So you should research that.</p><p>Dipan.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../architecture-multiprocess-rpc-architecture-design/'>Architecture &#8211; Multiprocess RPC Architecture Design</a></li><li class="list-group-item"><a href='../c-building-a-strong-robust-client-server-system/'>C# &#8211; Building a strong robust client-server system</a></li><li class="list-group-item"><a href='../is-this-the-correct-way-of-sending-data-from-client-to-server/'>Is this the &#8220;correct&#8221; way of sending data from client to server</a></li><li class="list-group-item"><a href='../understanding-architecture-of-nginx/'>Understanding architecture of NGINX</a></li><li class="list-group-item"><a href='../architecture-microservice-architecture-for-multiple-composite-data-entities/'>Architecture &#8211; Microservice architecture for multiple composite data entities</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>