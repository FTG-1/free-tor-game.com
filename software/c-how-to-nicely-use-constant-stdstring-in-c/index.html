<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; how to nicely use constant std::string in c++ &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064058 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064058" class="post-1064058 software type-software status-publish hentry category-software tag-c tag-code-quality tag-coding-style"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; how to nicely use constant std::string in c++</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">code-quality</span><span class="mr-2 badge badge-warning">coding-style</span></p><div class="entry-content"><p>In my current code project, there is an awful lot of constant strings I use to print out error messages.</p><p>Hardcoding such strings is generally considered to be bad practice.<br /> Now I&#39;m searching for a &#34;clean way&#34; to include these strings in my program. Therefore I&#39;ve written a &#34;constants.h&#34; and &#34;constants.cpp&#34; which looks something like</p><pre><code>#ifndef CONSTANTS_H_
#define CONSTANTS_H_

extern std::string error_message_1;

#endif
</code></pre><p>and the constants.cpp:</p><pre><code>#include &#34;constants.h&#34;

std::string error_message_1 = &#34;this is just a sample, not my actual naming convention. move on the the question ;-)&#34;
</code></pre><p>So you might see the problem I have with this: due to a lot of error messages, the variable name itself is fairly long. The error message is even longer, so it crashes the standard 80 characters in one line of code.</p><p>Obviously I want my code nice and clean. I don&#39;t like going far beyond the 80 charactes per line of code. I don&#39;t like somthing like the following either:</p><pre><code>std::string error_message_1 = &#34;this is just a sample about how to&#34;
                              &#34; have one string across many lines&#34;
                              &#34; in the source code. this is not &#34;
                              &#34;very pretty too..&#34;;
std::string msg = &#34;and suddenly there&#39;s one line which is good..&#34;;
std::string error_message_with_longer_name = &#34;and it&#39;s even &#34;
                                             &#34;uglier with not &#34;
                                             &#34;equally long &#34;
                                             &#34;variable names&#34;;
</code></pre><p>Storing the strings in an external file which one would read in at the start of the program does not seem to be optimal too since the compiler cannot warn about missing strings. Basically this would be a mess to maintain.</p><p>So what do you do about it? Is there such a nice thing as &#34;Resources&#34;, which I know of Android (or is it Java in general?) development?</p><p>Note: Please do NOT tell me that my naming convention is bad. The above is just an example. It&#39;s not what it looks like ðŸ˜‰</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Hardcoding such strings is generally considered to be bad practice.</p></blockquote><p>Not sure I agree with that.</p><p>String literals are easy to read rather than the name of a string. If you want the same text for multiple locations then encapsulate the text into a function and call the single function to display the message.</p><p>If you want to centralize the text into a single file. Then what you are looking for is: strings as resources not manually moving all your string literals to string variables.</p><p>Checkout the following packages (normally used in localization but will work here).</p><pre><code>* gettext
</code></pre><p>Basically what this package does is allow you to leave the &#39;English&#39; version of the message in the code. But it will use the &#39;English&#39; text as a key into a resource table to get the corrct version of the string for a particular local.</p><p>So code that looked like this:</p><pre><code>printf (&#34;and suddenly there&#39;s one line which is good..&#34;);

// Now looks like this:

printf (gettext (&#34;and suddenly there&#39;s one line which is good..&#34;));
</code></pre><p>You do not need to go through the hassel of extracting all your constant strings into another package.</p><p>See here for full details. <a href="http://www.gnu.org/software/gettext/">http://www.gnu.org/software/gettext/</a></p><p>Personally I use the above in combination with <a href="http://www.boost.org/doc/libs/1_49_0/libs/format/doc/format.html">boost format</a> libraries for localization.</p><pre><code>std::cout &lt;&lt; boost::formt(&#34;The time is %1 in %2.&#34;) % time % country;

becomes:

std::cout &lt;&lt; boost::formt(gettext(&#34;The time is %1 in %2.&#34;)) % time % country;

English Resource File:      &#34;The time is %1 in %2.&#34;
Azerbaijani Resource File:  &#34;Saat %2 saat %1 deyil.&#34;
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../are-type-and-scope-prefixes-worthwhile-naming-conventions/'>Are type and scope prefixes worthwhile naming conventions</a></li><li class="list-group-item"><a href='../java-should-a-string-constant-be-defined-if-its-only-going-to-be-used-once/'>Java &#8211; Should a string constant be defined if it&#8217;s only going to be used once</a></li><li class="list-group-item"><a href='../c-exception-hierarchy-and-use-of-what-message-for-parsing-strings/'>C++ &#8211; Exception Hierarchy and Use of What Message for Parsing Strings</a></li><li class="list-group-item"><a href='../java-changing-the-value-of-string-object-in-java/'>Java &#8211; changing the value of String object in java</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>