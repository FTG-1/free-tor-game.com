<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Rules and advice for logging &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071479 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071479" class="post-1071479 software type-software status-publish hentry category-software tag-java tag-logging"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Rules and advice for logging</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">logging</span></p><div class="entry-content"><p>In my organization we&#39;ve put together some rules / guildelines about logging that I would like to know if you can add to or comment.</p><p>We use Java but you may comment in general about loggin &#8211; rules and advice</p><ol><li><p>Use the correct logging level</p><ul><li>ERROR: Something has gone very wrong and need fixing immediately</li><li>WARNING: The process can continue without fixing. The application should tolerate this level but the warning should always get investigated.</li><li>INFO: Information that an important process is finished</li><li>DEBUG. Is only used during development</li></ul></li><li><p>Make sure that you know what you&#39;re logging.</p></li><li><p>Avoid that the logging influences the behavior of the application</p></li></ol><p>The function of the logging should be to write messages in the log.</p><ol><li>Log messages should be descriptive, clear, short and concise.</li></ol><p>There is not much use of a nonsense message when troubleshooting.</p><ol><li>Put the right properties in log4j</li></ol><p>Put in that the right method and class is written automatically.</p><p>Example:</p><p>Datedfile -web</p><pre><code>log4j.rootLogger=ERROR, DATEDFILE
log4j.logger.org.springframework=INFO
log4j.logger.waffle=ERROR
log4j.logger.se.prv=INFO
log4j.logger.se.prv.common.mvc=INFO
log4j.logger.se.prv.omklassning=DEBUG

log4j.appender.DATEDFILE=biz.minaret.log4j.DatedFileAppender
log4j.appender.DATEDFILE.layout=org.apache.log4j.PatternLayout
log4j.appender.DATEDFILE.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p [%C{1}.%M] - %m%n

log4j.appender.DATEDFILE.Prefix=omklassning.
log4j.appender.DATEDFILE.Suffix=.log
log4j.appender.DATEDFILE.Directory=//localhost/WebSphereLog/omklassning/
</code></pre><ol><li>Log value.</li></ol><p>Please log values from the application.</p><ol><li>Log prefix.</li></ol><p>State which part of the application it is that the logging is written from, preferably with something for the project agreed prefix e.g. <code>PANDORA_DB</code></p><ol><li>The amount of text.</li></ol><p>Be careful so that there is not too much logging text. It can influence the performance of the app.</p><ol><li>Loggning format:</li></ol><p>-There are several variants and methods to use with log4j but we would like a uniform use of the following format, when we log at exceptions:</p><p><code>logger.error(&#34;PANDORA_DB2: Fel vid hämtning av frist i<br /> TP210_RAPPORTFRIST&#34;, e);</code></p><p>In the example above it is assumed that we have set log4j properties so that it automatically write the class and the method.</p><p>Always use logger and not the following:</p><p><code>System.out.println(), System.err.println(), e.printStackTrace()</code></p><p>If the web app uses our framework you can get very detailed error information from EJB, if using try-catch in the handler and logging according to the model above:</p><p>In our project we use this conversion pattern with which method and class names are written out automatically . Here we use two different pattents for console and for datedfileappender:</p><pre><code>log4j.appender.CONSOLE.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n

log4j.appender.DATEDFILE.layout.ConversionPattern=%d [%t] %-5p %c - %m%n
</code></pre><p>In both the examples above method and class wioll be written out. In the console row number will also be written our.</p><p> </p><ol><li><code>toString()</code></li></ol><p>Please have a <code>toString()</code> for every object.<br /> EX:</p><pre><code>@Override
public String toString() {
  StringBuilder sb = new StringBuilder();
  sb.append(&#34; DwfInformation [ &#34;);
  sb.append(&#34;cc: &#34;).append(cc);
  sb.append(&#34;pn: &#34;).append(pn);
  sb.append(&#34;kc: &#34;).append(kc);
  sb.append(&#34;numberOfPages: &#34;).append(numberOfPages);
  sb.append(&#34;publicationDate: &#34;).append(publicationDate);
  sb.append(&#34;version: &#34;).append(version);
  sb.append(&#34; ]&#34;);
  return sb.toString();
}
</code></pre><p>instead of special method which make these outputs</p><pre><code>public void printAll()
{
    logger.info(&#34;inbet: &#34; + getInbetInput());
    logger.info(&#34;betdat: &#34; + betdat);
    logger.info(&#34;betid: &#34; + betid);
    logger.info(&#34;send: &#34; + send);
    logger.info(&#34;appr: &#34; + appr);
    logger.info(&#34;rereg: &#34; + rereg);   
    logger.info(&#34;NY: &#34; + ny);   
    logger.info(&#34;CNT: &#34; + cnt);   
}
</code></pre><p>So is there anything you can add, comment or find questionable with these ways of using the logging? Feel free to answer or comment even if it is not related to Java, Java and log4j is just an implementation of how this is reasoned.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>As an extension of your rule of logging where in the application the log statement came from, you may want to add per module level logging flags.  Instead of logging everything, all the time, this allows you to selectively target sections of your application instead.  There is overhead in this, and you need to create a facility that allows you to enable / disable that logging.  Ideally, you would be able to enable / disable on-the-fly as the application is running.</p><p>I&#39;m used to seeing a layer below debug which I term &#34;Trace&#34;, but that&#39;s not necessarily a universal term.  &#34;Trace&#34; level logging tracks as much as you can possibly stand, including module entry / exit, timestamps with entry / exit, and bonus points for capturing passed values.  Obviously, that generates a LOT of data and it&#39;s not something you turn on willy-nilly.  But it has advantages with respect to debugging when you can&#39;t attach to the process or you don&#39;t have a core dump of the errant application.</p><p>I like to see file / module references and timestamps with my log information.  It can be handy when trying to hunt down race conditions between threads as well as coordinating the activities of multiple areas of the application.  To be fair, I know of some folk who think these details clutter the log file.  Adding in the timestamp is something to discuss with the team.  (Apologies if log4j already does that.)</p><p>If the logging isn&#39;t being taken care of by it&#39;s own thread / process, that&#39;s something to consider as well.  Instead of making the application thread wait for the logging to process, the log message gets passed off to the log handler and the application thread goes on its merry way.  Alternatively, creating some sort of buffer mechanism to handle the log messages is another way to speed up application responsiveness.</p><p>Having controls on the size and history of log files is another feature to consider.  You don&#39;t want the app blowing out all the disk space on the host system, nor do you necessarily want to keep all log files for all eternity.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../best-practices-for-logging-and-tracing-in-net/'>Best practices for logging and tracing in .NET</a></li><li class="list-group-item"><a href='../forcing-logger-appender-to-output-line-logged-at-lower-than-its-current-level/'>Forcing logger/appender to output line logged at lower than its current level</a></li><li class="list-group-item"><a href='../java-logging-in-a-latency-sensitive-system/'>Java &#8211; Logging in a latency sensitive system</a></li><li class="list-group-item"><a href='../java-logging-exception-in-multi-tier-application/'>Java &#8211; Logging Exception in multi-tier application</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>