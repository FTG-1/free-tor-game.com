<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Php &#8211; Why is PHP&#8217;s method of comparing different types bad &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1081801 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1081801" class="post-1081801 software type-software status-publish hentry category-software tag-comparison tag-dynamic-typing tag-language-design tag-php tag-programming-languages"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Php &#8211; Why is PHP&#8217;s method of comparing different types bad</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">comparison</span><span class="mr-2 badge badge-info">dynamic-typing</span><span class="mr-2 badge badge-warning">language-design</span><span class="mr-2 badge badge-primary">PHP</span><span class="mr-2 badge badge-danger">programming-languages</span></p><div class="entry-content"><div><aside class="s-notice s-notice__info post-notice js-post-notice mb16" role="status"><div class="d-flex fd-column fw-nowrap"><div class="d-flex fw-nowrap"><div class="flex--item mr8"> <svg aria-hidden="true" class="svg-icon iconLightbulb" width="18" height="18" viewBox="0 0 18 18"><path d="M15 6.38A6.48 6.48 0 007.78.04h-.02A6.49 6.49 0 002.05 5.6a6.31 6.31 0 002.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0015 6.37ZM4.03 5.85A4.49 4.49 0 018 2.02a4.48 4.48 0 015 4.36 4.3 4.3 0 01-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 01-1.64-3.94ZM10 18a1 1 0 000-2H7a1 1 0 100 2h3Z"></path></svg></div><div class="flex--item wmn0 fl1 lh-lg"><div class="flex--item fl1 lh-lg"> <b>Want to improve this post?</b> Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.</p></div></p></div></p></div></p></div></aside></div><p>I&#39;m working on designing a new programming language and trying to decide how I will do variable comparisons.  Along with many different types of languages, I&#39;ve used PHP for years and personally had zero bugs related to its comparison operations other than situations where 0 = false. Despite this, I&#39;ve heard a lot of negativity towards its method of comparing types.</p><p>For example, in PHP:</p><pre><code> 2  &lt;  100      # True
&#34;2&#34; &lt; &#34;100&#34;     # True
&#34;2&#34; &lt;  100      # True
</code></pre><p>In Python, string comparison goes like this:</p><pre><code> 2  &lt;  100      # True
&#34;2&#34; &lt; &#34;100&#34;     # False
&#34;2&#34; &lt;  100      # False
</code></pre><p>I don&#39;t see any value in Python&#39;s implementation (how often do you really need to see which of two strings is lexicographically greater?), and I see almost no risk in PHP&#39;s method and a lot of value.  I know people claim it can create errors, but I don&#39;t see how.  Is there ever really going to be a situation where you are testing if (100 = &#34;100&#34;) and you don&#39;t want the string to be treated as a number?  And if you really did, you could use === (which I&#39;ve also heard people complain about but without any substantial reason).</p><p>So, my question is, not counting some of PHP&#39;s weird conversion and comparison rules dealing with 0&#39;s and nulls and strings mixed with characters and numbers, are there any substantial reasons that comparing ints and strings like this is bad, and are there any real reasons having a === operator is bad?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The biggest problem is that an equivalence relationship, the mathy term for things like <code>==</code>, is supposed to satisfy 3 laws.</p><ol><li>reflexivity, <code>a == a</code></li><li>commutativity <code>a == b</code> means <code>b == a</code></li><li>transitivity <code>a == b</code> and <code>b == c</code> means <code>a == c</code></li></ol><p>All of these are very intuitive and expected. And PHP doesn&#39;t follow them.</p><pre><code>&#39;0&#39;==0 // true
 0==&#39;&#39; // true
&#39;0&#39;==&#39;&#39;// false, AHHHH
</code></pre><p>So it&#39;s not actually an equivalence relationship, which is a pretty distressing realization for some mathy people (including me).</p><p>It also hints at one of the things that people really hate about implicit casts, they often behave unexpectedly when combined with the mundane. It&#39;s basically just an arbitrary set of rules because it&#39;s unprincipled in this sense, <a href="http://phpsadness.com/sad/52">weird stuff happens</a> and it all needs to be specified case by case.</p><p>Basically we sacrifice consistency and the developer has to shoulder the extra burden of making sure there&#39;s no funny (and expensive) conversions happening behind the scene&#39;s. To quote <a href="http://phpsadness.com/sad/52">this article</a></p><blockquote><p>Language consistency is very important for developer efficiency. Every
 inconsistent language feature means that developers have one more
 thing to remember, one more reason to rely on the documentation, or
 one more situation that breaks their focus. A consistent language lets
 developers create habits and expectations that work throughout the
 language, learn the language much more quickly, more easily locate
 errors, and have fewer things to keep track of at once.</p></blockquote><p>EDIT:</p><p>Another gem I <a href="http://me.veekun.com/blog/2012/04/09/php-a-fractal-of-bad-design/">stumbled across</a></p><pre><code>  NULL == 0
  NULL &lt; -1
</code></pre><p>So if you try to sort anything, it&#39;s nondetermistic and entirely dependent on the order in which comparisons are made. Eg suppose bubble sort.</p><pre><code>  bubble_sort([NULL, -1, 0]) // [NULL, -1, 0]
  bubble_sort([0, -1, NULL]) // [-1, 0, NULL]
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../is-changing-the-type-of-a-variable-partway-through-a-procedure-in-a-dynamically-typed-language-bad-style/'>Is changing the type of a variable partway through a procedure in a dynamically typed language bad style</a></li><li class="list-group-item"><a href='../java-why-didnt-operator-string-value-comparison-make-it-to-java/'>Java &#8211; Why didn&#8217;t == operator string value comparison make it to Java</a></li><li class="list-group-item"><a href='../why-is-0-false/'>Why is 0 false</a></li><li class="list-group-item"><a href='../object-oriented-why-most-well-known-imperative-oo-languages-allow-unchecked-access-to-types-that-can-represent-a-nothing-value/'>Object-oriented &#8211; Why most &#8220;well-known&#8221; imperative/OO languages allow unchecked access to types that can represent a &#8216;nothing&#8217; value</a></li><li class="list-group-item"><a href='../javascript-preserving-pre-formatted-multi-line-strings-in-node-js-scripts/'>Javascript &#8211; Preserving Pre-formatted Multi-Line Strings in Node.js Scripts</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>