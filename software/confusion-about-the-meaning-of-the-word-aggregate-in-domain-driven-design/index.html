<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Confusion about the meaning of the word aggregate in domain driven design &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075057 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075057" class="post-1075057 software type-software status-publish hentry category-software tag-aggregate tag-domain-driven-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Confusion about the meaning of the word aggregate in domain driven design</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">aggregate</span><span class="mr-2 badge badge-info">domain-driven-design</span></p><div class="entry-content"><p>In a discussion about domain driven design I have learned the different people seem to think of different things when using the word <strong>aggregate</strong>. The main difficulty is that some people use the word <strong>aggregate</strong> for what other people call <strong>aggregate type</strong>.</p><p>It is quite difficult to have a discussion if people assume different meaning for the same words. For this reason I set out trying to clarify on what most people and the literature agrees too. If you give an answer to this question I would be very happy if you could provide a reference to literature.</p><hr/><p>For one person an aggregate is the boundary that groups a collection of entities. It is more a conceptional clustering boundary.</p><p>For another person an aggregate is a collection of entities transfered from a database repository (having transitional consistency). So an aggregate is something real and not just a concept. If I for example load two users from a database then I have loaded two aggregates of the same aggregate type.</p><p>Another person that also thinks that a collection of entities that are transactional consent but thinks that if you load data of a given aggregate type you can also load it partially (with some data just null for example) and still call the whole thing one aggregate while others would see this as two aggregates (with eventual consistency, meaning the consistency is given after both aggregates are saved).</p><hr/><p>To find the true meaning of the word aggregate myself I have had a look at the <a href="http://martinfowler.com/bliki/DDD_Aggregate.html">definition of Martin Fowler</a>. Here an aggregate is something real and there can be two aggregates of the same aggregate type. But when reading something like <a href="https://vaughnvernon.co/?p=879">this article from Vaughn Vernon</a> I get the impression that he calls <em>aggregate</em> what according to the <em>&#39;Martin Folwer like interpreted understanding&#39;</em> should be called <em>aggregate type</em>.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>For terminology in Domain Driven Design, start from &#34;the blue book&#34; -- <a href="http://rads.stackoverflow.com/amzn/click/0321125215" rel="noreferrer">Domain Driven Design</a> by Eric Evans.</p><blockquote><p><strong>AGGREGATE</strong> A cluster of associated objects that are treated as a unit for the purpose of data changes.  External references are restricted to one member of the aggregate, designated as the root.  A set of consistency rules applies within the aggregate&#39;s boundaries.</p></blockquote><p>That last sentence, I think you can turn around -- the boundaries of the aggregate are defined by the consistency rules.</p><p>It&#39;s definitely the case that an aggregate has state.  Each time the domain model changes, an aggregate is taken from one consistent state to another.  The data that we persist is used to reconstruct this state.  So in that sense, it is a real thing.</p><p>But the aggregate itself doesn&#39;t necessarily have a word in the ubiquitous language.  It&#39;s a derived concept.</p><p>Broadly, we could put the entire domain model under a single aggregate, that enforces all of the consistency rules.  We don&#39;t, because it that design doesn&#39;t scale: we can&#39;t change the domain model two different ways at the same time, even when the changes we are making don&#39;t share any consistency rules.  It&#39;s a poor way to model a business that can do more than one thing at a time.</p><p>Instead, we decompose the consistency rules into sets, subject to the constraint that two rules that reference the same data must be part of the same set.  (In doing this, we are also working with the ubiquitous language and the domain experts to determine if we are correctly describing the consistency rules).</p><p>To update the model, we identify the aggregate responsible for a piece of data and propose the change.  If the aggregate verifies all of its local consistency rules, we know that the change is globally valid, and we can apply the change.  This restores our ability to do more than one thing at a time - changes to data in different aggregates can&#39;t possibly conflict with each other, by construction.</p><p>Best practices suggest that most aggregates should contain only the root entity.  So you can conflate the aggregate with the entity without too much risk.  But my guess it there won&#39;t usually be anything in the ubiquitous language to hang on the cluster when it includes more than one entity; so you end up with the ShoppingCart aggregate maintaining the consistency rules for the ShoppingCart entity and the CartItems entity collection and....</p><p>Partial loading of an aggregate is broken when trying to apply a change -- how could a well designed aggregate possible validate all of its consistency rules with a subset of the data?  It&#39;s certainly the case that, if you have a requirement where this makes sense, your modeling is broken somewhere.</p><p>But if you are doing a read, loading only some of the data guarded by the aggregate can make sense.  Command Query Responsibility Separation (CQRS) takes this a step further; once the model has verified that the data satisfies the consistency rules, you can completely rearrange that data into whatever read only form makes your life easiest.  Put another way, if you aren&#39;t concerned with data changes, you don&#39;t need to worry about the aggregate boundary at all.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../ddd-effective-aggregate-design-questions/'>DDD &#8211; Effective Aggregate Design Questions</a></li><li class="list-group-item"><a href='../design-domain-driven-design-designing-aggregate-roots/'>Design &#8211; Domain Driven Design &#8211; designing Aggregate Roots</a></li><li class="list-group-item"><a href='../how-to-query-a-child-object-within-an-aggregate-root-on-demand/'>How to query a child object within an aggregate root on demand</a></li><li class="list-group-item"><a href='../does-reference-by-id-between-aggregates-lead-to-an-anemic-domain-model/'>Does reference by ID between Aggregates lead to an Anemic Domain Model</a></li><li class="list-group-item"><a href='../ddd-why-is-it-a-bad-practice-to-update-multiple-aggregate-roots-per-transaction/'>DDD: Why is it a bad practice to update multiple aggregate roots per transaction</a></li><li class="list-group-item"><a href='../a-problem-with-understanding-aggregates-and-aggregate-roots-in-domain-driven-design-ddd/'>A problem with understanding aggregates and aggregate roots in Domain Driven Design (DDD)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>