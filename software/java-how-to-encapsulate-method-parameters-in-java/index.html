<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; How to encapsulate method parameters in Java &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076611 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076611" class="post-1076611 software type-software status-publish hentry category-software tag-encapsulation tag-java tag-parameters"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; How to encapsulate method parameters in Java</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">encapsulation</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">parameters</span></p><div class="entry-content"><p>An HTTP query can be parametrized to a list of pairs like <code>name=value</code> that can be encapsulated in general as <code>Map&lt;String, String&gt;</code> since an HTTP GET query is string pairs. I could need something for any combination of objects and primitives. A varargs method for example <code>update(String s1...)</code> could be written in general as <code>update(Map&lt;String, String&gt;)</code> where the key is the name and the value is the data.</p><p>Therefore I wonder if it could be good to use a definition as <code>Map&lt;K, V&gt;</code> instead of writing a custom object in this case wrapping the specific 3 parameters to a class in their specific types which can&#39;t be reused whereas a <code>Map&lt;K, V&gt;</code> can be used to encapsulate any 2-tuples when we must write a pair like <code>Integer i</code> or <code>int i</code> or <code>int i=0</code>.</p><p>But I think it will only work for classes and not for primitive types, so the primitive types must be boxed in their objects so I must also box an <code>int</code> to an <code>Integer</code> for this to also work with primitive types.</p><p>Is there a better way than <code>Map&lt;K, V&gt;</code>to encapsulate method parameters when we must select a list of unknown length and unknown types where the types could be primitives or objects?</p><p>So instead of being specific about types and their values in the method, can I use a <code>Map&lt;K, V&gt;</code> instead of a list of named pairs such as <code>String s, int i, Object o...</code></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Abstract data types are not good things in Java for passing around complex objects or parameters.</p><h1>Type safety</h1><p>Lets compare two bits of code</p><pre><code>String foo(Integer a, Integer b, String s) {
  if(a.compareTo(b) == 0) {
    return s;
  } else {
    return &#34;&#34; + (a - b); // just as an example
  }
}
</code></pre><p>vs</p><pre><code>String foo(Map&lt;String, Object&gt; m) {
  if(m.get(&#34;a&#34;).compareTo(m.get(&#34;b&#34;)) == 0) {
    return (String)m.get(&#34;s&#34;);
  } else {
    return &#34;&#34; + (((Integer)m.get(&#34;a&#34;) - (Integer)m.get(&#34;b&#34;));
  }
}
</code></pre><p>In the second example, we have to use <code>Object</code> as the value because its the only object that <code>String</code> and <code>Integer</code> share in common.  This means that all objects further down need to be cast.  This has the distinct possibility of throwing a <code>ClassCastException</code> (<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html" rel="nofollow">javadoc</a>) anywhere or everywhere in your code... unless you add a ton of boiler plate code to prevent that (guard conditions for <code>instanceof</code> all over).</p><p>Whats worse, is that those exceptions (if you don&#39;t check everything - and the paths you follow if you do) are runtime errors.  The errors of your types won&#39;t be found until you run the program rather than when you compile it.  Errors found when you compile are easier to fix than ones you discover at runtime.  For that matter, the static analysis tools and inspections that most IDEs give you will catch them for you as you type them (and throw up horrendous warnings about trying to do it with the abstract data type).</p><h1>Overloads</h1><p>Passing all of the arguments as a single ADT means you have a single method.  In the example above, what if you had:</p><pre><code>String foo(Integer a, Integer b) { ... }
String foo(Integer a, Integer b, String s) { ... }
String foo(Integer a, Integer b, String s, String t) { ... }
</code></pre><p>as different ways to call the function.  With passing one ADT, you&#39;ve got just</p><pre><code>String foo(Map&lt;String, Object&gt; m) { ... }
</code></pre><p>There is no way to differentiate the overloads.  This leads to code that will look like:</p><pre><code>String foo(Map&lt;String, Object&gt; m) {
  if(m.containsKey(&#34;t&#34;)) { ... }
  else if(m.containsKey(&#34;s&#34;)) { ... }
  else { ... }
}
</code></pre><p>The complexity of the function will go through the roof (unless you start extracting those to other methods that are somehow indicating what type they&#39;re dealing with and my head is starting to hurt thinking about the hungarian notation you&#39;re going to be sticking into the method names).</p><p>This <em>further</em> gets problematic when you have different types that are valid arguments.</p><pre><code>String foo(Integer a, Integer b, String s) { ... }
String foo(BigInteger a, BigInteger b, String s) { ... }
</code></pre><h1>Typo safety</h1><p>Long ago, I was a perl programmer - back in the days before OOP found its way into perl (<code>bless</code> its reference).  The <em>only</em> way to pass around complex objects was with <code>%hashes</code>, and <code>@arrays</code>.  And you had to pull out the keys of the hash.  There were <em>numerous</em> bugs that could only be caught at runtime (and the joys of <a href="http://en.wikipedia.org/wiki/Autovivification" rel="nofollow">autovivication</a> made that challenging at times).</p><p>A simple typo in a key would mean some parameter was there wasn&#39;t found (when it was there) or was just created in the wrong spot and passed to another method.</p><pre><code>String plusOne(Map&lt;String, Integer&gt; m) {
  if(m.containsKey(&#34;type&#34;) &amp;&amp; m.containsKey(&#34;1&#34;) {
    return m.get(&#34;typo&#34;) + m.get(&#34;I&#34;);
  }
  return 0;
}
</code></pre><p>These are not fun bugs to have to find.  No bugs are really fun, but these bugs just smack you in the face because they are completely preventable if you had just used a proper parameter list and work with the language and the compiler.</p><h1>Calling Packaging</h1><p>So far, I&#39;ve talked about the dangers in the method itself.  What about work that the callee has to do.</p><pre><code>System.out.println(foo(1,2,&#34;bar&#34;));
</code></pre><p>And we&#39;re done with the simple parameter list.</p><pre><code>Map&lt;String, Object&gt; m = new HashMap&lt;String, Object&gt;();
m.put(&#34;a&#34;, 1);
m.put(&#34;b&#34;, 2);
m.put(&#34;s&#34;, &#34;bar&#34;);
System.out.println(foo(m));
</code></pre><p>Now, you want to debug this?  What are you passing into foo?  You&#39;ve got to look back through the code and track it.  Besides being a significantly larger block of code to do any method call of this type, its also obscufcating <em>what</em> is going into this.</p><h1>Refactors</h1><p><code>foo</code> now takes <code>Double</code>s rather than <code>Integer</code>s.  You change the method signature and fix all the compile time errors.  You&#39;ve found them all and it compiles correctly (see type safety above).</p><p>However, the map version works just as well with <code>Integer</code> as it does with <code>Double</code>.  You <em>can&#39;t</em> find out if you&#39;ve fixed the refactoring or not.</p><h1>Why are they in a <code>Map</code> together?</h1><p>This is more a philosophical question. <strong><em>Why</em></strong> are these objects in a map together?  What common attribute do they share?  If they really are part of some other data structure</p><pre><code>class Cell {
  int x, y;
  String value;
}
</code></pre><p>make them into a proper data structure that sticks together.  If they aren&#39;t things that are honestly related to each other, well... don&#39;t.</p><p>Putting things together in some structure makes them related to each other in our mind, even if they aren&#39;t.  If they aren&#39;t this adds significant mental gymnastics in order to keep what things <em>are</em> related to each other and what ones <em>aren&#39;t</em> apart.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-reasons-for-removal-of-function-types-in-java-8/'>Java &#8211; Reasons for removal of function types in Java 8</a></li><li class="list-group-item"><a href='../identifier-vs-domain-object-as-a-method-parameter/'>Identifier vs domain object as a method parameter</a></li><li class="list-group-item"><a href='../c-in-c-why-shouldnt-all-function-parameters-be-references/'>C++ &#8211; In C++, why shouldn&#8217;t all function parameters be references</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>