<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Domain Models (PHP) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083930 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083930" class="post-1083930 software type-software status-publish hentry category-software tag-domain-driven-design tag-domain-model tag-object-oriented tag-object-oriented-design tag-php"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Domain Models (PHP)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">domain-driven-design</span><span class="mr-2 badge badge-info">domain-model</span><span class="mr-2 badge badge-warning">object-oriented</span><span class="mr-2 badge badge-primary">object-oriented-design</span><span class="mr-2 badge badge-danger">PHP</span></p><div class="entry-content"><p>I have been programming in PHP for several years and have, in the past, adopted methods of my own to handle data within my applications.</p><p>I have built my own MVC, in the past, and have a reasonable understanding of <code>OOP</code> within php but I know my implementation needs some serious work.</p><p>In the past I have used an <code>is-a</code> relationship between a model and a database table. I now know after doing some research that this is not really the best way forward. As far as I understand it I should create models that don&#39;t really care about the underlying database (or whatever storage mechanism is to be used) but only care about their actions and their data.</p><p>From this I have established that I can create models of lets say for example a Person an this person object could have some Children (human children) that are also Person objects held in an array (with addPerson and removePerson methods, accepting a Person object).</p><p>I could then create a PersonMapper that I could use to get a Person with a specific &#39;id&#39;, or to save a Person.</p><p>This could then lookup the relationship data in a lookup table and create the associated child objects for the Person that has been requested (if there are any) and likewise save the data in the lookup table on the save command.</p><p>This is now pushing the limits to my knowledge&#8230;..</p><p>What if I wanted to model a building with different levels and different rooms within those levels? What if I wanted to place some items in those rooms?</p><p>Would I create a class for building, level, room and item</p><p>with the following structure.</p><p>building can have 1 or many level objects held in an array level can have 1 or many room objects held in an array room can have 1 or many item objects held in an array</p><p>and mappers for each class with higher level mappers using the child mappers to populate the arrays (either on request of the top level object or lazy load on request)</p><p>This seems to tightly couple the different objects albeit in one direction (ie. a floor does not need to be in a building but a building can have levels)</p><p>Is this the correct way to go about things?</p><p>Within the view I am wanting to show a building with an option to select a level and then show the level with an option to select a room etc.. but I may also want to show a tree like structure of items in the building and what level and room they are in.</p><p>I hope this makes sense. I am just struggling with the concept of nesting objects within each other when the general concept of oop seems to be to separate things.</p><p>If someone can help it would be really useful.</p><p>Many thanks</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>OOP isnt meant to just plain &#34;seperate things&#34;. It&#39;s more about organization and intent and reusability (when appropriate). Take a look at Domain Driven Design (DDD). Specifically, identifying where your &#34;Value Objects&#34; are, your &#34;Entities&#34; are and which &#34;Services / Factories / Repositories&#34; are needed to support them to get you where you need to be.</p><p>In answer to your qeustion:</p><blockquote><p>Would I create a class for building, level, room and item with the following structure</p></blockquote><p>-Yes, it seems those would be your Models</p><blockquote><p>building can have 1 or many level objects held in an array level can
 have 1 or many room objects held in an array room can have 1 or many
 item objects held in an array</p></blockquote><p>-That sounds right, the Building then would be your Entity, because each building is unique and has a distinct existance, as opposed to an &#34;item&#34; or &#34;room&#34; which have a clearly defined value, but no distict existance other than it&#39;s uniqueness to who owns it.</p><blockquote><p>and mappers for each class with higher level mappers using the child
 mappers to populate the arrays (either on request of the top level
 object or lazy load on request)</p></blockquote><p>-This is where you&#39;re going to want expand a bit. Basically, you&#39;re going to want to create repositories / factories which will be able to fetch and load your &#34;entities&#34; with data. This might be what you are referring to as &#34;Mappers&#34;, but when I hear mappers I think of &#34;<a href="http://en.wikipedia.org/wiki/Active_record_pattern" rel="nofollow">Active Record</a>&#39;s&#34;. which are objects which save and load themselves and pretty much are 1-1 with the database. With that concept, breaking out the core &#34;properties&#34; per intent can become messy (it probably works for some).</p><p>Here are some good resources which should aid in your development.</p><p>Check out Domain Driven Design Concepts, there are a few Moguls out there which you&#39;ll come across very quickly which will offer you detailed insight into the theories at hand. Here are some links to get you started:</p><p>this is a pretty brief explanation: <a href="http://mattpeters.net/2009/03/24/domain-driven-design-part-1-introduction-and-entities/" rel="nofollow">http://mattpeters.net/2009/03/24/domain-driven-design-part-1-introduction-and-entities/</a></p><p>this one has the cool domain name and turns out to be a great resource: <a href="http://domaindrivendesign.org/" rel="nofollow">http://domaindrivendesign.org/</a></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-the-use-of-association-aggregation-and-composition/'>Object-oriented &#8211;  the use of Association, Aggregation and Composition</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>