<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Dependency injection: should I use a framework &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066551 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066551" class="post-1066551 software type-software status-publish hentry category-software tag-dependency-injection tag-frameworks tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Dependency injection: should I use a framework</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">dependency-injection</span><span class="mr-2 badge badge-info">frameworks</span><span class="mr-2 badge badge-warning">java</span></p><div class="entry-content"><p>I have recently worked on a Python project where we did dependency injection heavily (because we must in order for the app to be testable), but we didn&#39;t use any framework. At times it was a little tedious to wire up all the dependencies manually, but overall it worked great.</p><p>When an object had to be created in multiple places, we simply had a function (sometimes a class method of that object) to create a production instance. This function was called whenever we needed that object.</p><p>In the tests, we did the same thing: if multiple times we needed to create a &#39;test-version&#39; of an object (i.e., a real instance backed by mock objects), we had a function to create this &#39;test-version&#39; of a class, to be used in tests.</p><p>As I said, generally this worked fine.</p><p>I am now entering a new Java project, and we are deciding whether to use a DI framework, or do DI manually (like in the previous project).</p><p>Please explain how working with a DI framework will be different, and in what manners it is better or worse than manual &#39;vanilla&#39; dependency injection.</p><p>Edit: I would also like to add to the question: have you witnessed any &#39;professional level&#39; project that does DI manually, without a framework?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><strong>The key of DI containers is the abstraction</strong>. DI containers abstract this concern for you. As you may guess, it has a noticeable impact on the code, often translated into a fewer number of constructors, setters, factories and builders. In consequence, they make your code more loosely coupled (due to the underlying <a href="https://en.m.wikipedia.org/wiki/Inversion_of_control" rel="nofollow noreferrer">IoC</a>), cleaner and simpler.</p><h2>Backgrounds</h2><p>Years ago, DI required us to write config files (<a href="https://en.wikipedia.org/wiki/Declarative_programming" rel="nofollow noreferrer">declarative programming</a>). It was fantastic to see the number of LOC diminishing substantially, but while the LOCSs decreased, the number of config files slightly increased. For medium or small projects it was not a problem at all, but for larger projects having the DI scattered between code and several files became a pain in the ...
Nonetheless, the main problem was the paradigm itself. It was quite inflexible because the descriptors left little space for customizations.</p><p>The paradigm shifted progressively towards to <a href="https://en.m.wikipedia.org/wiki/Convention_over_configuration" rel="nofollow noreferrer">convention over configuration</a>,  which trades config files for annotations or attributes. It keeps our code cleaner and simpler while providing us with the flexibility that XML could not. Some DI contianers are programable so the DI graph can change in runtime.</p><p>Now, without setters, constructors and XML the application is more than clean. Is also magic.</p><h2>On the down side...</h2><p>Convention over configuration makes the abstraction so heavy that you barely know how it works. Sometimes seems magic and here comes one more drawback. Once is working, many developers don&#39;t care about how it works.</p><p>This is a handicap for those who learnt DI with DI containers. They don&#39;t fully understand the relevance of the design patterns, the good practices and the principles that were abstracted by the container. I have asked developers if they were familiarised with DI and its advantages and they answered: -<em>Yes, I have used Spring IoC</em>-. (What the hell does it mean?!?)</p><p>One can agree or not with each of these &#34;drawbacks&#34;. In my humble opinion, it&#39;s a must to know what&#39;s going on in your project. Otherwise, we don&#39;t have a full understanding of it. Also is to know what DI is for and to have a notion of how to implement it is a plus to consider.</p><h2>On the plus side...</h2><p>One word <strong>productivity</strong>. Frameworks let us focus on what really matters. The application&#39;s business.</p><p>Despite the commented shortcomings, for many of us (which job is conditioned by deadlines and costs), these tools are an invaluable resource. In my opinion, this should be the main argument in favour of implementing a DI containers.</p><h2>Testing</h2><p>Whether we implement pure DI or containers, testing is not going to be a problem. Quite the opposite. The same containers often provide us with the mocks for unit testing out of the box. Along the years I have used my tests as thermometers. They tell me if I have relied heavily on the containers facilities. I say this because the containers I&#39;m used can initialize private attributes without setters or constructors.</p><p>Sounds tempting right? Be careful! Don&#39;t fall into the trap!</p><h2>Suggestions</h2><p>If you decide to implement containers, I strongly suggest sticking with the good practices. Keep implementing constructors, setters and interfaces. <strong>Enforce the framework/container to use them</strong>. It will make easier possible migrations to another framework or to remove the actual one. It can reduce significantly the dependency on the container what ease the testing too.</p><p>Regarding this practices:</p><ul><li><a href="https://softwareengineering.stackexchange.com/a/300716/222996">Dependency Injection: Field Injection vs Constructor Injection?</a></li></ul><h2>When to use DI containers</h2><p>My answer is going to be biased by own experience which is mainly in favour of DI containers (as I commented, I&#39;m heavily focused on productivity, so I have never had the need of pure DI. Quite the opposite).</p><p>I think you will find interesting <a href="http://blog.ploeh.dk/2012/11/06/WhentouseaDIContainer/" rel="nofollow noreferrer">Mark Seeman&#39;s article</a> about this subject, which also answers the question <em>how to implement pure DI?</em>.</p><p>Finally, if we were speaking of Java, I would consider first taking a look to the <a href="https://jcp.org/aboutJava/communityprocess/final/jsr330/" rel="nofollow noreferrer">JSR330 - Dependency Injection</a>.</p><h2>Summarising</h2><p><strong>Benefits</strong>:</p><ul><li>Cost-cutting and time-saving. Productivity.</li><li>A smaller number of components.</li><li>The code becomes simpler and cleaner.</li></ul><p><strong>Drawbacks</strong>:</p><ul><li>DI is delegated to 3rd party libs. We should be aware of their trade-offs, strengths and weakness.</li><li>Learning curve.</li><li>They quickly make you forget some good habits.</li><li>Increase of the project&#39;s dependencies (more libs)</li><li>Containers based on <em>reflection</em> require more resources (memory). This is important if we are constrained by the resources.</li></ul><p><strong>Differences with pure DI</strong>:</p><ul><li>Less code and more configuration files or annotations.</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-which-of-these-is-the-best-strategy-for-dependency-injection/'>Java &#8211; Which of these is the best strategy for dependency injection</a></li><li class="list-group-item"><a href='../dependency-injection-dependency-chain-pattern/'>Dependency Injection &#8211; Dependency Chain Pattern</a></li><li class="list-group-item"><a href='../dependency-injection-use-in-clean-code-by-robert-martin/'>Dependency injection use in &#8220;Clean Code&#8221; by Robert Martin</a></li><li class="list-group-item"><a href='../c-are-there-any-alternatives-to-dependency-injection-for-stateless-classes/'>C++ &#8211; Are there any alternatives to dependency injection for stateless classes</a></li><li class="list-group-item"><a href='../handling-disposables-with-dependency-injection/'>Handling disposables with dependency injection</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>