<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Dealing with permissions for the list of resource &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071568 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071568" class="post-1071568 software type-software status-publish hentry category-software tag-abac tag-authorization tag-microservices tag-permissions tag-rbac"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Dealing with permissions for the list of resource</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">abac</span><span class="mr-2 badge badge-info">authorization</span><span class="mr-2 badge badge-warning">microservices</span><span class="mr-2 badge badge-primary">permissions</span><span class="mr-2 badge badge-danger">rbac</span></p><div class="entry-content"><p>I have a few big services, that uses the same database and tables for managing roles and permissions. Each service ask the database directly for the permissions.</p><p>Now I need to build a new service. The idea is to create a centralized service that would handle all permission staff. Afterwards, my team is going to migrate old services from direct database access to using of the new auth service. The whole picture looks like microservices.</p><p>It&#39;s assumed the auth service will respond with a list of either roles or permissions(not sure yet). It seems to be fine for requests like GET <code>/foo/resources_a/:resource_a_id:</code>. With such request I&#39;d just add a check in the controller.</p><p>But how should we use such service when a request for a list of resources of type <code>resource_a</code> comes? I mean requests such as GET <code>/foo/resources_a</code>.<br /> Is there a good approach that would omit using the database directly and without big performance degradation?</p><p>Hopefully, my thoughts and question are clear.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>To summarize my understanding of your question, you want: a centralized service that would handle all permissions and ideally this service would omit using the database directly without big performance degradation.</p><p>Let’s first address the type of authorization framework you may use.</p><h1>Authorization Frameworks</h1><h2>RBAC</h2><p>The most prevalent authorization framework out there is something called RBAC or role-based access control. <a href="https://csrc.nist.gov/Projects/Role-Based-Access-Control" rel="noreferrer">RBAC was formalized by NIST, the National Institute of of Standards and Technology</a>. The challenge, in your case, with RBAC, is that it is identity-centric as in it only considers parameters of the user (role, group). You could define a role e.g. manager that would be assigned to a permission e.g. <code>viewDocumentData</code>.</p><p>I don’t recommend RBAC because of its limitations. However, if you must use RBAC, you could use a framework (i.e. <a href="https://docs.spring.io/spring-security/site/docs/5.0.5.RELEASE/reference/htmlsingle/#what-is-acegi-security" rel="noreferrer">Spring Security</a> for Java) to abstract security and use getter methods to retrieve information about the user and display it in the UI.</p><h2>ABAC</h2><p>To address this, NIST came up with a new model called <a href="https://csrc.nist.gov/Projects/Attribute-Based-Access-Control" rel="noreferrer">ABAC (Attribute Based Access Control)</a>. In ABAC, you can now use more metadata / parameters. You can for instance consider:</p><ul><li>a user&#39;s identity, role, job title, location, department, date of birth...</li><li>a resource&#39;s type, location, owner, value, department...</li><li>contextual information e.g. time of day</li><li>the action the user is attempting on the resource</li></ul><p>All these are called attributes. Attributes are the foundation of ABAC, hence the name. You can assemble these attributes into policies. Policies are a bit like the secret sauce of ABAC. Policies can grant and deny access. For instance:</p><ul><li>An employee can view a record if the employee and the record are in the same region</li><li>Deny access to reading records between 5pm and 8am.</li></ul><p>Policies can be used to express advanced scenarios e.g.</p><ul><li>segregation of duty</li><li>time-based constraints (see above)</li><li>relationship-based access control (see above)</li><li>delegation rules delegate Bob access to Alice&#39;s document.</li></ul><p>There are 2 main syntaxes available to write policies:</p><ul><li>the Abbreviated Language for Authorization (ALFA)</li><li>the eXtensible Access Control Markup Language (XACML)</li></ul><p>ABAC also comes with an architecture to define how the policies will get evaluated and enforced.</p><p><a href="../../../i.stack.imgur.com/MhC1g.png" rel="noreferrer"><img src="../../../i.stack.imgur.com/MhC1g.png" alt="ABAC diagram"/></a></p><p>The architecture contains the following components:</p><ul><li><p>the Policy Enforcement Point (PEP): this is the component that secures the API / application you want to protect. The PEP intercepts the flow, analyzes it, and send an authorization request to the PDP (see below). It then receives a decision (Permit/Deny) which it enforces.</p></li><li><p>the Policy Decision Point (PDP) receives an authorization request (e.g. can Alice view record #123?) and evaluates it against the set of policies it has been configured with. It eventually reaches a decision which it sends back to the PEP. During the evaluation process, the PDP may need additional metadata e.g. a user&#39;s job title. To that effect, it can turn to policy information points (PIP)</p></li><li><p>the Policy Information Point (PIP) is the interface between the PDP and underlying data sources e.g. an LDAP, a database, a REST service which contain metadata about users, resources, or other. You can use PIPs to retrieve information the PDP may need at runtime e.g. a risk score, a record’s location, or other.</p></li></ul><p>XACML can be implemented for <em>any kind of resource</em>, including databases.
For a database, however, you will need a proxy to intercept these requests and act as a translator. By doing this, you can implement filtering and masking as granular as you would like.</p><h1>Implementations</h1><p>There are several open-source and commercial implementations of XACML that will allow you to handle all permissions centrally and omit using the database directly. The ease of use will depend on the implementation.</p><p>For instance, for <strong>relational databases</strong> there is <a href="https://www.axiomatics.com/product/axiomatics-data-access-filter-adaf/" rel="noreferrer">Axiomatics Data Access Filter</a> and for <strong>HADOOP</strong> there is <a href="https://www.axiomatics.com/product/smartguard-big-data/" rel="noreferrer">SmartGuard</a>.</p><p>Viewing all the permissions of a user is not part of the XACML standard but can be achieved through extending an implementation of it. Axiomatics has achieved this with <a href="https://www.axiomatics.com/product/axiomatics-data-access-filter-adaf/axiomatics-reverse-query/" rel="noreferrer">Axiomatics Reverse Query (ARQ)</a>.</p><p>Full disclosure - I work for Axiomatics.</p><p>For an <a href="https://en.wikipedia.org/wiki/XACML#XACML_Implementations" rel="noreferrer">entire list of XACML implementations, you can check this list on Wikipedia</a>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../decoupling-microservices-with-grpc/'>Decoupling microservices with gRPC</a></li><li class="list-group-item"><a href='../circular-dependency-in-microservices-architecture-for-authentication/'>Circular dependency in microservices architecture for Authentication</a></li><li class="list-group-item"><a href='../design-microservice-architecture-using-auth-server-as-a-user-resource-server/'>Design &#8211; Microservice Architecture &#8211; using Auth Server as a User Resource server</a></li><li class="list-group-item"><a href='../microservices-without-data-duplication/'>Microservices without data duplication</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>