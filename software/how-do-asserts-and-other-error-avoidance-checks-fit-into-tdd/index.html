<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How do asserts and other error avoidance checks fit into TDD &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1081132 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1081132" class="post-1081132 software type-software status-publish hentry category-software tag-tdd"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How do asserts and other error avoidance checks fit into TDD</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">tdd</span></p><div class="entry-content"><p><a href="http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd" rel="nofollow">http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd</a></p><blockquote><p>You are not allowed to write any production code unless it is to make a failing unit test pass.</p></blockquote><p>So where do asserts fit into this?  If you followed this rule you&#39;d never write an assert without a unit test.  But how would you test for the existence of an assert?  The very nature of <code>assert</code> seems to make this idea impossible as the test would explode.</p><p>And what about code meant to handle absurd conditions that are difficult or impossible to replicate?  Some sort of FUBAR from a system call for example&#8230;  You need to handle the error but the condition that causes the error is pretty rare and comes from the OS.  How do you write a unit test to make that fail?</p><p>Or say you&#39;re writing a template library and want to do some concept checks before going too deep into template vomit land?  I don&#39;t know of any framework that supports compile time failure as a test PASS.</p><p>I&#39;ve tried to live by some of these TDD edicts, but at some point I&#39;ve always run into walls I can&#39;t get around.  These are some.</p><p>I guess I should say that I&#39;m talking about assert in the C/C++ sense in which a program, built without NDEBUG, will fault out if the assertion fails.  Not some exception throwing mechanism that&#39;s <em>called</em> assert.  Didn&#39;t even realize someone would use that name for throwing exceptions.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It looks to me like you&#39;re experiencing <a href="http://en.wikipedia.org/wiki/Cognitive_dissonance">cognitive dissonance</a>, trying to believe two contradictory ideas and accept both as valid.  The way to resolve it is to understand that one (or possibly both) must be incorrect, and find out which it is. In this case, the problem is that those edicts are based on a false premise, which Uncle Bob repeats several times a few lines further down:</p><blockquote><p>However, think about what would happen if you walked in a room full of
 people working this way. Pick any random person at any random time. A
 minute ago, all their code worked.</p><p>Let me repeat that: A minute ago all their code worked! And it doesn&#39;t
 matter who you pick, and it doesn&#39;t matter when you pick. <strong>A minute ago all their code worked!</strong></p></blockquote><p>That&#39;s the shining promise of TDD: <em>test everything, make it so all your tests pass, and all your code will work.</em></p><p>Problem is, that&#39;s a blatant falsehood.</p><p>Test everything, make it so all your tests pass, and <em>all your tests will pass,</em> nothing more, nothing less.  That doesn&#39;t mean anything particularly useful; it only means that none of the error conditions that you thought to test for exist in the codebase.  (But if you thought to test for them, then you were paying enough attention to that possibility to write the code carefully enough to get it right in the first place, so that&#39;s less helpful than it might be.)</p><p>It doesn&#39;t mean that any error you <em>didn&#39;t</em> think of is not present in the codebase.  It also doesn&#39;t mean that your tests--which are also code written by you--are bug-free.  (Take that concept to its logical conclusion and you end up caught in infinite recursion. <a href="http://en.wikipedia.org/wiki/Turtles_all_the_way_down">It&#39;s tests all the way down.</a>)</p><p>To give an example, there&#39;s an open-source scripting library that I use whose author boasts of over 90% unit test coverage and 100% coverage in all core functionality.  But the issue tracker is almost up to 300 bugs now and they keep coming.  I think I found five from the first few days of using it in real-world tasks.  (To his credit, the author got them fixed very quickly, and it&#39;s a good-quality library overall.  But that doesn&#39;t change the fact that his &#34;100%&#34; unit tests didn&#39;t find these issues, which showed up almost immediately under actual usage.)</p><p>The other major problem is that as you go on,</p><blockquote><p>every hour you are producing several tests. Every day dozens of tests.
 Every month hundreds of tests. Over the course of a year you will
 write thousands of tests.</p></blockquote><p>...and then your requirements change.  You have to implement a new feature, or change an existing one, and then <a href="http://www.joelonsoftware.com/items/2009/01/31.html">10% of your unit tests break,</a> and you need to manually go over all of them to discern which ones are broken because you made a mistake, and which are broken because the tests themselves are no longer testing for correct behavior.  And 10% of thousands of tests is a lot of unnecessary extra work.  (Especially if you&#39;re doing it 1 test at a time, as the three edicts demand!)</p><p>When you think of it, this makes unit testing a lot like global variables, or several other bad design &#34;patterns&#34;: it may seem to be helpful and save you some time and effort, but you don&#39;t notice the disastrous costs until your project becomes big enough that their overall effect is disastrous, and by that time it&#39;s too late.</p><blockquote><p>It is now two decades since it was pointed out that program testing
 may convincingly demonstrate the presence of bugs, but can never
 demonstrate their absence. After quoting this well-publicized remark
 devoutly, the software engineer returns to the order of the day and
 continues to refine his testing strategies, just like the alchemist of
 yore, who continued to refine his chrysocosmic purifications.</p><p>-- <a href="http://www.cs.utexas.edu/~EWD/transcriptions/EWD10xx/EWD1036.html">Edsger W. Djikstra</a>.  (Written in 1988, so it&#39;s now closer to
 4.5 decades.)</p></blockquote></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../start-with-a-passing-unit-test/'>Start with a passing unit test</a></li><li class="list-group-item"><a href='../unit-testing-where-is-the-line-between-unit-testing-application-logic-and-distrusting-language-constructs/'>Unit-testing &#8211; Where is the line between unit testing application logic and distrusting language constructs</a></li><li class="list-group-item"><a href='../workflow-of-test-driven-development-to-follow-solid-principles/'>Workflow of Test driven development to follow SOLID principles</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>