<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>RESTful API versus One Do-All Endpoint &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073808 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073808" class="post-1073808 software type-software status-publish hentry category-software tag-architecture tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">RESTful API versus One Do-All Endpoint</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">rest</span></p><div class="entry-content"><p>My company developed a RESTful API that is used by a few internal applications. This API allows clients to charge one-time payments as well as recurring payments. Both of those things are made up of resources; a <strong>person</strong> needs a <strong>payment method</strong> to create a <strong>subscription</strong> that will create a <strong>transaction</strong>. The data is very relational, but one of our workflows is as follows.</p><p>Suppose a new person is looking to set up a recurring payment. Our workflow looks like this:</p><ul><li>Create a person</li><li>Create a payment method linked to that person</li><li>Create a subscription linked to that payment method</li><li>Create a transaction that is linked to that subscription</li></ul><p>Each of those operations is represented by an endpoint on one of our controllers that make up our application&#39;s REST API.</p><p>As the app has grown, many people are questioning <em>why</em> we are so steadfast in sticking to this modular API design. Any time a new client needs to integrate with this application to create subscriptions, they need to implement code that follows those four steps. Our answer has always been, &#34;good software design, and REST, promote separation of concerns and keeping the construction of one type of resource separated from another allows us to keep things flexible and maintainable&#34;. The main counterpoint to this is that, like all software, we&#39;ve had some bugs arise in between steps of this process and people argue that our problems would be solved (or less troublesome) if we had one endpoint that did it all.</p><p>The project is a few years old and has seen a good deal of production use. I&#39;m very reluctant to believe that one &#34;do-all&#34; endpoint is the right thing to do but I feel like all I have to stand on in this debate is theory and principles. Some of our issues would likely have been solved by reducing the chatter between systems, but something seems inherently wrong with putting a bunch of distinct operations into one method and calling it a day.</p><p>Is there something I&#39;m missing? Am I maybe biased because I helped design the app up to this point or are the other developers sacrificing maintenance and design in order to solve today&#39;s problems?</p><p>I&#39;m hoping this question doesn&#39;t get closed as &#34;primarily opinion based&#34; because I&#39;m looking for some answers grounded in real-world experience rather than theory/opinion (since I already believe that I, in theory, am right).</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>&lt;insert rant about how the goal is to deliver value and being RESTful or following some OOAD dictum is not an end unto itself, also YAGNI/&gt;</p><p>I think you may have a (common) misunderstanding of REST. I don&#39;t know if this is the case, but some of what you&#39;ve said suggests that you might have a roughly one-to-one correspondence between REST resources and database tables. Even if you don&#39;t, the &#34;dilemma&#34; you articulate is a false one. Nothing about REST or any other design principle is stopping you from having something like <code>/person/3/recurring_payment/</code><sup>1</sup> <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1" rel="noreferrer">It&#39;s completely okay and <em>expected</em> to have multiple resources that refer to the same entity</a>. A POST to such a resource may do all the work of creating a payment method, subscription, and transaction. This might lead to a <code>/person/3/recurring_payment/1</code> resource which may just be an alias for the created transaction or may provide a summary of all the relevant data.</p><p>Obviously no software design principle states that you can&#39;t provide convenience functions that combine functionality to capture common recurring patterns. You should still try to find coherent conceptual entities. In fact, it&#39;s not clear to me that your current API isn&#39;t essentially exposing implementation details.</p><p>Finally, I, personally, don&#39;t think REST is actually appropriate for internal APIs in many cases. The goals of REST are to make APIs that are long-lived, independently evolvable by separate administrative domains (e.g. separate companies), and scalable for slowly changing, coarse-grained documents<sup>2</sup>. While these properties are desirable, they are often not requirements of internal APIs. Furthermore, accomplishing them adds implementation and specification complexity as well as issues like increased latency. The result is that in practice many APIs are <a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven" rel="noreferrer">REST in name only</a>. It&#39;s highly likely this applies to your API. For example, have you specified <em>any</em> media types? If not, you&#39;re probably not doing REST. Which is fine, but you should probably stop vaguely striving toward it. There are also, now, new API patterns that are clearly striking out in a different direction than REST, e.g. <a href="http://graphql.org/" rel="noreferrer">GraphQL</a>. Time will tell how they do, but REST is not some perfect ideal of API design.</p><p><sup>1</sup> This suggestion is just to have something concrete to talk about. There&#39;s another common misconception about REST which is that it is somehow about organizing your URI paths in certain ways. In reality, REST doesn&#39;t care how your URIs paths are organized and ideally a client could (and should) be completely ignorant of it. This leads to things like <a href="https://en.wikipedia.org/wiki/HATEOAS" rel="noreferrer">HATEOAS</a>.</p><p><sup>2</sup> <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5" rel="noreferrer">&#34;The REST interface is designed to be efficient for large-grain hypermedia data transfer, optimizing for the common case of the Web, but resulting in an interface that is not optimal for other forms of architectural interaction.&#34;</a></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-payment-gateways-and-restful-api/'>Rest &#8211; Payment Gateways and RESTful API</a></li><li class="list-group-item"><a href='../rest-autocomplete-endpoint-design/'>REST autocomplete endpoint design</a></li><li class="list-group-item"><a href='../rest-incorporate-a-background-job-enqueue-endpoint-in-a-rest-api/'>Rest &#8211; Incorporate a background job enqueue endpoint in a REST API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>