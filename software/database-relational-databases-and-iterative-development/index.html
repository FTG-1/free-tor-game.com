<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Database &#8211; Relational databases and iterative development &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1087097 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1087097" class="post-1087097 software type-software status-publish hentry category-software tag-agile tag-database tag-domain-driven-design tag-ooad tag-relational-database"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Database &#8211; Relational databases and iterative development</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">agile</span><span class="mr-2 badge badge-info">database</span><span class="mr-2 badge badge-warning">domain-driven-design</span><span class="mr-2 badge badge-primary">ooad</span><span class="mr-2 badge badge-danger">relational-database</span></p><div class="entry-content"><p>In many approaches to software development like agile methodologies, Domain-Driven Design and Object Oriented Analysis and Design, we are encouraged to take one iterative approach to development.</p><p>So we are not supposed to get our domain model done right in the first time we start working in the project. Instead, as time goes by we refactor the model because we gain deeper understanding of the problem domain with time.</p><p>Apart from that, even if we try to get a perfect model upfront, which I&#39;m already convinced is very hard, requirements may change. So after the software <em>has</em> been deployed to production, the end users might notice that a certain requirement wasn&#39;t completely understood, or worse, some requirement was missing.</p><p>The point here is that we may end up needing to change the model after the software has been deployed. If this happens we have a problem: the production database <em>has user&#39;s data which is important and is already fitted in the format for the old model</em>.</p><p>Updating the code might be a hard task if the code is not well designed and if the system is big. But it can be done with time, we have tools like Git which help us do that without damaging the production-ready version.</p><p>On the other hand, if the model changes, if properties of classes disappear or whatever, the database should also change. But we have a problem: there&#39;s already data there which cannot be lost, which is already formated for the old model.</p><p>It seems that a relational database here is being a barrier preventing us from doing iterative development and even updating software when required by end users.</p><p>One approach I&#39;ve already used was to code a special class which maps old database tables to new ones. So these classes pick data in old format, convert it to the format used by the new model, and save to the new tables.</p><p>This approach seems not to be the best one. My question here is: are there any well-known and recomended approaches to reconcile iterative development with relational databases?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It does not have to be special classes, but yes, you need something that will take the database in previous format and convert it to the current one.</p><p>The thing here is that you need to develop a process for writing and testing these scripts and discipline to never touch the testing and production databases by hand, but always by migration scripts.</p><p>Every time you need to do a change to the database, you write a script that will do it, whether in SQL or using your ORM layer, and commit it to your version control together with the changes that require the new schema. Then you have some control script that will upgrade the database by applying all the migration scripts that were not applied yet in a sequence.</p><p>And make sure you only ever modify any shared devel, test and QA environments by applying the scripts and rolling back to earlier version if they don&#39;t work, so you can be reasonably confident they will work as intended when you unleash them on the production.</p><p>New installation is simply done by applying all the scripts. After a time, you will might have hundreds of them and think that it is very inefficient, but don&#39;t fall into the trap of trying to optimize it. Installation is a one-time activity and keeping it reliable trumps making it fast.</p><p>@Doc Brown already linked <a href="http://martinfowler.com/articles/evodb.html" rel="nofollow noreferrer">Martin Fowler: Evolutionary Database Design</a> and <a href="https://stackoverflow.com/questions/334059/agile-development-and-database-changes">https://stackoverflow.com/questions/334059/agile-development-and-database-changes</a>, and I&#39;d add <a href="http://thedailywtf.com/articles/Database-Changes-Done-Right" rel="nofollow noreferrer">Alex Papadimoulis: Database Changes Done Right</a>, which is shorter and has some examples.</p><p>As a decent example of tool implementing such process I suggest <a href="http://www.bitbucket.org/zzzeek/alembic" rel="nofollow noreferrer">Alembic</a>. It is based on the Python <a href="http://www.sqlalchemy.org/" rel="nofollow noreferrer">SQLAlchemy</a> framework, but you can use it with other languages and frameworks if they don&#39;t have their own migration support. The Wikipedia page on <a href="https://en.wikipedia.org/wiki/Schema_migration" rel="nofollow noreferrer">Schema Migration</a> lists <a href="https://en.wikipedia.org/wiki/Schema_migration#Available_Tools" rel="nofollow noreferrer">more such tools</a>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../database-when-did-developers-start-making-normalized-relational-databases/'>Database &#8211; When did developers start making normalized relational databases</a></li><li class="list-group-item"><a href='../php-planning-relational-database-one-or-two-tables/'>Php &#8211; Planning relational database &#8211; one or two tables</a></li><li class="list-group-item"><a href='../java-designing-a-system-to-archive-databases-with-referential-integrity/'>Java &#8211; Designing a system to archive databases with referential integrity</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>