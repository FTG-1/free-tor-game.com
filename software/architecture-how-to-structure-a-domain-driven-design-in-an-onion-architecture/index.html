<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture &#8211; How to structure a Domain Driven Design in an Onion Architecture &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067427 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067427" class="post-1067427 software type-software status-publish hentry category-software tag-architecture tag-domain-driven-design tag-onion-architecture"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture &#8211; How to structure a Domain Driven Design in an Onion Architecture</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">domain-driven-design</span><span class="mr-2 badge badge-warning">onion-architecture</span></p><div class="entry-content"><p>I am studying Domain Driven Design and was introduced to the concept of Onion Architecture, which uses the terms of Core, Domain, API, and Infrastructure.</p><p>I am from Java background and am familiar with and typical project structure (legacy MVC pattern) configuration, model (both value and entity), repository, service, controller, and views.</p><p>If I want to build a project as per Onion Architecture, how am I supposed to fit the related components of my structure to Core, Domain, API, and Infrastructure? The API part is understandable but I am confused with Core and Infrastructure.</p><p>Say for example all Business logic related to domain goes inside domain including Entity value Objects repository etc.</p><p>What is then  the Core and what is in the Infrastructure? I can&#39;t understand the explanation bellow</p><blockquote><p><em>Core</em> is the building blocks not specific to any domain or technology,<br /> containing generic building blocks like lists, case classes and<br /> actors. It will never include technological concepts, e.g. REST or<br /> databases.</p><p><em>Infrastructure</em> is the outermost layer containing adapters for various<br /> technologies such as databases, user interface and external services.<br /> It has access all the inner layers but most operations should go<br /> through the API, one exception being domain interfaces with<br /> infrastructure implementations.</p></blockquote><p>Can you help me  to get a clear understanding of the concepts about these two layers?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h3>Overview</h3><p>Let&#39;s step back a little, and look at the original <a href="http://jeffreypalermo.com/blog/the-onion-architecture-part-1/" rel="nofollow noreferrer">Onion Architecture proposed by Jeffrey Palermo</a>.</p><p>The outside skin is the interface to the external world: the user interface, the test suite (the idea is to promote TDD alike systematic tests for everything inside), and the infrastructure.</p><p>Then you dig deeper inside towards the core to find application services,
domain services, and domain objects (in the core of the core).</p><h3>Infrastructure</h3><p>Infrastructure has a different meaning here than elsewhere.  It is in fact the interface to the outside world, and especially to services sourced outside, such as database management systems or external web-services, local or cloud storage service, etc.</p><p>The term &#34;adapter&#34; is directly inspired from Cockburn&#39;s <a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)" rel="nofollow noreferrer">hexagonal architecture</a>:  the idea is that the inner side of the adapter remains unchanged, but the external part can vary.  Hence,  one day you work with an Oracle adapter connecting your application services to an Oracle DBMS, the day after, you can develop a MongoDB adapter to switch to Mongo as new persistence layer.</p><p>So the platform and OS specific stuffs should be in the infrastructure layer.  If you follow this logic, everything which is in the inner circles is platform neutral (&#34;technology neutral&#34; may be misleading).</p><h3>Towards the core</h3><p>Here you have an <a href="http://jeffreypalermo.com/blog/the-onion-architecture-part-2/" rel="nofollow noreferrer">example of mapping</a> in the original onion architecture:</p><ul><li>Domain objects (entities, value objects, aggregates) are in the core</li><li>Around domain, you&#39;ll have domain services (e.g. repositories, services, etc...)</li><li>And still around you have the application services, i.e. the services to which user interface or other interfaces are connected.</li></ul><p>However, <a href="https://www.infoq.com/news/2014/10/ddd-onion-architecture" rel="nofollow noreferrer">Wade Waldron</a>&#39;s variant is a little different for the inner part:</p><ul><li>The core is made of building application blocks which are domain independent, and used by the domain.  It&#39;s like those offered by a standard library.  Personally, I have the feeling that this is not a good idea: those basic constructs do not fit into this structure.  They are indeed used by the next ring, but they may also used by any other ring, diretly, even without going through the domain.  In fact the core should be  orthogonal to this architectureit. In other words, you may use a list anywhere in the architecture, without having to go through the successive rings to the core.</li><li>Ok, the domain is clear, but he puts there everything which is domain related, including: entities, value objects, aggregates, and also repositories, factories and domain services. So he regroups domain objects and domain services of the original model.</li><li>Ok, API is obvious: it&#39; corresponds to the application services in the original architecture, those which are not accessible directly, but via the outside ring.</li></ul><p><a href="https://www.youtube.com/watch?v=pL9XeNjy_z4" rel="nofollow noreferrer">This video</a> shall explain in detail and with example Waldron&#39;s variant of the Onion architecture.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-domain-driven-design-in-net-project-structure/'>C# &#8211; Domain Driven Design in Net &#8211; Project Structure</a></li><li class="list-group-item"><a href='../c-domain-driven-design-in-an-onion-architecture/'>C# &#8211; Domain Driven Design in an Onion Architecture</a></li><li class="list-group-item"><a href='../java-what-are-application-and-domain-services-in-onion-architecture/'>Java &#8211; What are application and domain services in onion architecture</a></li><li class="list-group-item"><a href='../avoiding-repository-pattern-implementing-onion-architecture-with-dbcontext-only/'>Avoiding Repository pattern &#8211; implementing Onion Architecture with DbContext only</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>