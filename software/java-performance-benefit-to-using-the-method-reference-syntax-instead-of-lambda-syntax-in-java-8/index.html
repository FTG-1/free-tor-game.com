<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211;  performance benefit to using the method reference syntax instead of lambda syntax in Java 8 &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064460 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064460" class="post-1064460 software type-software status-publish hentry category-software tag-java tag-java8 tag-lambda tag-performance tag-syntax"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211;  performance benefit to using the method reference syntax instead of lambda syntax in Java 8</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">java8</span><span class="mr-2 badge badge-warning">lambda</span><span class="mr-2 badge badge-primary">performance</span><span class="mr-2 badge badge-danger">syntax</span></p><div class="entry-content"><p>Do method references skip the overhead of the lambda wrapper?  Might they in the future?</p><p>According to the <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html" rel="noreferrer">Java Tutorial on Method References</a>:</p><blockquote><p>Sometimes&#8230; a lambda expression does nothing but call an existing method.<br /> In those cases, it&#39;s often clearer to refer to the existing method by<br /> name. Method references enable you to do this; they are compact,<br /> easy-to-read lambda expressions for methods that already have a name.</p></blockquote><p>I prefer the lambda syntax to the method reference syntax for several reasons:</p><h3>Lambdas are clearer</h3><p>Despite Oracle&#39;s claims, I find the lambda syntax easier-to-read than the object method reference short-hand because the method reference syntax is ambiguous:</p><pre><code>Bar::foo
</code></pre><p>Are you calling a static one-argument method on the class of x and passing it x?</p><pre><code>x -&gt; Bar.foo(x)
</code></pre><p>Or are you calling a zero-argument instance method on x?</p><pre><code>x -&gt; x.foo()
</code></pre><p>The method reference syntax could stand in for either one.  It hides what your code is actually doing.</p><h3>Lambdas are safer</h3><p>If you reference Bar::foo as a class method and Bar later adds an instance method of the same name (or vice-versa), your code will no longer compile.</p><h3>You can use lambdas consistently</h3><p>You can wrap any function in a lambda &#8211; so you can use the same syntax consistently everywhere.  The method reference syntax won&#39;t work on methods that take or return primitive arrays, throw checked exceptions, or have the same method name used as an instance and a static method (because the method reference syntax is ambiguous about which method would be called).  They don&#39;t work when you have overloaded methods with the same number of arguments, but you shouldn&#39;t do that anyway (see Josh Bloch&#39;s item 41) so we can&#39;t hold that against method references.</p><h3>Conclusion</h3><p>If there&#39;s no performance penalty for doing so, I&#39;m tempted to turn off the warning in my IDE and use the lambda syntax consistently without sprinkling the occasional method reference into my code.</p><h3>P.S.</h3><p>Neither here nor there, but in my dreams, object method references look more like this and apply invoke-dynamic against the method directly on the object without a lambda wrapper:</p><pre><code>_.foo()
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>In many scenarios, I think lambda and method-reference is equivalent. But the lambda will wrap the invocation target by the declaring interface type.</p><p>For example</p><pre><code>public class InvokeTest {

    private static void invoke(final Runnable r) {
        r.run();
    }

    private static void target() {
        new Exception().printStackTrace();
    }

    @Test
    public void lambda() throws Exception {
        invoke(() -&gt; target());
    }

    @Test
    public void methodReference() throws Exception {
        invoke(InvokeTest::target);
    }
}
</code></pre><p>You will see the console output the stacktrace.</p><p>In <code>lambda()</code>, the method calling <code>target()</code> is <code>lambda$lambda$0(InvokeTest.java:20)</code>, which has traceable line info. Obviously, that is the lambda you write, the compiler generates an anonymous method for you. And then, the caller of the of the lambda method is something like <code>InvokeTest$$Lambda$2/1617791695.run(Unknown Source)</code>, that is the <code>invokedynamic</code> call in JVM, it means the call is <strong>linked to the generated method</strong>.</p><p>In <code>methodReference()</code>, the method calling <code>target()</code> is directly the <code>InvokeTest$$Lambda$1/758529971.run(Unknown Source)</code>, it means the call <strong>is directly linked to the <code>InvokeTest::target</code> method</strong>.</p><h2>Conclusion</h2><p>Above all, compare to method-reference, using lambda expression will only cause <strong>one</strong> more method call to the generating method from lambda.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-already-had-abstract-classes/'>Java &#8211; Why were default and static methods added to interfaces in Java 8 when we already had abstract classes</a></li><li class="list-group-item"><a href='../java-declaring-lambdas-in-java8/'>Java &#8211; Declaring lambdas in Java8</a></li><li class="list-group-item"><a href='../is-this-a-good-pattern-replacing-a-long-function-with-a-series-of-lambdas/'>Is this a good pattern: replacing a long function with a series of lambdas</a></li><li class="list-group-item"><a href='../java-can-multiple-synchronized-methods-in-same-object-run-concurrently/'>Java &#8211; Can multiple synchronized methods in same object run concurrently</a></li><li class="list-group-item"><a href='../lambda-return-type-inference/'>Lambda Return Type Inference</a></li><li class="list-group-item"><a href='../java-is-it-an-antipattern-to-use-peek-to-modify-a-stream-element/'>Java &#8211; Is it an antipattern to use peek() to modify a stream element</a></li><li class="list-group-item"><a href='../java-in-java-8-is-it-stylistically-better-to-use-method-reference-expressions-or-methods-returning-an-implementation-of-the-functional-interface/'>Java &#8211; In Java 8, is it stylistically better to use method reference expressions or methods returning an implementation of the functional interface</a></li><li class="list-group-item"><a href='../java-when-to-call-the-constructor-and-when-to-call-the-method-in-java/'>Java &#8211; When to call the constructor and when to call the method in Java</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>