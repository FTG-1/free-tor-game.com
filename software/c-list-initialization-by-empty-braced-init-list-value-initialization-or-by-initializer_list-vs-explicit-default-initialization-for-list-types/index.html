<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; List initialization by empty braced-init-list (value-initialization or by initializer_list) vs explicit default initialization, for &#8220;list&#8221; types &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079524 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079524" class="post-1079524 software type-software status-publish hentry category-software tag-c tag-c11 tag-constructors"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; List initialization by empty braced-init-list (value-initialization or by initializer_list) vs explicit default initialization, for &#8220;list&#8221; types</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">c++11</span><span class="mr-2 badge badge-warning">constructors</span></p><div class="entry-content"><h3>Background</h3><p>Based on Item 4 in Scott Mayers <em>Effective C++</em>, when appropriate, it can be good practice to initialize all member properties of custom types via the <a href="http://en.cppreference.com/w/cpp/language/initializer_list" rel="nofollow noreferrer">member initialization list</a> (in same order as their declarations), even for non-POD types with accessible default CTOR:s.</p><blockquote><p><em>[Excerpt From: Scott Meyers. “Effective C++ Third Edition 55 Specific Ways to Improve Your Programs and Designs.”]</em></p><p><strong>Item 4: Make sure that objects are initialized before they&#39;re used</strong></p><p>&#8230;</p><p>For objects of built-in type &#8230;, there is no difference in cost<br /> between initialization and assignment, but for consistency, it&#39;s often<br /> best to initialize everything via member initialization. Similarly,<br /> you can use the member initialization list even when you want to<br /> default-construct a data member; just specify nothing as an<br /> initialization argument.”</p><p>&#8230; but having a policy of always listing every data member on the<br /> initialization list avoids having to remember which data members may<br /> go uninitialized if they are omitted.</p></blockquote><p>Now, for member variables which have types that have CTOR:s accepting an <a href="http://en.cppreference.com/w/cpp/utility/initializer_list" rel="nofollow noreferrer"><code>std::initializer_list</code></a> parameter, and where a &#34;list&#34; has a descriptive value itself w.r.t. the type (e.g. for <code>std::vector</code>), even for default construction it could be valuable and descriptive to use an empty braced-init-list in the explicit initialization of the variable in the the member initializer list of the owning type.</p><p>Consider e.g. a custom type with a <code>std::vector</code> member that is to be initialized as empty. For such situations, I&#39;ve seen the following three variations (in the context of explicitly using the member initialization list for the <code>std::vector</code> member):</p><pre><code>// A) Using std::vector:s default CTOR.
struct FooA {
  FooA() : numbers() {};
private:
  std::vector&lt;int&gt; numbers;
};

// B) Using an empty braced-init-list invoking value-initialization;
//    also using std::vector:s default CTOR.
struct FooB {
  FooB() : numbers{} {};
private:
  std::vector&lt;int&gt; numbers;
};

// C) Empty braced-init-list used to explicitly invoke std::vector:s
//    std::initialization_list CTOR.
struct FooC {
  FooC() : numbers({}) {};
private:
  std::vector&lt;int&gt; numbers;
};
</code></pre><p>Where the &#34;descriptive value&#34; of using an empty braced-init-list could be apparent when comparing to the non-empty case:</p><pre><code>// D) Non-empty braced-init-list use to explicitly invoke std::vector:s
//    std::initialization_list CTOR.
struct FooD {
  FooD() : numbers({1, 2, 3}) {};
  /* or: 
  FooD() : numbers{1, 2, 3} {}; */
private:
  std::vector&lt;int&gt; numbers;
};
</code></pre><h3>Questions</h3><ul><li><p><strong>[Q1]</strong> When comparing A &amp; B vs C above: could the latter be non-preferred w.r.t. some overhead when explicitly calling the <code>std::initializer_list</code> CTOR with an empty list? (As compared to simply using the default CTOR directly).</p></li><li><p><strong>[Q2]</strong> W.r.t. best practices/showing intent: could using an empty braced-init-list (B &amp; C) be preferred over an explicit default CTOR call (A) <em>in cases where a &#34;list&#34; has a direct descriptive value</em> to the type which it initializes (e.g. such as <code>std::vector</code>)? Or should we rather prefer to be explicit about the call to the default CTOR (A and possible B), not putting to much weight into describing the &#34;list association&#34; of the type?</p></li></ul><hr/><p><em>(This is my first post at SE-Software Engineering; hopefully it is somewhat <a href="https://softwareengineering.stackexchange.com/help/on-topic">on-topic</a> here, as I deemed in inappropriate for StackOverflow (mostly due to Q2 above); please advice me if otherwise)</em></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You&#39;re effectively talking about the distinction between &#34;value initialization&#34; (<code>T{}</code>) and &#34;here&#39;s a list of values that happens to be empty&#34; (<code>T({})</code>). I would say that best practices should be to do the thing that best describes your intent.</p><p>There is a difference between value initializing a <code>vector</code> and initializing one from a list that just so happens to be empty. In the latter case, you may someday add one or more elements to that list. In the former case, you never will. So you need to do what best describes the meaning of your code.</p><p>As for the question of efficiency, it almost certainly does not matter. You should start from the perspective of code clarity; if performance becomes an issue, you can adjust it later. The choice between &#34;empty list&#34; and &#34;value initialization&#34; is first and foremost about communicating your intent.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>