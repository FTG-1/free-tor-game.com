<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>REST API security Stored token vs JWT vs OAuth &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063316 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063316" class="post-1063316 software type-software status-publish hentry category-software tag-api tag-https tag-oauth tag-rest tag-security"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">REST API security Stored token vs JWT vs OAuth</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">https</span><span class="mr-2 badge badge-warning">oauth</span><span class="mr-2 badge badge-primary">rest</span><span class="mr-2 badge badge-danger">Security</span></p><div class="entry-content"><p>I am still trying to find the best security solution for protecting REST API, because the amount of mobile applications and API is increasing every day.</p><p>I have tried different ways of authentication, but still has some misunderstandings, so I need advice of someone more experienced.</p><p>Let me tell, how I understand all this stuff. If I understand something incorrectly, please let me know.</p><p>As far as REST API is stateless as well as WEB in general, we need to send some auth data in each request(cookies, token&#8230;.). I know three widely used mechanisms to authenticate user</p><ol><li><p>Token with HTTPS. I have used this approach a lot of times it is good enough with HTTPS. If user provides correct password and login, he will receive token in response, and will use it for the further requests. Token is generated by the server and stored, for instance in the table separate or the same where user info is stored. So for each request server checks if user has token and it is the same as in the database. Everything is pretty straightforward.</p></li><li><p>JWT Token. This token is self-descriptive, it contains all necessary information about the token itself, user cannot change for example expiration date or any other claim, because this token is generated (signed) by the server with secret keyword. This is also clear. But one big problem, personally for me, how to invalidate token.</p></li><li><p>OAuth 2. I don&#39;t understand why this approach should be used when communication is established directly between server and client. As far as I understand, OAuth server is used to issue token with restricted scope to allow other applications access user information without storing password and login. This is great solution for the social networks, when user wants to sign up on some page, server can request permissions to get user info, for instance from twitter or facebook, and fill registration fields with user data and so on.</p></li></ol><p>Consider mobile client for online store.</p><p>First question should I prefer JWT over first type token ? As far as I need login/logout user on mobile client, I need to store somewhere token or in case of JWT, token should be invalidated on logout. Different approaches are used to invalidate token one of the is to create invalid token list (black list). Hmm. Table/file will have much bigger size than if token was stored in table and associated with user, and just removed on logout.</p><p>So what are benefits of JWT token ?</p><p>Second question about OAuth , should I use it in case of direct communication with my server?  What is the purpose of one more layer between client and server only to issue token, but communication will be not with oauth server but with the main server. As I understand OAuth server is responsible only for giving third-party apps permissions (tokens) to access user private information. But my mobile client application is not third-party.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Consider the first case.  Each client gets a random ID that lasts for the duration of the session - which could be several days if you like.  Then you store the information relevant to that session somewhere server side.  It could be in a file or a database.  Let&#39;s suppose you pass the ID via a cookie but you could use the URL or an HTTP header.</p><h2>Session IDs/ Cookies</h2><p><strong>Pros:</strong></p><ul><li>Easy to code both the client and server.</li><li>Easy to destroy a session when someone logs out.</li></ul><p><strong>Cons:</strong></p><ul><li>The server side periodically needs to delete expired sessions where the client didn&#39;t logout.</li><li>Every HTTP request requires a lookup to the data store.</li><li>Storage requirements grow as more users have active sessions.</li><li>If there are multiple front end HTTP servers the stored session data needs to be accessible by all of them.  This could be a bit more work than storing it on one server.  The bigger issues are the data store becomes a single point of failure and it can become a bottleneck.</li></ul><h2>JSON Web Tokens (JWT)</h2><p>In the second case the data is stored in a JWT that is passed around instead of on the server.</p><p><strong>Pros:</strong></p><ul><li>The server side storage issues are gone.</li><li>The client side code is easy.</li></ul><p><strong>Cons:</strong></p><ul><li>The JWT size could be larger than a session ID.  It could affect network performance since it is included with each HTTP request.</li><li>The data stored in the JWT is readable by the client.  This may be an issue.</li><li><p>The server side needs code to generate, validate, and read JWTs.  It&#39;s not hard but there is a bit of a learning curve and security depends on it.</p><p>Anyone who gets a copy of the signing key can create JWTs.  You might not know when this happens.</p><p>There was (is?) a bug in some libraries that accepted any JWT signed with the &#34;none&#34; algorithm so anyone could create JWTs that the server would trust.</p></li><li><p>In order to revoke a JWT before it expires you need to use a revocation list.  This gets you back to the server side storage issues you were trying to avoid.</p></li></ul><h2>OAuth</h2><p>Often OAuth is used for authentication (i.e. identity) but it can be used to share other data like a list of content the user has purchased and is entitled to download.  It can also be used to grant access to write to data stored by the third party.  You might use OAuth to authenticate users and then use server side storage or JWT for the session data.</p><p><strong>Pros:</strong></p><ul><li>No code for users to signup or reset their password.</li><li>No code to send an email with a validation link and then validate the address.</li><li>Users do not need to learn/write-down another username and password.</li></ul><p><strong>Cons:</strong></p><ul><li>You depend on the third party in order for your users to use your service.  If their service goes down or they discontinue it then you need to figure something else out.  Eg: how do you migrate the user&#39;s account data if their identity changes from &#34;foo@a.com&#34; to &#34;bar@b.com&#34;?</li><li>Usually you have to write code for each provider.  eg Google, Facebook, Twitter.</li><li>You or your users might have privacy concerns.  The providers know which of their users use your service.</li><li>You are trusting the provider.  It is possible for a provider to issue tokens that are valid for one user to someone else.  This could be for lawful purposes or not.</li></ul><h3>Miscellaneous</h3><ul><li>Both session IDs and JWTs can be copied and used by multiple users.  You can store the client IP address in a JWT and validate it but that prevents clients from roaming from say Wi-Fi to cellular.</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../should-oauth-token-be-shared-to-implement-sso/'>Should OAuth token be shared to implement SSO</a></li><li class="list-group-item"><a href='../api-authentication-one-time-token-vs-dynamic-tokens/'>API Authentication, One time token VS Dynamic tokens</a></li><li class="list-group-item"><a href='../rest-api-security-hmac-key-hashing-vs-jwt/'>REST API security: HMAC/key hashing vs JWT</a></li><li class="list-group-item"><a href='../rest-api-design-dilemma-to-rest-or-not-to-rest/'>Rest &#8211; API design dilemma: to REST or not to REST</a></li><li class="list-group-item"><a href='../rest-token-based-authentication-using-access-and-refresh-tokens/'>Rest &#8211; Token-based authentication using access and refresh tokens</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>