<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Abuse of XML comments to keep comments up-to-date (in C#) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1087733 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1087733" class="post-1087733 software type-software status-publish hentry category-software tag-c tag-comments tag-visual-studio"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Abuse of XML comments to keep comments up-to-date (in C#)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">comments</span><span class="mr-2 badge badge-warning">visual studio</span></p><div class="entry-content"><h3>Problem:</h3><p>Comments deteriorate when renaming a variable/class/method/etc in Visual Studio. Occurrences of said symbol in comments do not get updated by refactoring (no surprise, how could VS know).</p><h3>Partial solution:</h3><p>In XML comments (say, in a <code>&lt;summary&gt;</code> tag), we can use <code>&lt;see cref=&#34;...&#34;/&gt;</code> to refer to anything and get it updated when refactoring. However, to my knowledge, XML comments are used <em>only</em> just before any type/member declaration. What I have been using to mitigate comment deterioration is abusing XML comments by using those all over the place (not only on type/member declarations). A contrived example is</p><p><a href="https://i.stack.imgur.com/1mmH3.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/1mmH3.png" alt="enter image description here"/></a></p><p>Now renaming <code>Program</code> will rename the cref as well. I rename everything all the time and like this approach/abuse, even though the comment itself is admittedly slightly uglier.</p><h3>Question:</h3><p>I suspect that this is not a &#39;best practice&#39;. Is it, and if not, why not? It works&#8230; Is it even common practice?</p><p>Regarding the &#39;why not&#39; question: in particular, what alternative methods exist to prevent comments getting obsolete this way?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Outside the world of Visual Studio, where developers expect everything to happen automagically, <code>grep</code>ing source code is a usual practice, and it actually works very well.</p><p>The problem with Visual Studio&#39;s refactoring tools is that they give a false sense of security by making you feel safe when changing code, while you can easily introduce regressions in any but simplest pieces of code. Even in languages such as C#, there are at least two very popular things which will screw with automated refactoring: Reflection and <code>dynamic</code>. Should I mention what happens when you trust a tool to do a simple rename in a language such as JavaScript?</p><p>At the same time, <code>grep</code> and a bit of code exploration will hardly be tricked by Reflection or <code>dynamic</code>. Since <code>grep</code> is barely returning the occurrences of a given string, it doesn&#39;t care whether this string represents a name of a variable, or occurs in a string, or a comment. It&#39;s up to you, as a developer, to determine whether an occurrence is actually referring to the variable you&#39;re currently renaming, or something different. Clean code with well-chosen names of variables helps tremendously.</p><p>Back to Visual Studio, the rename tool is not limited to code. You can use it as well as a smart <code>grep</code>, which not only knows about the structure of your code, but also searches within strings and comments, and only that; if you&#39;re renaming <code>Cost</code> class to <code>Price</code>, you don&#39;t want to rename <code>Costs</code> in your code, thus limiting the search to strings and comments is actually very clever:</p><blockquote><p>Rename can be used to change the names in comments and in strings and to change the declarations and calls of an identifier.</p></blockquote><p><sup>Source: <a href="https://msdn.microsoft.com/en-us/library/6kxxabwd.aspx" rel="noreferrer">MSDN</a></sup></p><p>All you have to do is, during renaming, to:</p><blockquote><p>Select the <strong>Search in Comments</strong> check box.</p></blockquote><p>But why isn&#39;t there a syntax which makes it possible to put <code>cref</code> in in-code comments? While this question would better be answered by Microsoft&#39;s developers themselves, I could imagine a few reasons:</p><ul><li><p>XML comments syntax, as it is implemented for C#, is quite user-unfriendly, and inherits the user-unfriendliness of XML.</p><p>Heck, even Visual Studio doesn&#39;t support the full syntax (for instance, what happened to <code>&lt;see langword /&gt;</code>, that is, by the way, one of the most used features, given the official formulation of boolean methods <em>“Returns &lt;see langword=&#34;true&#34; /&gt; whether something; otherwise, &lt;see langword=&#34;false&#34; /&gt;.”</em> or the number of <em>“&lt;see langword=&#34;null&#34; /&gt;”</em> one has to put in methods who take by-reference types in parameters?!)</p></li><li><p>In most projects I&#39;ve seen, nobody even cares about <code>cref</code>ing classes and members in XML comments. The ones who actually care are the ones who develop libraries and frameworks which are expected to be reused, and expected to have auto-generated documentation.</p><p>The primary goal of XML comments, after all, is not to make comments refactor-friendly, but to (1) generate documentation and (2) magically provide documentation seamlessly within Visual Studio through tooltips.</p><p>In-code comments, however, are never used this way. Thus, the incentive to spend time writing XML tags becomes extremely low.</p></li><li><p>Referencing the public classes and members within the method doesn&#39;t happen on daily basis. While XML comments are public documentation, and cross-referencing there is a particularly valuable tool, in-code comments are barely explaining something about the code which is unclear for the reader. Therefore, most comments will rather limit themselves to explaining the algorithm itself (or the hack), within the scope of the method itself.</p><p>On occasions, the comment within the method will, however, talk about class members like this:</p><pre><code>// While walking through the sequence, it should be necessary to prevent the
// caller from removing elements of the sequence when `Cleanup` is being
// called. Therefore, before the loop starts, I set `this.lockSequence` to
// `true`, while `Cleanup` checks this variable before doing its job.
</code></pre><p>However, explaining the poor implementation of a locking mechanism, the comment refers not to the public member of the class, but a <code>private bool lockSequence</code>; this makes sense here, but would create an inconsistency with XML documentation which cannot refer to private members.</p></li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/c-how-to-include-in-xml-documentation-comments/'>C# &#8211; How to include in XML documentation comments</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/are-xml-comments-necessary-documentation/'>Are XML Comments Necessary Documentation</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-where-to-put-comments-class-declaration-or-constructor/'>C# &#8211; Where to put comments, class declaration or constructor</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-asterisks-in-multi-line-comments/'>C# &#8211; Asterisks in Multi-line comments</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>