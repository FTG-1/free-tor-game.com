<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Should the async task library swallow exceptions quietly &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084861 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084861" class="post-1084861 software type-software status-publish hentry category-software tag-net"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Should the async task library swallow exceptions quietly</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">net</span></p><div class="entry-content"><p>I&#39;ve just learned that .NET 4.5 introduced a change to how exceptions inside a <code>Task</code> are handled. Namely, they are quietly suppressed.</p><p>The official reasoning for why this was done appears to be &#34;we wanted to be more friendly to inexperienced developers&#34;:</p><blockquote><p>In .NET 4.5, Tasks have significantly more prominence than they did in .NET 4, as they’re baked in to the C# and Visual Basic languages as part of the new async features supported by the languages.  This in effect moves Tasks out of the domain of experienced developers into the realm of everyone.  As a result, it also leads to a new set of tradeoffs about how strict to be around exception handling.</p></blockquote><p>(<a href="http://blogs.msdn.com/b/pfxteam/archive/2011/09/28/10217876.aspx">source</a>)</p><p>I&#39;ve learned to trust that many of the decisions in .NET were made by people who really know what they&#39;re doing, and there is usually a very good reason behind things they decide. But this one escapes me.</p><p>If I were designing my own async task library, what is the advantage of swallowing exceptions that the developers of the Framework saw that I&#39;m not seeing?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>For what it&#39;s worth, <a href="http://blogs.msdn.com/b/pfxteam/archive/2011/09/28/10217876.aspx" rel="nofollow">the document you linked to</a> gives an example case as justification:</p><blockquote><pre><code>Task op1 = FooAsync(); 
Task op2 = BarAsync(); 
await op1; 
await op2;
</code></pre><p>In this code, the developer is launching two asynchronous operations
 to run in parallel, and is then asynchronously waiting for each using
 the new await language feature...[C]onsider what will happen if both
 op1 and op2 fault.  Awaiting op1 will propagate op1’s exception, and
 therefore op2 will never be awaited.  As a result, op2’s exception
 will not be observed, and the process would eventually crash.</p><p>To make it easier for developers to write asynchronous code based on
 Tasks, .NET 4.5 changes the default exception behavior for unobserved
 exceptions.  While unobserved exceptions will still cause the
 UnobservedTaskException event to be raised (not doing so would be a
 breaking change), the process will not crash by default.  Rather, the
 exception will end up getting eaten after the event is raised,
 regardless of whether an event handler observes the exception.</p></blockquote><p>I&#39;m not convinced by this.  It removes the possibility of an unambiguous, but hard to trace error (mysterious program crash that might occurs long after the actual error), but replaces it with the possibility of a completely silent error--which might become an equally hard to trace problem later on in your program.  That seems like a dubious choice to me.</p><p>The behavior is configurable--but of course, 99% of developers are just going to use the default behavior, never thinking about this issue. So what they selected as the default is a big deal.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../windows-service-or-windows-task-scheduler/'>Windows Service or Windows Task Scheduler</a></li><li class="list-group-item"><a href='../relationship-between-task-parallel-library-and-task-based-asynchronous-pattern/'>Relationship between &#8220;Task Parallel Library&#8221; and &#8220;Task-based Asynchronous Pattern&#8221;</a></li><li class="list-group-item"><a href='../c-asyncawait-sync/'>C# &#8211; async+await == sync</a></li><li class="list-group-item"><a href='../c-why-do-we-need-the-async-keyword/'>C# &#8211; Why do we need the async keyword</a></li><li class="list-group-item"><a href='../c-backgroundworker-vs-async-await/'>C# &#8211; BackgroundWorker vs. Async/Await</a></li><li class="list-group-item"><a href='../c-async-network-programming-using-reactive-extensions/'>C# &#8211; Async network programming using Reactive Extensions</a></li><li class="list-group-item"><a href='../how-to-handle-exceptions-that-get-absorbed-by-a-3rd-party-library/'>How to handle exceptions that get absorbed by a 3rd party library</a></li><li class="list-group-item"><a href='../c-should-i-make-the-own-exceptions-or-co-opt-similar-exceptions-for-slightly-non-standard-purposes/'>C# &#8211; Should I make the own exceptions, or co-opt similar exceptions for slightly non-standard purposes</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>