<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Php &#8211;  good way to use the front controller pattern for command line applications &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1086136 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1086136" class="post-1086136 software type-software status-publish hentry category-software tag-design-patterns tag-mvc tag-object-oriented-design tag-php"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Php &#8211;  good way to use the front controller pattern for command line applications</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">mvc</span><span class="mr-2 badge badge-warning">object-oriented-design</span><span class="mr-2 badge badge-primary">PHP</span></p><div class="entry-content"><p>I am a PHP developer and I used to build web applications with one PHP file per page for a very long time. This resulted in duplicated logic and messy code (even though I didn&#39;t know it at the time).</p><p>Then one day a co-worker introduced me to the MVC methodology of organising your web application code base. I also learnt about the front controller pattern during this time and I was amazed at how it simplified everything. Whenever I build web applications now I route all web requests to a single PHP file which uses the front controller pattern to create request and response objects, then dispatch the request to the appropriate controller and action. I am very satisfied with the way everything works and I feel as though my code is cleaner for it!</p><p>I have recently started writing a couple of command line applications for fun in PHP. Within these I have tried to use the front controller pattern but it doesn&#39;t feel quite right. The concept of routing all requests to one file is a little bit redundant because there can only be one entry point (by calling <code>php -f myapp.php -- argumentone argumenttwo</code>).</p><p>It also feels to me as though the concept of routing using controllers and actions is a little bit odd as well. When I have stuck to the MVC pattern with command line applications I almost always end up with one controller with only one or two actions. This seems like a signal that I am not using the front controller (or possibly even the MVC pattern) correctly.</p><p>Is there a better way to handle routing and dispatching requests within a command line application? Does the front controller and MVC pattern only apply to web applications? Is there a better design pattern I should be using for command line applications?</p><p>Thank you in advance and apologies for my long winded ramble! ðŸ˜€</p><p>TLDR &#8211; Is there a pattern similar to the front controller pattern for developing command line applications? At the moment the front controller pattern seems like an odd fit.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;m going to answer my own question after a day of research. In the end this ended up looking more towards cron jobs which support MVC web applications (which isn&#39;t exactly the same as my original question but yielded some interesting information none-the-less). Anyway, here&#39;s what I found:</p><hr/><p><strong>Q. The concept of routing all requests to one file is a little bit redundant because there can only be one entry point?</strong></p><p>A. Correct, it is redundant because command line applications can only have one entry point, the executable file itself. You do not need to use the Front Controller pattern in your executable file unless you have sub commands. A lot of simple command line applications are essentially modelled in the same way as a large Bash script. You may want to use the Front Controller pattern if your command line application has sub commands.</p><p><strong>Q. It also feels to me as though the concept of routing using controllers and actions is a little bit odd as well. When I have stuck to the MVC pattern with command line applications I almost always end up with one controller with only one or two actions. This seems like a signal that I am not using the front controller (or possibly even the MVC pattern) correctly?</strong></p><p>A. That is also correct. If you are building command line applications to support MVC web applications it does not make sense to put your command line application logic inside a controller. In terms of a web application, controllers are for web requests, not command line applications. It should instead go in its own class. Sometimes these classes are referred to as &#34;Tasks&#34; or &#34;Commands&#34; or &#34;Console Commands&#34; within web framework communities.</p><p>Try leaving your controllers just for web requests and adding  those sort of things to a <code>Commands</code> namespace or similar. There is one caveat here though, it is perfectly fine to use the M from MVC (Models) in your commands however. From my research it appears uncommon to utilise the V (views) in console commands either, just handle the output with simple <code>echo</code>s and such.</p><p>Within your <code>Command</code> class it appears that it is very common to have only one method called <code>run</code> or <code>execute</code>. This contains the logic of your command and this leads onto your next question.</p><p><strong>Q. Is there a better way to handle routing and dispatching requests within a command line application?</strong></p><p>A. Yes, leave the MVC pattern alone for a web frameworks as it works well. For running cron jobs add another C to your acronym, that C should represent the word Console. In this new MVCC (that it used in jest, I&#39;m sure that is already a proper acronym for another pattern) web requests come in through a front controller and so on as usual. For cron jobs create a second entry point (outside of the webroot directory) which triggers a specific Console class&#39;s run method to be executed.</p><hr/><p>I hope this will help someone, I&#39;ve included some suggested reading material below:</p><p><a href="http://maxoffsky.com/code-blog/practical-laravel-using-cron-jobs-in-laravel/" rel="nofollow">http://maxoffsky.com/code-blog/practical-laravel-using-cron-jobs-in-laravel/</a> <a href="http://symfony.com/doc/current/components/console/" rel="nofollow">http://symfony.com/doc/current/components/console/</a> <a href="http://book.cakephp.org/2.0/en/console-and-shells.html" rel="nofollow">http://book.cakephp.org/2.0/en/console-and-shells.html</a> <a href="https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html" rel="nofollow">https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html</a></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../php-is-mvc-just-the-seo-of-php-programming/'>Php &#8211; Is MVC just the SEO of PHP programming</a></li><li class="list-group-item"><a href='../javascript-patterns-for-ajax-heavy-web-applications/'>Javascript &#8211; Patterns for ajax-heavy web applications</a></li><li class="list-group-item"><a href='../mvc-should-the-controller-pass-data-to-a-view-in-the-mvc-pattern/'>Mvc &#8211; Should the controller pass data to a view in the MVC pattern</a></li><li class="list-group-item"><a href='../php-using-the-command-pattern-for-a-sequence-of-tasks/'>Php &#8211; Using the command pattern for a sequence of tasks</a></li><li class="list-group-item"><a href='../is-the-command-design-pattern-a-good-way-to-reduce-the-number-of-dependencies-in-the-class/'>Is the command design pattern a good way to reduce the number of dependencies in the class</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>