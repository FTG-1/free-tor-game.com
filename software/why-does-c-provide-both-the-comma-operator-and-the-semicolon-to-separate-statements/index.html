<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Why does C provide both the comma operator and the semicolon to separate statements &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077852 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077852" class="post-1077852 software type-software status-publish hentry category-software tag-c tag-operators tag-programming-languages"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Why does C provide both the comma operator and the semicolon to separate statements</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">operators</span><span class="mr-2 badge badge-warning">programming-languages</span></p><div class="entry-content"><p>Both the comma operator and the semicolon can be used to separate statements. Let&#39;s consider this simple code:</p><pre><code>#include &lt;stdio.h&gt;

void do_something(int*i) {(*i)++;}

int main() {
    int i;
    scanf(&#34;%d&#34;, &amp;i),
    i++,
    do_something((i++, &amp;i)),
    printf(&#34;i is now %d\n&#34;, i);
    if(i == 5) printf(&#34;MAGIC NUMBER\n&#34;);
    return 0;
}
</code></pre><p>I&#39;ve been experimenting when can I use the comma instead of the semicolon. It turns out that the semicolon is mandatory after <code>int i</code> and before <code>return</code> and <code>if</code>; and, of course, after the closing brace.</p><p>Why can&#39;t we have only one statement separating facility? Why weren&#39;t the comma and the semicolon be blended? Their use seems to greatly overlap, only that in some contexts (like before keywords) we can only use the semicolon, while in some other contexts (like in the while loop condition or in a function argument) we can only use the comma.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You are generally right that the comma operator and the semicolon are very similar and both serve as a sequence point. In some languages, there is only a single operator that serves both purposes.</p><p>However, the C syntax is <em>statement-oriented</em>. Statements and Expressions play very different roles in its grammar. So while a semicolon is used to separate <em>statements</em>, the comma operator can be used to separate <em>expressions</em>. This has the advantage of making the syntax a bit more robust. E.g. this is clearly a syntax error:</p><pre><code>foo(f();
g());
</code></pre><p>whereas <code>foo((f(), g()))</code> is valid, but usually bad style.</p><p>In expression-oriented languages, there are no or fewer statement-level syntax constructs. In these languages, there may not be a comma operator. E.g. in Rust, it is possible to embed statements in an expression, like</p><pre><code>foo({ f(); g() });
</code></pre><p>Here, a comma operator is no longer necessary. Note that the GCC compiler offers a similar syntax extension for C and C++. In standard C++11, you can get similar syntax through an immediately invoked lambda:</p><pre><code>foo([]{ f(); return g(); }());
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-ternary-operator-condition-foo-bar-and-the-xor-operator/'>Java &#8211; Ternary operator (condition ? foo : bar) and the XOR (^) operator</a></li><li class="list-group-item"><a href='../c-why-isnt-the-arrow-operator-in-c-just-an-alias-of/'>C++ &#8211; Why isn&#8217;t the arrow operator in C++ just an alias of *.</a></li><li class="list-group-item"><a href='../why-does-division-and-multiplication-by-2-use-the-shift-operator-rather-than-division-operator/'>Why does division and multiplication by 2 use the shift operator rather than division operator</a></li><li class="list-group-item"><a href='../object-oriented-why-most-well-known-imperative-oo-languages-allow-unchecked-access-to-types-that-can-represent-a-nothing-value/'>Object-oriented &#8211; Why most &#8220;well-known&#8221; imperative/OO languages allow unchecked access to types that can represent a &#8216;nothing&#8217; value</a></li><li class="list-group-item"><a href='../why-does-c-provide-language-bindings-where-c-falls-short/'>Why does C provide language &#8216;bindings&#8217; where C++ falls short</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>