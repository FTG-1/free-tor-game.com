<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211;  the use of DTO instead of Entity &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063644 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063644" class="post-1063644 software type-software status-publish hentry category-software tag-dto tag-entity tag-java tag-map tag-spring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211;  the use of DTO instead of Entity</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">dto</span><span class="mr-2 badge badge-info">entity</span><span class="mr-2 badge badge-warning">java</span><span class="mr-2 badge badge-primary">map</span><span class="mr-2 badge badge-danger">spring</span></p><div class="entry-content"><p>I am working on RCP application, I&#39;m new to this application.</p><p>Spring beans are used to write business logic to save/fetch entities.</p><p>But, instead of sending entities directly to client <strong>we are converting to DTOs</strong> and populating client. While saving, we again are converting DTO to entity and saving.</p><p>What&#39;s the benefit of these conversions? Can someone explain?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Whenever a developer asks &#34;what&#39;s the point of doing this?&#34;, what they really mean is &#34;I see no use case where doing this provides a benefit&#34;. To that end, let me show you a few examples.</p><hr/><p>All examples will be based on this simple data model:</p><blockquote><p>A <code>Person</code> entity has five properties: <code>Id, FirstName, LastName, Age, CityId</code></p></blockquote><p>And you can assume that the application uses this data in many varied ways (reports, forms, popups, ...).</p><p>The entire application already exists. Everything I mention is a change to the existing codebase. This is important to remember.</p><hr/><p><strong>Example 1 - Changing the underlying data structure - Without DTO</strong></p><p>The requirements have changed. The age of the person needs to be dynamically retrieved from the government&#39;s database (let&#39;s assume based on their first and last name).</p><p>Since you don&#39;t need to store the <code>Age</code> value locally anymore, it therefore needs to be removed from the <code>Person</code> entity. It&#39;s important here to realize that the entity represents <strong>the database data</strong>, and nothing more. If it&#39;s not in the database, it&#39;s not in the entity.<br/> When you retrieve the age from the government&#39;s web service, that will be stored in a different object (or int).</p><p>But your frontend still displays an age. All the views have been set up to use the <code>Person.Age</code> property, which now no longer exists. A problem presents itself: <strong>All views that refer to the <code>Age</code> of a person need to be fixed</strong>.</p><hr/><p><strong>Example 2 - Changing the underlying data structure - With DTO</strong></p><p>In the old system, there is also <code>PersonDTO</code> entity with the same five properties: <code>Id, FirstName, LastName, Age, CityId</code>. After retrieving a <code>Person</code>, the service layer converts it to a <code>PersonDTO</code> and then returns it.</p><p>But now, the requirements have changed. The age of the person needs to be dynamically retrieved from the government&#39;s database (let&#39;s assume based on their first and last name).</p><p>Since you don&#39;t need to store the <code>Age</code> value locally anymore, it therefore needs to be removed from the <code>Person</code> entity. It&#39;s important here to realize that the entity represents <strong>the database data</strong>, and nothing more. If it&#39;s not in the database, it&#39;s not in the entity.</p><p>However, since you have an intermediary <code>PersonDTO</code>, it&#39;s important to see that this class can <strong>keep</strong> the <code>Age</code> property. The service layer will fetch the <code>Person</code>, convert it to a <code>PersonDTO</code>, it will then also fetch the person&#39;s age from the government&#39;s web service, will store that value in <code>PersonDTO.Age</code>, and passes that object.</p><p>The important part here is that <strong>anyone who uses the service layer doesn&#39;t see a difference between the old and the new system</strong>. This includes your frontend. In the old system, it received a full <code>PersonDTO</code> object. And in the new system, it still receives a full <code>PersonDTO</code> object. <strong>The views do not need to be updated</strong>.</p><p>This is what we mean when we use the phrase <strong>separation of concerns</strong>: There are two different concerns (storing the data in the database, presenting data to the frontend) and they need a different data type each. Even if those two data types happen to contain the same data right now, that might change in the future.<br/> In the given example, <code>Age</code> is a difference between the two data types: <code>Person</code> (the database entity) doesn&#39;t need an <code>Age</code>, but <code>PersonDTO</code> (the frontend data type) does need it.<br/> By separating the concerns (= creating separate data types) from the beginning, the codebase is much more resilient to changes made to the data model.</p><blockquote><p>You might argue that having a DTO object, when a new column is added to the database, means you have to do double work, adding the property in both the entity and the DTO. That is <em>technically</em> correct. It requires a bit of extra effort to maintain two classes instead of one.</p><p>However, you need to compare the effort required. When one or more new columns are added, copy/pasting a few properties doesn&#39;t take all that long. When the data model changes structurally, having to change the frontend, possibly in ways that only cause bugs at runtime (and not at compile time), takes considerably more effort, and it requires the developer(s) to go hunting for bugs.</p></blockquote><hr/><p>I could give you more examples but the principle will always be the same.</p><p><strong>To summarize</strong></p><ul><li>Separate responsibilities (concerns) need to work separately from each other. They should not share any resources such as data classes (e.g. <code>Person</code>)</li><li>Just because an entity and its DTO have the same properties, does not mean that you need to merge them into the same entity. Don&#39;t cut corners.<ul><li>As a more blatant example, let&#39;s say our database contains countries, songs and people. All of these entities have a <code>Name</code>. But just because they all have a <code>Name</code> property, doesn&#39;t mean that we should make them inherit from a shared <code>EntityWithName</code> base class. The different <code>Name</code> properties have no meaningful relation.</li><li>Should one of the properties ever change (e.g. a song&#39;s <code>Name</code> gets renamed to <code>Title</code>, or a person gets a <code>FirstName</code> and <code>LastName</code>), they you&#39;ll have to spend more effort undoing the inheritance <em>which you didn&#39;t even need in the first place</em>.</li><li>Although not as blatant, your argument that you don&#39;t need a DTO when you have an entity is the same. You&#39;re looking at the <em>now</em>, but you&#39;re not preparing for any future changes. <strong>IF</strong> the entity and DTO are exactly the same, and <strong>IF</strong> you can guarantee that there will never be any changes to the data model; then you are correct that you can omit the DTO. But the thing is that you can never guarantee that the data model will never change.</li></ul></li><li>Good practice doesn&#39;t always pay off immediately. It might start paying off in the future, when you need to revisit an old application.</li><li>The main killer of existing codebases is letting the code quality drop, continually making it more difficult to maintain the codebase, until it devolves into a useless mess of spaghetti code that&#39;s unmaintainable.</li><li>Good practice, such as implementing a separation of concerns from the get to, aim to avoid that slippery slope of bad maintenance, in order to keep the codebase maintainable for as long as possible.</li></ul><hr/><p>As a rule of thumb to consider separating concerns, think of it this way:</p><p>Suppose that every concerns (the UI, the database, the logic) is handled by a different person in a different location. They can only communicate by email.</p><p>In a well-separated codebase, a change to a particular concern will only need to be handled by one person:</p><ul><li>Changing the user interface only involves the UI dev.</li><li>Changing the data storage method only involves the database dev.</li><li>Changing the business logic only involves the business dev.</li></ul><p>If all of these developers were using the same <code>Person</code> entity, and a minor change was made to the entity, <strong>everyone</strong> would need to be involved in the process.</p><p>But by using separate data classes for every layer, that issue isn&#39;t as prevalent:</p><ul><li>As long as the database dev can return a valid <code>PersonDTO</code> object, the business and UI dev do not care that he changed how the data is stored/retrieved.</li><li>As long as the business dev stores the data in the database, and provides the needed data to the frontend, the database and UI devs don&#39;t care if he decided to rework his business rules.</li><li>As long as the UI can be designed based around the `PersonViewModel, then the UI dev can built the UI however they want. The database and business devs don&#39;t care how it is done, since it doesn&#39;t affect them.</li></ul><p>The key phrase here is <strong>since it doesn&#39;t affect them</strong>. Implementing a good separation of concerns seeks to minimize affecting (and therefore having to involve) other parties.</p><p><em>Of course, some major changes can&#39;t avoid including more than one person, e.g. when an entirely new entity is added to the database. But don&#39;t underestimate the amount of minor changes that you have to make during an application&#39;s lifetime. Major changes are a numerical minority.</em></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/when-is-it-appropriate-to-map-a-dto-back-to-its-entity-counterpart/'>When is it appropriate to map a DTO back to its Entity counterpart</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/the-best-way-to-create-dtos-from-entities-and-update-entities-from-dtos-in-a-layered-architecture/'>The best way to create DTOs from entities and update entities from DTOs in a layered architecture</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/how-do-entities-dto-doa-work-together-and-whats-their-role-within-a-system/'>How do entities, DTO, DOA work together and what’s their role within a system</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/best-practice-for-references-in-dtos-and-entities-in-spring/'>Best practice for references in DTOs and entities in Spring</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>