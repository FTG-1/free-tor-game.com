<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Using the Decorator pattern to add public methods to an object &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1068076 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1068076" class="post-1068076 software type-software status-publish hentry category-software tag-design tag-design-patterns tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Using the Decorator pattern to add public methods to an object</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">object-oriented</span></p><div class="entry-content"><p>The Decorator pattern is usually used to extend the functionality of an object by extending one of it&#39;s current methods.</p><p>To illustrate, please consider an object <code>object</code> and a decorator <code>decorator</code>. <code>object</code> has one method called <code>methodA()</code>. <code>decorator</code>, because we&#39;re in the Decorator pattern, also has this method by inheritance (both <code>object</code> and <code>decorator</code> eventually inherit from the same super-class which has <code>methodA()</code>. Let&#39;s call it <code>AbstractObject</code>).</p><p><code>methodA()</code> in <code>object</code> looks like this:</p><pre><code>public void methodA(){
    // do stuff
}
</code></pre><p><code>methodA()</code> in <code>decorator</code> looks like this:</p><pre><code>public void methodA(){
    // do some extra stuff.
    wrappedObject.methodA(); // and then delegate to the wrapped object.
}
</code></pre><p>It would be used like this:</p><pre><code>AbstractObject object = new ConcreteObject();
object.methodA(); // does stuff
object = new ConcreteDecorator(object);
object.methodA(); // does stuff and some more stuff. the extended methodA().
</code></pre><p>The point of <code>decorator</code> is to extend the functionality of <code>object</code>, <strong>and it does this by extending one of <code>object</code>&#39;s current methods</strong>. So far, classic Decorator.</p><p><strong>Now, my question:</strong></p><p>As I said Decorator usually extends an object&#39;s functionality by adding content to one of the object&#39;s current methods.</p><p>But what if I wanted to use Decorator to <strong>add public methods to an object</strong>?</p><p>Please consider the following scenario where <code>decorator</code> has another method <code>methodB()</code>:</p><pre><code>AbstractObject object = new ConcreteObject();
object.methodA(); // does stuff
object = new ConcreteDecorator(object);
((ConcreteDecorator)object).methodB();
// methodB() belongs to ConcreteDecorator() but not to AbstractObject().
</code></pre><p>As you see if I wanted to do this, I would have to cast <code>object</code> to <code>ConcreteDecorator</code>.</p><p>This exposes the concrete type of <code>object</code> and the fact that it&#39;s decorated, and as such somewhat defeats the intent of the Decorator pattern. Also, the code invoking <code>methodB()</code> would have to know <code>object</code> is decorated. Again, not very much in the spirit of Decorator.</p><p><strong>In light of this I have two questions:</strong></p><ul><li><p>Is the Decorator pattern ever used this way? Is it ever used to add<br /> public methods to an object, as opposed to only &#39;extending&#39; it&#39;s<br /> current methods?</p></li><li><p>Are there situations where this would be a good idea or a wise use of<br /> Decorator?</p></li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The decorator pattern is typically used to avoid an explosion of subclasses.  A common example involves UI windows that you may want to have any combination of n attributes (scrollbar, titlebar, resizable, movable, etc.).<br/> Supporting all combinations of all those <code>N</code> attributes for all UI windows <code>M</code> subclasses would involve making <code>N * M</code> subclasses.</p><p>The decorator pattern prevents the explosion by wrapping around the base window class&#39; <strong>existing</strong> public methods.<br/> The decorator pattern ideally would only require <code>N + M</code> classes in this case.</p><p>For the case you have described, you are adding <strong>new</strong> public methods; therefore, the decorator pattern probably is not ideal.  I cannot think of any situations where it would be ideal to add new methods via a decorator.</p><p>A few alternatives to consider:</p><h2>Subtyping</h2><p>It is valid to use subtyping to add methods, provided you are keeping the SOLID principles in mind.  Therefore, you might consider extending the concrete object to support methodB and then design the decorator around it.</p><pre><code>AbstractObject object = new ExtendedConcreteObject();
object.methodA(); // does stuff
object = new ConcreteDecorator(object);
(ConcreteDecorator)object.methodB();
// methodB() belongs to ExtendedConcreteObject() but not to AbstractObject()
</code></pre><h2>Adapter Pattern</h2><p>Another way to view the problem:  by adding a public method, you are changing the object&#39;s interface.  This can be done by using the <a href="http://www.oodesign.com/adapter-pattern.html" rel="nofollow noreferrer">adapter</a> pattern.  To keep the concrete decorator simple, you might consider creating a <a href="http://www.oodesign.com/decorator-pattern.html" rel="nofollow noreferrer">decorator</a> and then building an adapter for that decorator.</p><pre><code>AbstractObject object = new ConcreteObject();
object.methodA(); // does stuff
object = new ConcreteDecorator(object);
object = new ConcreteAdapter(object);
(ConcreteAdapter)object.methodB();
// methodB() belongs to ConcreteAdapter() but not to AbstractObject() or ConcreteDecorator().
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-newbie-question-about-decorator-design-pattern/'>Object-oriented &#8211; Newbie question about Decorator design pattern</a></li><li class="list-group-item"><a href='../object-oriented-how-should-i-add-functionality-to-an-object-that-already-exists/'>Object-oriented &#8211; How should I add functionality to an object that already exists</a></li><li class="list-group-item"><a href='../c-using-the-decorator-pattern-in-a-deep-class-hierarchy/'>C++ &#8211; Using the decorator pattern in a deep class hierarchy</a></li><li class="list-group-item"><a href='../how-to-use-the-decorator-pattern-to-add-little-functionality-to-big-objects/'>How to use the Decorator pattern to add little functionality to big objects</a></li><li class="list-group-item"><a href='../object-oriented-arent-decorators-easily-breaking-the-isp/'>Object-oriented &#8211; Aren&#8217;t decorators easily breaking the ISP</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>