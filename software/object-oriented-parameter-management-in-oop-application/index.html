<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Parameter management in OOP application &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070281 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070281" class="post-1070281 software type-software status-publish hentry category-software tag-c tag-design-patterns tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Parameter management in OOP application</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">object-oriented</span></p><div class="entry-content"><p>I&#39;m writing a medium size OOP application in C++ as a way to practice OOP principles.</p><p>I have several classes in my project, and some of them need to access run-time configuration parameters. These parameters are read from several sources during application start-up.  Some are read from a config file in the users home-dir, some are command line arguments (argv).</p><p>So I created a class <code>ConfigBlock</code>. This class reads all the parameter sources and stores it in an appropriate data structure. Examples are path- and filenames which can be changed by user in the config file, or the &#8211;verbose CLI flag. Then, one can call <code>ConfigBlock.GetVerboseLevel()</code> in order to read this specific parameter.</p><p>My question: Is it good practice to collect all such runtime config data in one class?</p><p>Then, my classes need access to all these parameters. I can think of several ways to achieve this, but I&#39;m not sure which one to take. A class&#39; constructor can be a given a reference to my ConfigBlock, like</p><pre><code>public:
    MyGreatClass(ConfigBlock &amp;config);
</code></pre><p>Or they just include a header &#34;CodingBlock.h&#34; which contains a definition of my CodingBlock:</p><pre><code>extern CodingBlock MyCodingBlock;
</code></pre><p>Then, only the classes .cpp file needs to include and use the ConfigBlock stuff.<br /> The .h file does not introduce this interface to the user of the class.<br /> However, the interface to ConfigBlock is still there, however, it&#39;s hidden from the .h file.</p><p>Is it good to hide it this way?</p><p>I want the interface to be as small as possible, but in the end, I guess every class which needs config parameters has to have a connection to my ConfigBlock. But, what should this connection look like?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;m quite the pragmatist, but my main concern here is that you might be allowing this <code>ConfigBlock</code> to dominate your interface designs in a possibly bad way. When you have something like this:</p><pre><code>explicit MyGreatClass(const ConfigBlock&amp; config);
</code></pre><p>... a more appropriate interface might be like this:</p><pre><code>MyGreatClass(int foo, float bar, const string&amp; baz);
</code></pre><p>... as opposed to just cherry-picking these <code>foo/bar/baz</code> fields out of a massive <code>ConfigBlock</code>.</p><p><strong>Lazy Interface Design</strong></p><p>On the plus side, this kind of design makes it easy to design a stable interface for your constructor, e.g., since if you end up needing something new, you can just load that into a <code>ConfigBlock</code> (possibly without any code changes) and then cherry-pick whatever new stuff you need without any kind of interface change, only a change to the implementation of <code>MyGreatClass</code>.</p><p>So it&#39;s both kind of a pro and con that this frees you of designing a more carefully thought-out interface that only accepts inputs it actually needs. It applies the mindset of, <em>&#34;Just give me this massive blob of data, I&#39;ll pick out what I need from it&#34;</em> as opposed to something more like, <em>&#34;These precise parameters are what this interface needs to work.&#34;</em></p><p>So there are definitely some pros here, but they might be heavily outweighed by the cons.</p><p><strong>Coupling</strong></p><p>In this scenario, all such classes being constructed from a <code>ConfigBlock</code> instance end up having their dependencies look like this:</p><p><a href="../../../i.stack.imgur.com/8p0HF.png" rel="noreferrer"><img src="../../../i.stack.imgur.com/8p0HF.png" alt="enter image description here"/></a></p><p>This can become a PITA, for example, if you want to unit test <code>Class2</code> in this diagram in isolation. You might have to superficially simulate various <code>ConfigBlock</code> inputs containing the relevant fields <code>Class2</code> is interested in to be able to test it under a variety of conditions.</p><p>In any kind of new context (whether unit test or whole new project), any such classes can end up becoming more of a burden to (re)use, as we end up having to always bring <code>ConfigBlock</code> along for the ride, and setting it up accordingly.</p><p><strong>Reusability/Deployability/Testability</strong></p><p>Instead if you design these interfaces appropriately, we can decouple them from <code>ConfigBlock</code> and end up with something like this:</p><p><a href="../../../i.stack.imgur.com/Kina2.png" rel="noreferrer"><img src="../../../i.stack.imgur.com/Kina2.png" alt="enter image description here"/></a></p><p>If you notice in this above diagram, all the classes become independent (their afferent/outgoing couplings reduce by 1).</p><p>This leads to a lot more independent classes (at least independent of <code>ConfigBlock</code>) which can be a lot easier to (re)use/test in new scenarios/projects.</p><p>Now this <code>Client</code> code ends up being the one that has to depend on everything and assemble it all together. The burden ends up being transferred to this client code to read the appropriate fields from a <code>ConfigBlock</code> and pass them into the appropriate classes as parameters. Yet such client code is generally narrowly-designed for a specific context, and its potential for reuse is typically going to be zilch or close anyway (it might be your application&#39;s <code>main</code> entry point function or something like that).</p><p>So from a reusability and testing standpoint, it can help to make these classes more independent. From an interface standpoint for those using your classes, it can also help to explicitly state what parameters they need instead of just one massive <code>ConfigBlock</code> which models the whole universe of data fields required for everything.</p><p><strong>Conclusion</strong></p><p>In general, this kind of class-oriented design which depends on a monolith which has everything needed tends to have these kinds of characteristics. Their applicability, deployability, reusability, testability, etc. can get significantly degraded as a result. Yet they can kind of simplify the interface design if we attempt a positive spin on it. It&#39;s up to you to measure those pros and cons and decide whether the trade-offs are worth it. Typically it&#39;s much safer to err against this kind of design where you&#39;re cherry-picking from a monolith in classes that are generally intended to model a more general and widely-applicable design.</p><p>Last but not least:</p><blockquote><p><code>extern CodingBlock MyCodingBlock;</code></p></blockquote><p>... this is potentially even worse (more skewed?) in terms of the characteristics described above than the dependency injection approach, as it ends up coupling your classes not only to <code>ConfigBlocks</code>, but directly to a <em>specific instance</em> of it. That further degrades applicability/deployability/testability.</p><p>My general advice would to err on the side of designing interfaces which don&#39;t depend on these kinds of monoliths to provide their parameters, at least for the most generally-applicable classes you design. And avoid the global approach without dependency injection if you can unless you really have a very strong and confident reason not to avoid it.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-what-to-do-if-i-hate-c-header-files/'>C++ &#8211; What to do if I hate C++ header files</a></li><li class="list-group-item"><a href='../object-oriented-is-this-the-correct-approach-to-an-oop-design-structure-in-php/'>Object-oriented &#8211; Is this the correct approach to an OOP design structure in php</a></li><li class="list-group-item"><a href='../object-oriented-oop-should-i-set-the-database-connection-as-public-for-other-classes-to-use-it-although-it-might-be-unsafe/'>Object-oriented &#8211; OOP &#8211; Should I set the database connection as `public` for other classes to use it, although it might be unsafe</a></li><li class="list-group-item"><a href='../object-oriented-avoiding-constructors-with-many-arguments/'>Object-oriented &#8211; Avoiding constructors with many arguments</a></li><li class="list-group-item"><a href='../c-clean-oop-design-how-to-implement-single-responsibility-and-no-procedural-programming/'>C# &#8211; Clean OOP-Design: How to implement single responsibility and no procedural programming</a></li><li class="list-group-item"><a href='../object-oriented-is-introduce-parameter-object-actually-a-good-pattern/'>Object-oriented &#8211; Is &#8220;Introduce Parameter Object&#8221; actually a good pattern</a></li><li class="list-group-item"><a href='../object-oriented-handling-different-parameters-for-derived-classes/'>Object-oriented &#8211; Handling Different Parameters for Derived Classes</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>