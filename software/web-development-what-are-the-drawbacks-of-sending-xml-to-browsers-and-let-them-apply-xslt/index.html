<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Web-development &#8211; What are the drawbacks of sending XML to browsers and let them apply XSLT &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075325 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075325" class="post-1075325 software type-software status-publish hentry category-software tag-web-development"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Web-development &#8211; What are the drawbacks of sending XML to browsers and let them apply XSLT</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">web-development</span></p><div class="entry-content"><p><strong>Context</strong></p><p>Working as a freelance developer, I often made websites completely based on XSLT. In other words, on <em>every</em> request, an XML file is generated, containing everything we need to know about the page content: the name of the user currently logged in, the top menu entries, if this menu is dynamic/configurable, the text to display in a specific area of the page, etc. Then XSL process (caches, etc.) it to HTML/XHTML page to send to the browser.</p><p>It has a good point to make it easier to create small-scale websites, especially with PHP. It is a sort of template engine, but which I prefer to other template engines because it&#39;s much more powerful than most of template engines, and because I know it better and like it. It is also possible, when need, to give an access to raw XML data on demand for an automated access, without the need to create separate APIs.</p><p>Of course, it will fail completely on any medium-scale or large-scale website, since, even with good caching techniques, XSL still degrades overall website performance and requires more CPU serverside.</p><p><strong>Question</strong></p><p>Modern browsers have the ability to take an XML file and to transform it with an associated XSL file declared in XML like <code>&lt;?xml-stylesheet href=&#34;demo.xslt&#34; type=&#34;text/xsl&#34;?&gt;</code>. Firefox 3 can do it. Internet Explorer 8 can do it too.</p><p>It means that it is possible to migrate XSL processing from the server to the client side for 50% of users (according on browser statistics on several websites where I may want to implement this). It means that those 50% of users will receive only the XML file at each request, thus reducing their and server&#39;s bandwidth (XML file being much shorter than its processed HTML analog), and reducing server&#39;s CPU usage.</p><p>What are the drawbacks of this technique?</p><p>I thought about several ones, but it doesn&#39;t apply in this situation:</p><ul><li>Difficult implementation and the need to choose, based on the browser request, when to send raw XML and when to transform it to HTML instead. Obviously, the system will not be much more difficult then the actual one. The only change to make is to add XSL file link to every XML, and to add a browser check.</li><li>More IO and bandwidth usage, since the XSLT file will be downloaded by the browsers, instead of being cached by the server. I don&#39;t think it will be a problem, since XSLT file will be cached by the browsers (like images, or CSS, or JavaScript files are cached actually).</li><li>Possibly some problems on client side, like maybe problems when saving a page in some browsers.</li><li>Difficulty to debug code: it is impossible to obtain an HTML source the browser is actually using, since the only displayed source is the downloaded XML. On the other hand, I rarely go look at HTML code on client side, and in most cases, it is unusable directly (whitespace being removed).</li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h3>Browsers can&#39;t progressively render XSLT</h3><p>This means that <em>nothing</em> else loads and nothing is displayed until all data and the whole stylesheet is loaded and processed.</p><p>You&#39;re missing out on progressive rendering and prefetching of images, CSS &amp; JS.</p><h3>Initial load is delayed by another request</h3><p>For small-ish files (&lt;20kb) <em>number of requests, not bandwidth, is the bottleneck</em> for front-end performance, and most pages and stylesheets will fall into this category.</p><p>If you have large pages, then it&#39;s even worse — see the first point.</p><h3>You probably aren&#39;t saving any bandwidth</h3><p>XSLT itself is quite verbose and might need to contain templates for the whole site and logic for all rare cases, not just the things used on the current page.</p><p>You still have to include all data marked up in the main XML file you&#39;re sending, e.g. if you&#39;re sending a blog post, then there&#39;s no magic that XSLT can do to make it substantially smaller. If you&#39;re sending complex data, then it&#39;ll have lots of markup anyway.</p><h3>Caches are overrated</h3><p>Browser caches are <a href="http://yuiblog.com/blog/2007/01/04/performance-research-part-2/" rel="noreferrer">not that great</a>:</p><blockquote><p>40-60% of Yahoo!’s users have an empty cache experience and ~20% of all page views are done with an empty cache.</p></blockquote><p>and on mobile, where latency makes extra requests most expensive, <a href="http://www.yuiblog.com/blog/2010/07/12/mobile-browser-cache-limits-revisited/" rel="noreferrer">caches are even worse</a>.</p><p>Check your bounce rate — those are users who don&#39;t benefit from cached XSLT, and even pay extra price to download the stylesheet and wait for it to be processed.</p><h3><code>gzip</code> is a reverse XSLT</h3><p>Most transformations done via XSLT come down to changing terse markup to more verbose one and adding repetition. But gzip is great at removing repetition/redundancy from files!</p><p>You should be using gzip anyway (it&#39;s wasteful to send XML uncompressed). It&#39;s very likely that gzipped size of processed document will be about the same as gzipped size of unprocessed XML — but you won&#39;t have to send extra XSLT, and browsers will be able to start rendering as soon as first packets arrive.</p><h3>Clients might be slow</h3><p>Even assuming best case of loading from cache, XSLT processing on client-side is faster only if user&#39;s CPU is faster, and their XSLT engine is faster.</p><p>On server-side you can do all kinds of optimisation tricks (e.g., cache processed fragments or even whole pages). You can use latest, fastest XSLT processor (browsers have only XSLT 1.0 and likely not very optimized). And your server probably has beefier CPU than many cheap office computers, phones, etc.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/web-development-structure-of-a-single-page-app/'>Web-development &#8211; Structure of a single page app</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/web-development-how-to-safely-chain-several-api-requests-for-a-single-user/'>Web-development &#8211; How to safely chain several API requests for a single user</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>