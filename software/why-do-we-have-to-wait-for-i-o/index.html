<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Why do we have to wait for I/O &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064924 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064924" class="post-1064924 software type-software status-publish hentry category-software tag-cpu tag-io tag-operations"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Why do we have to wait for I/O</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">cpu</span><span class="mr-2 badge badge-info">io</span><span class="mr-2 badge badge-warning">operations</span></p><div class="entry-content"><p>It&#39;s always been known that Disk operations are slow and we know the reasons why they are slow.<br /> So the question here is why do we have to wait for I/O or why is there such a thing as IOWait, etc.?</p><p>I mean I&#39;ve noticed that when you&#39;re doing some I/O tasks in the background, your computer basically gets a lot slower, I&#39;ve especially noticed that when using Linux, if you&#39;re doing some longer I/O tasks, the OS becomes almost unusable until they are completed.</p><p>Indeed, I also found this topic in an article, there&#39;s a snippet:</p><blockquote><p>I/O wait is 12.1%. This server has 8 cores (via cat /proc/cpuinfo). This is very close to (1/8 cores = 0.125)</p></blockquote><p>So basically it means it&#39;s slowing down the computer a LOT, why is that? I mean OK, now the normal computer are at least 2 cores, sometimes 4 or sometimes they have more because of hyperthreading or something like that. But now the question is why the CPU actually has to stay there, practically not doing anything else than just waiting for IO? I mean the basic idea or architecture of the process managament, now I don&#39;t know whether it&#39;s the OS who&#39;s responsible for that, or does it come down to the hardware part, but it should be made possible for the cpu to wait or to check regularly, while actually performing lots of other tasks and only going back to the IO process when it&#39;s ready. Indeed, if that&#39;s such a difficult task and the cpu would have to wait, why isn&#39;t that managed by hardware more efficiently then? Like for instance there could be some kind of mini cpu which would just wait for it and deliver the small part of data to the real cpu as soon as it gets back to the process and so the process would be repeated and we wouldn&#39;t have to practically dedicate a whole cpu core for the data copy process&#8230; Or would I be the one who should invent this kind of stuff and get a nobel prize for that? :S</p><p>Now okay, I&#39;m really putting it now from an observers perspective and I really haven&#39;t gone that deep into the topic, but I really don&#39;t understand why the cpu has to work with the speed of HDD, while it could just do something else and come back to HDD once it&#39;s ready. The idea is not to speed up the application who needs that IO operation or the copy process or whatever, but the idea is to just minimally affect the CPU consumption while performing that operation, so that the OS could utilise it for other processes and the user wouldn&#39;t have to feel general computer lag when doing some copying operations&#8230;</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The I/O schemes you are describing are in current use in computers.</p><blockquote><p>why the CPU actually has to stay there, practically not doing anything else than just waiting for IO?</p></blockquote><p>This is the simplest possible I/O method: <strong>programmed I/O</strong>. Many embedded systems and low/end microprocessors have only a single input instruction and a single output instruction. The processor must execute an explicit sequence of instructions for every character read or written.</p><blockquote><p>but it should be made possible for the cpu to wait or to check regularly, while actually performing lots of other tasks and only going back to the IO process when it&#39;s ready</p></blockquote><p>Many personal computers have other I/O schemes. Instead of waiting in a tight loop for the device to become ready (<strong>busy waiting</strong>), the CPU starts the I/O device asking it to generate an interrupt when it&#39;s done (<strong>interrupt driven I/O</strong>).</p><p>Although interrupt-driven I/O is a step forward (compared to programmed I/O), it requires an interrupt for every character transmitted and it&#39;s expensive...</p><blockquote><p>Like for instance there could be some kind of mini cpu which would just wait for it and deliver the small part of data to the real cpu as soon as it gets back to the process and so the process would be repeated and we wouldn&#39;t have to practically dedicate a whole cpu core for the data copy process...</p></blockquote><p>The solution to many problems lies in having someone else do the work! :-)</p><p>The DMA controller/chip (Direct Memory Access) allows programmed I/O but having somebody else do it!</p><p>With DMA the CPU only has to initialize a few registers and it&#39;s free to do something else until transfer is finished (and an interrupt is raised).</p><p>Even DMA isn&#39;t totally free: high speed devices can use many bus cycles for memory references and device references (<strong>cycle stealing</strong>) and the CPU has to wait (DMA chip always has a higher bus priority).</p><blockquote><p>I/O wait is 12.1%. This server has 8 cores (via cat /proc/cpuinfo). This is very close to (1/8 cores = 0.125)</p></blockquote><p>I think this is from: <a href="http://blog.scoutapp.com/articles/2011/02/10/understanding-disk-i-o-when-should-you-be-worried"> Understanding Disk I/O - when should you be worried?</a></p><p>Well it isn&#39;t strange: the system (mySQL) must fetch all the rows before manipulating data and there aren&#39;t other activities.</p><p>Here there isn&#39;t a computer architecture / OS issue. It&#39;s just how the example is set.</p><p>At most it could be a RDBMS tuning problem or a SQL query problem (missing index, bad query plan, bad query...)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/why-do-executables-depend-on-the-os-but-not-on-the-cpu/'>Why do executables depend on the OS but not on the CPU</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/python-how-to-maximize-the-cpu-usage-of-a-python-subprocess/'>Python &#8211; How to maximize the CPU usage of a Python subprocess</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-separate-thread-pools-for-i-o-and-cpu-tasks/'>Java &#8211; Separate Thread Pools for I/O and CPU Tasks</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/one-thread-for-all-database-operations-or-one-thread-for-each-db-operations/'>One thread for all database operations or one thread for each db operations</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/comparison-of-build-times-on-various-hardware-why-non-linear-results/'>Comparison of build times on various hardware; why non-linear results</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/does-it-ever-make-sense-to-use-more-concurrent-processes-than-processor-cores/'>Does it ever make sense to use more concurrent processes than processor cores</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>