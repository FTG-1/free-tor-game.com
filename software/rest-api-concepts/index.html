<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>REST API concepts &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069015 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069015" class="post-1069015 software type-software status-publish hentry category-software tag-api tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">REST API concepts</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">rest</span></p><div class="entry-content"><p>I have three questions about REST API design that I&#39;m hoping someone can shed some light on. I&#39;ve searched relentlessly for many hours but haven&#39;t found answers to my questions anywhere (maybe I just don&#39;t know what to search for?).</p><p><strong>Question 1</strong></p><p>My first question has to do with actions/RPC. I&#39;ve been developing a REST API for a while and I&#39;m used to thinking of things in terms of collections and resources. However, I&#39;ve come across a couple cases where the paradigm doesn&#39;t seem to apply and I&#39;m wondering if there is a way to reconcile this with the REST paradigm.</p><p>Specifically, I have a case where modifying a resource causes an email to be generated. However, at a later point the user can specifically indicate that they want to resend the email that was sent earlier. When resending the email no resource is modified. No state is changed. It&#39;s simply an action that needs to occur. The action is tied to the specific resource type.</p><p>Is it appropriate to mix some sort of action call with a resource URI (e.g. <code>/collection/123?action=resendEmail</code>)? Would it be better to specify the action and pass the resource id to it (e.g. <code>/collection/resendEmail?id=123</code>)? Is this the wrong way to be going about it? Traditionally (at least with HTTP) the action being performed is the request method (GET, POST, PUT, DELETE), but those don&#39;t really allow for custom actions with a resource.</p><p><strong>Question 2</strong></p><p>I use the querystring portion of the URL to filter the set of resources returned when querying a collection (e.g. <code>/collection?someField=someval</code>). Within my API controller I then determine what kind of comparison it is going to do with that field and value. I&#39;ve found this really doesn&#39;t work. I need a way to allow the API user to specify the type of comparison they want to perform.</p><p>The best idea I&#39;ve come up with so far is to allow the API user to specify it as an appendage to the field name (e.g. <code>/collection?someField:gte=someval</code> &#8211; to indicate that it should return resources where <code>someField</code> is greater than or equal to (&gt;=) whatever <code>someval</code> is. Is this a good idea? A bad idea? If so, why? Is there a better way to allow the user to specify the type of comparison to perform with the given field and value?</p><p><strong>Question 3</strong></p><p>I often see URI&#39;s that look something like <code>/person/123/dogs</code> to get the <code>person</code>s <code>dogs</code>. I generally have avoided something like that because in the end I figure that by creating a URI like that you are actually just accessing a <code>dogs</code> collection filtered by a specific <code>person</code> ID. It would be equivalent to <code>/dogs?person=123</code>. Is there ever really a good reason for a REST URI to be more than two levels deep (<code>/collection/resource_id</code>)?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Is it appropriate to mix some sort of action call with a resource URI (e.g. <code>/collection/123?action=resendEmail</code>)? Would it be better to specify the action and pass the resource id to it (e.g. <code>/collection/resendEmail?id=123</code>)? Is this the wrong way to be going about it? Traditionally (at least with HTTP) the action being performed is the request method (GET, POST, PUT, DELETE), but those don&#39;t really allow for custom actions with a resource.</p></blockquote><p>I&#39;d rather model that in a different way, with a collection of resources representing the emails that are to be sent; the sending will be processed by the internals of the service in due course, at which point the corresponding resource will be removed. (Or the user could DELETE the resource early, causing a canceling of the request to do the send.)</p><p>Whatever you do, don&#39;t put verbs in the resource name! That&#39;s the noun (and the query part is the set of adjectives). Nouning verbs weirds REST!</p><blockquote><p>I use the querystring portion of the URL to filter the set of resources returned when querying a collection (e.g. <code>/collection?someField=someval</code>). Within my API controller I then determine what kind of comparison it is going to do with that field and value. I&#39;ve found this really doesn&#39;t work. I need a way to allow the API user to specify the type of comparison they want to perform.</p><p>The best idea I&#39;ve come up with so far is to allow the API user to specify it as an appendage to the field name (e.g. <code>/collection?someField:gte=someval</code> - to indicate that it should return resources where someField is greater than or equal to (<code>&gt;=</code>) whatever <code>someval</code> is. Is this a good idea? A bad idea? If so, why? Is there a better way to allow the user to specify the type of comparison to perform with the given field and value?</p></blockquote><p>I&#39;d rather specify a general filter clause and have that as an optional query parameter on any request to fetch the contents of the collection. The client can then specify exactly how to restrict the set returned, in whatever way you desire. I&#39;d also worry a bit about the discoverability of the filter/query language; the richer you make it, the harder it is for arbitrary clients to discover. An alternative approach which, at least theoretically, deals with that discoverability issue is to allow making restriction sub-resources of the collection, which clients obtain by POSTing a document describing the restriction to the collection resource. It&#39;s still a slight abuse, but at least it&#39;s one you can clearly make discoverable!</p><p>This sort of discoverability is one of the things that I find least strong with REST.</p><blockquote><p>I often see URI&#39;s that look something like <code>/person/123/dogs</code> to get the persons dogs. I generally have avoided something like that because in the end I figure that by creating a URI like that you are actually just accessing a dogs collection filtered by a specific person ID. It would be equivalent to <code>/dogs?person=123</code>. Is there ever really a good reason for a REST URI to be more than two levels deep (<code>/collection/resource_id</code>)?</p></blockquote><p>When the nested collection is truly a sub-feature of the outer collection&#39;s member entities, it is reasonable to structure them as a sub-resource. By “sub-feature” I mean something like UML composition relation, where destroying the outer resource naturally means destroying the inner collection.</p><p>Other types of collection can be modeled as an HTTP redirect; thus <code>/person/123/dogs</code> can indeed be responded to by doing a 307 that redirects to <code>/dogs?person=123</code>. In this case, the collection isn&#39;t actually UML composition, but rather UML aggregation. <em>The difference matters; it is significant!</em></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-trailing-slash-in-restful-api/'>Rest &#8211; Trailing slash in RESTful API</a></li><li class="list-group-item"><a href='../restful-applications-logic-and-cross-resource-operations/'>RESTful applications logic and cross resource operations</a></li><li class="list-group-item"><a href='../rest-the-limit-on-rest-api-resource-levels/'>Rest &#8211;  the limit on REST API resource levels</a></li><li class="list-group-item"><a href='../rest-by-the-book-rest-vs-too-many-requests/'>Rest &#8211; By the book REST vs Too Many Requests</a></li><li class="list-group-item"><a href='../javascript-rest-api-design-patterns/'>Javascript &#8211; REST Api Design Patterns</a></li><li class="list-group-item"><a href='../rest-designing-a-rest-api-resource-with-a-non-unique-id-but-unique-composite-id/'>Rest &#8211; Designing a REST API resource with a non-unique ID, but unique composite ID</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>