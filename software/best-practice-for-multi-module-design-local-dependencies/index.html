<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Best practice for multi-module design local dependencies &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072083 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072083" class="post-1072083 software type-software status-publish hentry category-software tag-node-js"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Best practice for multi-module design local dependencies</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">node.js</span></p><div class="entry-content"><p>This question may have been asked before and if so feel free to link to the answer. I&#39;m looking for a modern and effective recipe for a common problem. I have a project with a main module, A, that depends on another module, B, that I develop separately. this module has 2-3 (C-E) other modules it depends on, each of which belong to me as well. Some feel comfortable locating all modules in one svn or Git repo. My experience and gut tell me each module belongs in and individual repo. I currently face this dilemma with a NodeJS/Electron project I&#39;m working on but the problem/solution is certainly technology agnostic. While I don&#39;t know enough about local modules in node I am more than familiar with the concepts. I&#39;m just struggling on how to best apply what I&#39;ve learned to this project I&#39;m currently on.</p><p>I&#39;m going to iterate the pros and cons of both approaches below as I&#39;ve seen from my 17+ years of experience. I&#39;m interested in how others have addressed this issue and is totally separate modules the way to go in this day and age? Are there any new tricks to managing local dependencies that I&#39;ve missed over the years?</p><p><strong>All in one repo</strong></p><p><em>Pros:</em></p><ul><li>Everything can be compiled/debugged easily as one complete program in the classic way of thinking.</li><li>Changes made in the individual modules are immediately visible and represented when launching the main module. Everything is &#34;linked&#34; together.</li><li>Lower barrier to entry for junior-mid level engineers.</li></ul><p><em>Cons:</em></p><ul><li>Project cohesion suffers as boundary lines of responsibilities blur. (Too easy to link code from defendants to dependencies &amp; vice-versa.)</li><li>Slower more complicated builds as additional logic must be factored in to deal with compiling each module in the proper order and in the proper way.</li></ul><p><strong>Separate repos</strong></p><p><em>Pros:</em></p><ul><li>Better cohesion. Lines of responsibility are clearly delineated</li><li>Instant/immediate re-usability. (In order to prove the module works you must test it outside of its dependent module which enforces reusability from inception.)</li><li>Smaller simpler manageable builds. The dependencies are built once per release and the main project only needs to declare its dependencies rather than build each of them.</li></ul><p><em>Cons:</em></p><ul><li>Additional complexity iterating changes in the module dependencies. A dependency must be built &amp; released (or semi-released) before being run in the main module.</li><li>Add&#39;l complexities in debugging. You can&#39;t always step into the dependency source with this approach depending on the technology stack and approach of assembling the overall app.</li><li>Requires more discipline, higher barrier to entry for junior-mid level engineers.</li></ul><p>I mentioned the inability to step into code while debugging as a con but this does not apply as much to JavaScript where all source is always visible. However I still face challenges setting up debugging in my IDE when the modules are externalized.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>My two cents:</p><h3>Use separate repositories on <em>shared projects.</em></h3><p>In other words, if a project is used by more than one other project (or intended to be used in multiple projects, i.e. a library), it goes in its own repository.</p><p>We are suffering this pain where I currently work.  Here&#39;s what the current conversation sounds like:</p><blockquote><p>ME:  Shouldn&#39;t projects build straight from the source code repository, as a matter of policy?</p><p>SHE: Yes, they should. But we don&#39;t have a working CI server, and you can&#39;t expect to enforce this rule without one.</p><p>ME:  Don&#39;t we have one of those?</p><p>SHE:  Yes, but it&#39;s on a cloud server which doesn&#39;t have access to the shared drive where we keep the latest build binaries.</p><p>ME: Then why don&#39;t we just get the CI server to build those binaries for us?</p><p>SHE:  Really, we should be taking project references instead of binary references.  That way, we can be sure that each project has everything it needs to build.</p><p>ME: If you make me do that, you&#39;ll require me to take a dependency on the main repository that contains the common library.  That repository is 39 separate projects in a single solution, is 1 gigabyte in size, and it won&#39;t build on my machine from the current repository.  Why don&#39;t we just split out the common projects into their own repositories?</p><p>SHE: <strong>&gt;_&lt;</strong></p></blockquote></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../javascript-node-js-app-private-modules-where-to-put-them/'>Javascript &#8211; Node.js app private modules. Where to put them</a></li><li class="list-group-item"><a href='../javascript-please-explain-object-versioning-in-the-nodejs-module-system/'>Javascript &#8211; Please explain object versioning in the nodejs module system</a></li><li class="list-group-item"><a href='../node-js-and-cpu-intensive-web-applications/'>Node.js and CPU intensive web applications</a></li><li class="list-group-item"><a href='../how-to-structure-big-node-js-modules/'>How to structure big Node.JS modules</a></li><li class="list-group-item"><a href='../best-practices-for-adding-node-js-build-features-to-a-non-node-project/'>Best practices for adding Node.JS build features to a non-Node project</a></li><li class="list-group-item"><a href='../javascript-respectable-design-pattern-for-making-node-modules-flexible-testable/'>Javascript &#8211; Respectable design pattern for making node modules flexible/testable</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>