<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Design &#8211; Don&#8217;t Repeat Yourself Vs Single Point Of Failure in authentication &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1087366 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1087366" class="post-1087366 software type-software status-publish hentry category-software tag-design tag-dry"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Design &#8211; Don&#8217;t Repeat Yourself Vs Single Point Of Failure in authentication</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">dry</span></p><div class="entry-content"><p>In my work we&#39;ve been tasked with implementing two factor authentication across a number of our web applications which currently share a credentials database (asp.net forms authentication) but have their own code for collecting and validating credentials etc.</p><p>In thinking through this problem I&#39;ve reasoned that this might be a good time to consolidate all our authentication into one web service (FWIW I&#39;m looking at <a href="https://github.com/IdentityServer/IdentityServer4" rel="noreferrer">IdentityServer</a>) which all our various web applications could use.</p><p>To my mind this follows the DRY principle, will make implementing and testing the 2FA itself easier, and lead to a more maintainable system in the future. However in discussing my plan with a colleague he has suggested that I&#39;m introducing a single point of failure to the system, and that if a bug were introduced to the Authentication service it would bring all our applications down. To be clear we&#39;re not talking about service availability (The service would be hosted with the same level of resilient infrastructure as our other applications which my colleague accepts as reasonable), but about the potential of a single bug to take down all our applications. His suggestion is that we either write the authentication into the individual applications or we should provide some sort of redundant auth system for if the primary system fails.</p><p>To me this argument just <em>feels</em> the wrong way round. If we&#39;re depending on different implementations to stop all our services failing then we&#39;re doing it wrong. However I&#39;ve been unable to put a convincing case to make colleague. Some of the arguments I&#39;ve put forward:</p><ul><li>This is no different to using libraries between projects &#8211; If a critical bug in some of these libraries were to reach production it could take down a number of our applications &#8211; but we&#39;re not suggesting that we shouldn&#39;t be sharing code here. Is this conceptually any different?</li><li>Whilst there is room for improvement we don&#39;t have a terrible testing/deployment process. We use continuous integration, we have automated unit tests, a reasonable test environment and manual test scripts (not to mention the ability to revert a production deployment if we do get a bug through). Whilst bugs are always going to get through, this process is the mitigation against that, not writing things twice.</li><li>By its nature the authentication process is not the sort of thing that&#39;s going to be undergoing major changes regularly. Once we have an authentication system that works we&#39;re likely to leave it be, making the risk of breaking anything fairly low.</li><li>The DRY principle &#8211; Isn&#39;t writing the same thing multiple times more likely to lead to bugs and be a nightmare to maintain than having one service?</li><li>The idea of a redundant authentication implementation is pretty crazy to me. Maybe if we were writing autopilot software for an airliner, but not for non safety critical web applications.</li></ul><p>My colleague remains unconvinced. Am I wrong? If I&#39;m not, what is the killer argument that I&#39;m missing here?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Consolidating authentication into a single service is called <a href="https://en.wikipedia.org/wiki/Single_sign-on" rel="noreferrer">Single Sign-On</a> and it&#39;s been a thing, even a best practice, for like thirty years.</p><blockquote><p>His suggestion is that we either write the authentication into the individual applications or we should provide some sort of redundant auth system for if the primary system fails.</p></blockquote><p>You already have your ASP.net authentication in the individual applications, so, to be fair, “write the authentication into the individual applications” (with a lot of cut and paste, or shared libraries, or whatever) is probably the least amount of work.</p><p>The redundant auth system suggestion is a security problem as well as a maintenance problem and is clearly <em>bananas</em>. It&#39;s not a serious suggestion.</p><p>It looks to me like you have a people problem, not a programming problem. Your people problem is that you need to figure out your colleague&#39;s <em>real</em> reason for objecting. It probably isn&#39;t anything he&#39;s actually said.</p><p>Some possibilities:</p><ol><li>he feels that rewriting the whole auth stack for each application will be too much work.</li><li>he feels that rewriting the whole auth stack for each application is too risky, in terms of possibly breaking the existing credentials authentication.</li><li>he doesn&#39;t understand the IdentityServer solution and because of that isn&#39;t comfortable with it.</li><li>he didn&#39;t come up with the IdentityServer solution himself and because of that isn&#39;t comfortable with it.</li><li>he feels like taking on 2FA is enough new technology to deal with and enough new complexity to add to the apps, without taking on OpenID/OAuth/etc., etc.</li><li>something else I haven&#39;t thought of</li></ol><p>You need to find that underlying objection and evaluate it fairly. (He might even be right!)</p><p>One approach would be to step back from the specific solutions you&#39;ve each advocated and try to at least agree on the criteria that should be used to choose a solution, taking into account each of your preferences regarding technical risk, short-term vs. long-term workload, etc. (In negotiation school, they call this <a href="http://web.mit.edu/negotiation/www/NBivsp.html" rel="noreferrer">distinguishing interests from positions</a>.)</p><p>If, in the end, he&#39;s still convinced that he&#39;s right and you&#39;re wrong, and you&#39;re still convinced that you&#39;re right and he&#39;s wrong, you need to kick it up a level to where you can each present your preferred options to someone empowered to make the call. And then you both need to accept the decision.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/testing-vs-dont-repeat-yourself-dry/'>Testing vs Don&#8217;t Repeat Yourself (DRY)</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/design-how-to-handle-shared-data-across-microservices/'>Design &#8211; How to handle shared data across microservices</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/the-dont-repeat-yourself-dry-principle-in-documentation/'>The Don&#8217;t Repeat Yourself (DRY) principle in documentation</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>