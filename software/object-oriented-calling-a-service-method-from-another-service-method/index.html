<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Calling a service method from another service method &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066153 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066153" class="post-1066153 software type-software status-publish hentry category-software tag-net tag-object-oriented tag-repository"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Calling a service method from another service method</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">net</span><span class="mr-2 badge badge-info">object-oriented</span><span class="mr-2 badge badge-warning">repository</span></p><div class="entry-content"><p>In the repository pattern, is it a &#34;bad idea&#34; to call a service method from another service method?</p><p>In most cases, I naturally end up calling repository methods from my service methods. However, in some cases, calling a service method from another service method seems to make sense because the existing service method nicely handles the task at hand.</p><p>Let&#39;s say I have the following methods:</p><pre><code>GetUserFavoritesServiceMethod(userId, requestByUserId)
{
   // Make sure the request is allowed
   // This is the business logic where I make sure the requesting party is authorized to make the request

  // If allowed, call repository method
  var favs = GetUserFavoritesRepositoryMethod();
}

GetUserFavoritesRepositoryMethod(userId)
{
   // Return results
}
</code></pre><p>Now, let&#39;s assume I have another service methods that needs user favorites. I may be overly simplifying my example but this is where I have the option to call either the repository method or the existing service method.</p><pre><code>GetSomeOtherInfoServiceMethod(userId, requestByUserId)
{
   // Call GetUserFavoritesServiceMethod() OR GetUserFavoritesRepositoryMethod()
}
</code></pre><p>Calling the <code>GetUserFavoritesServiceMethods()</code> seems a bit cumbersome because I may already be performing some business logic in the <code>GetSomeOtherInfoServiceMethod()</code> and performing business logic all over again in the <code>GetUserFavoritesServiceMethod()</code> seems bad/wasteful/etc.</p><p>On the other hand, the <code>GetUserFavoritesServiceMethod()</code> may be nicely packaging the data for me as opposed to <code>GetUserFavoritesRepositoryMethod()</code> may not be.</p><p>Again, I&#39;m over simplifying it but clearly I&#39;m adding some &#34;value&#34; in service methods and sometimes I want to take advantage of that &#34;value&#34;.</p><p>I want to see if calling a service method from another service method is frowned upon in general.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You are facing a problem of an <a href="https://martinfowler.com/bliki/AnemicDomainModel.html" rel="noreferrer">anemic domain model</a> which leads to uncertainty about where to put &#34;general&#34; business logic which is unspecific to a usecase.</p><p>There are two types of business logic:</p><ol><li>usecase specific</li><li>usecase unspecific</li></ol><p>Watch this statements from Robert C. Martin:</p><p><a href="https://www.youtube.com/watch?v=0oGpWmS0aYQ&amp;t=26m55s" rel="noreferrer">OOP 2015 Keynote - Robert C. Martin (&#34;Uncle Bob&#34;): Agility and Architecture</a> (26:55 to 28:22)</p><p>Robert C. Martin locates the usecase specific business logic into objects called &#34;interactors&#34;. You also can say &#34;usecases&#34;. Maybe &#34;services&#34; are a closely related so you may go on with that.</p><p>Entities will contain business logic that is not usecase specific. He also says that some developers call them &#34;business objects&#34; so I would do.</p><p>Whatever you call it: usecase specific and usecase unspecific business logic are different and have to be separated if you ask for advice. So an object of the domain model should be appropriate location to put the code of the method &#34;getUserFavorites&#34;.</p><p>My suggestion is: <code>user.getFavorites();</code></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-correct-way-to-inject-dependencies-in-business-logic-service/'>C# &#8211; Correct way to inject dependencies in Business logic service</a></li><li class="list-group-item"><a href='../entity-framework-in-n-tier-application-confusion/'>Entity Framework in n-tier application confusion</a></li><li class="list-group-item"><a href='../should-repository-have-a-method-for-every-specific-database-operation/'>Should repository have a method for every specific database operation</a></li><li class="list-group-item"><a href='../object-oriented-object-to-be-used-by-service-layer/'>Object-oriented &#8211; Object To Be Used By Service Layer</a></li><li class="list-group-item"><a href='../architecture-calling-service-and-repository-layer-from-controller/'>Architecture &#8211; Calling service and repository layer from controller</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>