<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Service method, bean as an argument and mandatory attributes &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080979 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080979" class="post-1080979 software type-software status-publish hentry category-software tag-design tag-java tag-object-oriented-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Service method, bean as an argument and mandatory attributes</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">object-oriented-design</span></p><div class="entry-content"><p>There is a service:</p><pre><code>createUser(User user)
</code></pre><p>where you can create a new user, with so many attributes (<code>name</code>, <code>address</code> lines&#8230;). Now, some user attributes are mandatory. Other attributes are not mandatory (like <code>nickname</code> or <code>image</code>).</p><p>The problem is that, from the outside, you can&#39;t tell the difference (in compile time). You can&#39;t force yourself to set only mandatory fields; moreover, the list of mandatory fields can change in the future and your code will stop working (while still compiling).</p><p>So we can</p><ul><li><code>createUser(int userId, String username...)</code> &#8211; explode the bean properties and don&#39;t use bean as an argument. Now every change will be reflected in the API, but method signatures may become huge. Also, when overloading methods for various combinations of mandatory fields with non-mandatory &#8211; that can be a mess, too.</li><li>use multiple beans, and have methods like (given names are just illustrative) <code>createUser(UserCoreData user)</code>, <code>createUser(UserFull user)</code> but that still would not help much.</li><li>or have service for storing mandatory User data and then having additional services for storing additional, non-mandatory data.</li><li>(EDITED) or to split <code>User</code> into logical components (ie smaller beans) <code>Address</code>, <code>DateFrom</code>&#8230; and use those in service methods.</li></ul><p>Is there a pragmatical way to describe service method and its arguments in case like this? (in Java).</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h1>Don&#39;t use a Java Bean if you can</h1><p>While Java Beans are extremely useful on many occasions, I would argue that it would be better for <code>User</code> not to be a bean in the context you describe. You can design this class so that its instances are always in a valid state.</p><p>In the following example, name is mandatory and address is optional.</p><pre><code>class User {
    private String name;
    private String address;

    User(String name) {
        setName(name);
    }

    void setName(String name) {
        if (name == null)
            throw new IllegalArgumentException(&#34;[name] cannot be null&#34;);
        this.name = name;
    }
    String getName() {
        return name;
    }

    void setAddress(String address) {
        this.address = address;
    }
    String getAddress() {
        return address;
    }
}
</code></pre><p>As you can see, with that design, it is not possible at any point to have a <code>User</code> instance without a name. However, you can have instances with an address, as well as instances without one.</p><p>Also notice that in the code example above I am performing some basic validation. If needed, you can perform more complex validation than that. For example by making sure the name does not contain characters not likely to appear in your context.</p><h2>Things to consider</h2><p>There are a few things to consider to make sure such a class meets its goal. Only its immutable content can be shown to the outside world, for example. Consider another similar class that contains a list that must always contain at least one item. If that list is mutable and external code can access it (through a getter, for example), nothing stops it from removing objects from it until it is empty, putting your initial instance in a state that shouldn&#39;t be allowed. Of course, if you need to expose that data, consider only giving a copy of the list or have it immutable.</p><h2>What if there are a lot of mandatory values ?</h2><p>If it makes sense to group some of these values in classes of their own, and that in doing so the constructor becomes wieldable, go for it. Such classes should be designed with the aforementioned constraints in mind.</p><p>Alternatively, you can define a Builder to help in constructing the objects.</p><h2>What if a Java Bean is needed in a specific part of my code?</h2><p>That design may work well in most places these classes are used except at specific places where, because for example a framework needs it, you must use Java beans. When that happens, instead of using beans everywhere, you can define a bean that contains the same data with added constructor and method to take care of data conversion. For example...</p><pre><code>class UserBean {
    private String name;
    private String address;

    UserBean() {
    }
    UserBean(User user) {
        this.name = user.getName();
        this.address = user.getAddress();
    }

    void setName(String name) {
        this.name = name;
    }
    String getName() {
        return name;
    }

    void setAddress(String address) {
        this.address = address;
    }
    String getAddress() {
        return address;
    }

    User toUser() {
        User ret = new User(name);
        ret.setAddress(address);
        return ret;
    }
}
</code></pre><p>That way it is easy to have a bean from the non-bean instance and vice-versa.</p><h2>Conclusion</h2><p>As you can see the problem you have can be solved while keeping its initial signature. It is possible that going this way results in more code to be written for a similar result (though I wouldn&#39;t vouch for it, since passing a necessarily valid object around means less validation needed by the code using it).</p><p>I have tried to keep it short (ahem...) and to use here a design close to your initial one (beans). However, it is more for the sake of the explanation rather than because I consider that <em>the</em> best design. With all the hassle of maybe needing builders and additional bean classes, I would tend to go the extra mile and make the class being passed around immutable. That is how I have designed a recent, short project and it turned out to work particularly well.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-static-set-and-non-static-get-method/'>Java &#8211; static set and non-static get method</a></li><li class="list-group-item"><a href='../java-override-method-with-subclass-as-argument/'>Java &#8211; Override method with subclass as argument</a></li><li class="list-group-item"><a href='../java-annotation-to-define-values-for-method-argument/'>Java &#8211; Annotation to define values for method argument</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>