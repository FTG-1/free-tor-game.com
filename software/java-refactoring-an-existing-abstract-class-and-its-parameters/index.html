<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Refactoring an existing abstract class and its parameters &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079042 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079042" class="post-1079042 software type-software status-publish hentry category-software tag-abstract-class tag-abstraction tag-design tag-design-patterns tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Refactoring an existing abstract class and its parameters</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">abstract class</span><span class="mr-2 badge badge-info">abstraction</span><span class="mr-2 badge badge-warning">design</span><span class="mr-2 badge badge-primary">design-patterns</span><span class="mr-2 badge badge-danger">java</span></p><div class="entry-content"><p>I have an <code>abstract class A</code> which declares an abstract method <code>doStuff</code>.  Currently there are many classes that inherit from <code>A</code> and implement <code>doStuff</code>.</p><p>The class&#39; instances are initialized at run-time via <code>AFactory</code> based on user input.<br /> Originally all the classes had the same single parameter (the user input). But now I have an additional parameter that only a new class that inherits <code>A</code> needs.</p><p>So breaking it down I though of the following logic:</p><ul><li><p>The interpreter class that generates instances based on user input(using <code>AFactory</code> of course) was not aware of this extra parameter.</p><ul><li>Trying to push it into the class interpreter class would be really awkward because then I would have to know when to pass it to the factory which defeats the whole purpose of having a factory in the first place.</li><li>Sending it blindly into the Factory hoping it <em>might</em> do something with it seems quite ugly as well.</li></ul></li><li><p><strong>My current solution:</strong> Meanwhile I&#39;ve decided to refactor <code>A.doStuff(Param param)</code> into <code>A.doStuff(AParams params)</code>.</p><p><code>AParams</code> can hold what ever parameters needed and <code>doStuff</code> can ignore then if they&#39;re not interested in them. This also seems a bit awkward to me , and remids me of sending structs in WIN32API that can hold a lot of ugly useless parameters and I&#39;m not fond of it.</p></li></ul><p>Is there a more elegant way to approach this problem ? Or some design pattern that I&#39;ve overlooked and solves this?</p><p><strong>Notes</strong> :</p><ul><li>We&#39;re using Java 1.7</li><li>The class&#39; names are silly in order to emphasize the theoretical design issue they do have normal indicative, meaningful names in reality ðŸ™‚</li><li>I did search quite a lot but having figured out that it&#39;s quite hard to search the web for specific abstract theoretical issues (as opposed to why is <code>X</code> throwing <code>Exception</code> in this code) I&#39;ve decided to ask anyway so I&#39;m sorry if this is a duplicate.</li></ul><p><strong>Edit 1</strong>:</p><ul><li><strong>Clarification:</strong> I need to pass a subclass-specific argument to the <code>doStuff</code> method.</li></ul><p><strong>EDIT 2</strong>:</p><ul><li><p>I did not fully understand Kilian Foth&#39;s intention so I&#39;ve written some Java-pseudo-code to help me better explain the problem/understand your solution. So:</p><p><a href="http://pastebin.com/S4CFLeVc" rel="nofollow">This</a> is a skeleton of my problem.</p><p><a href="http://pastebin.com/7vuNdznR" rel="nofollow">This</a> is a skeleton of my solution.</p><p><a href="http://pastebin.com/w62Jifqv" rel="nofollow">This</a> is what I <em>think</em> might be Kilian Foth&#39;s solution, but I&#39;m not sure.</p></li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The point of a factory is to hide the fact that you may get objects from slightly different classes. Therefore, if some of these objects need certain data and others don&#39;t...</p><ul><li><p>Either they aren&#39;t similar enough to be produced by the same factory. Then you need to have more than one factory and make the decision way earlier than you are currently doing.</p></li><li><p>Or they <em>are</em> similar enough that the client isn&#39;t supposed to care which one they get. Then you can&#39;t expect the client to care about whether to send the extra data or not. It follows that they must <em>always</em> be passed, but the factory will sometimes ignore them without bothering the client with that implementation detail. Anything else would burden the client with the very distinction that the factory was supposed to conceal.</p></li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-template-pattern-with-varying-input-type-in-overridden-method/'>Java &#8211; Template pattern with varying input type in overridden method</a></li><li class="list-group-item"><a href='../java-pattern-for-validating-rules-having-different-signatures/'>Java &#8211; Pattern for validating rules having different signatures</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>