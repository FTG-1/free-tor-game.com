<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; How to implement the MVC design pattern with JavaFX written in pure Java &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1065930 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1065930" class="post-1065930 software type-software status-publish hentry category-software tag-java tag-javafx tag-mvc"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; How to implement the MVC design pattern with JavaFX written in pure Java</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">javafx</span><span class="mr-2 badge badge-warning">mvc</span></p><div class="entry-content"><p>I am currently in middle of designing a backup application in JavaFX written in pure Java (meaning without Fxml) .</p><p>I am having trouble implementing the MVC pattern for the following reason. The way I understand it is that the view has to be separate from the controller which processes events and updates the model to reflect the changes that the event causes. My problem is linking the events to the controller class, this is due to the fact that the events are required to be added in the view class where I declare the components. Which makes part of the controller in the view class, which as far as I understand is exactly what the MVC pattern is supposed to prevent.</p><p>So my question is how do I link the events from the view class to the controller class without putting part of the controller in the view class?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>This may be a little controversial, but I have come to the conclusion that trying to implement a strict MVC separation with a separate Controller class may not be the best way to design a JavaFX desktop application.</p><p>How I&#39;ve approached it is to build rich domain models that have most of the &#34;controller&#34; aspects built in. The application is layered into Model, View, and UI component classes.</p><p>Model class are the domain objects - they model your business or application domain. They implement domain-specific methods for modifying the model (adding child items, changing status codes etc). This could be thought of as the domain-specific controller functionality.</p><p>The UI component classes extend or encapsulate a Node and are scenegraph objects that accept a domain object and understand how to display it. They may also provide single- or bi-directional binding so that model updates automatically update the display, and edits in the UI automatically update the model.</p><p>The View classes implement the main &#34;tab&#34; or &#34;window&#34; aspects of the UI. They hold a collection of UI components, and lay them out in groups or subgroups. The view is responsible for accepting the domain object to work with, and then binding/wiring up all the UI components necessary. It may also have some limited awareness of the domain model - e.g., you might need to show or hide some UI components based on model state. So this handles controller functionality related to the UI presentation.</p><p>Menu commands, shortcut keys and context menus bind to &#34;Action&#34; classes that represent commands that can be issued. These are a separate layer of functionality that can inspect the View to determine current context and the domain object being used, and then issue commands to the model.</p><p>For an example :-</p><p>You have a &#34;sales order&#34; object that models a customer order. The UI exposes a drop-down to select discount percent. That drop-down is bound to a &#34;selectedDiscount&#34; property on the sales order object. Within the model there is a listener that is called when that property is modified, and triggers a recalculation of the order price.</p><p>The UI has a table bound to the order lines, with fields observing the line price properties on the sales order. When the user changes the drop-down, it triggers a price recalculation, which updates the model, which updates the displayed prices.</p><p>There are lots of alternative designs, and some might fit better that others depending on your particular application.</p><p>I&#39;m currently ~2 years into developing a fairly large-scale and complex JavaFX desktop application that currently has something like 500 classes and a few dozen tabs/windows/dialogs in the UI, so this is just based on my personal experience. I experimented with a number of designs - event-bus based, with centralised controllers; React-style; and using Presentation Model classes, and they all have various strengths and weaknesses. The approach I&#39;ve outlined above has worked well for me so far - but is a bit more complex in reality than the very abbreviated description given here. It&#39;s the simplest approach I&#39;ve worked out that has enough abstraction to be useful and avoid duplication and make it easy to refactor, while not adding so much abstraction overhead that it just gets in the way.</p><p>Unfortunately I have not yet found any really good case studies on the design and structure of JavaFX applications to show what sort of approaches work best.</p><p>Edit: Additional comments on event handling</p><p>Event handling - without getting too bogged down in detail, I either have event handlers within the UI components that directly call methods on the model, or Action classes that retrieve the current domain object from some context and then call methods on it.</p><p><strong>Example 1 - using simple event handlers.</strong> Take a UI component that shows a list of items. The UI component has a list view control and some up/down buttons for moving items. In Button.setOnAction() I reference a handler method within the UI component. That method looks at the list, gets the current selected row, the calls a method on the model; something like</p><pre><code>dataModel.moveRowUp(currentRow)
</code></pre><p>The model works out what to change, and updates it&#39;s list of items. The list view is bound to the list, so the displayed items automatically change.</p><p>Obviously, this is coupling the UI component fairly closely to the model - but for my usage that&#39;s an acceptable tradeoff, since the UI code needs to understand the model in order to display it appropriately.</p><p><strong>Example 2 - using Actions.</strong> This is for when you want to be able to raise an event from multiple locations. E.g., you have a command to delete an order line. This can be invoked from a menu command, a toolbar button, a hotkey, or a popup right-click menu on the order table. In all cases the effect needs to be the same - invoking a method on the domain object to remove a row.</p><p>In this case I have an Action object, e.g., ActionDeleteOrderLine. The menu has an instance bound to it, as does the toolbar button. When the menu command is invoked, it calls the event handler method on the action. This event handler then gets the current selection context (ie., the domain object the user is currently working with/has selected), and invokes the appropriate method on the domain object.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../javafx-the-right-way-to-use-properties-with-domain-objects/'>JavaFX &#8211; the right way to use Properties with domain objects</a></li><li class="list-group-item"><a href='../mvc-good-design-patterns-within-javafx-mvc/'>Mvc &#8211; Good design patterns within JavaFX &#8212; MVC</a></li><li class="list-group-item"><a href='../c-how-to-apply-the-mvc-pattern-to-a-c-winforms-application/'>C# &#8211; How to apply the MVC pattern to a C# WinForms application</a></li><li class="list-group-item"><a href='../mvc-is-it-possible-to-add-service-layer-in-mvc-pattern/'>Mvc &#8211; Is it possible to add Service layer in MVC pattern</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>