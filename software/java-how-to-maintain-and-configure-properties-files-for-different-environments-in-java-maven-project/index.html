<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; How to maintain and configure properties files for different environments in Java maven project &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075157 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075157" class="post-1075157 software type-software status-publish hentry category-software tag-configuration tag-deployment tag-java tag-maven tag-properties"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; How to maintain and configure properties files for different environments in Java maven project</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">configuration</span><span class="mr-2 badge badge-info">deployment</span><span class="mr-2 badge badge-warning">java</span><span class="mr-2 badge badge-primary">maven</span><span class="mr-2 badge badge-danger">properties</span></p><div class="entry-content"><p>A Java project with <em>maven</em> as build tool needs to be deployed to different environments, such as <em>ci</em>, <em>dev</em>, <em>test</em>, <em>prod</em> etc. Each environment has a properties file with the same set of properties such as:</p><ul><li><code>service.host</code></li><li><code>environment.suffix</code></li><li><code>user</code></li><li><code>password</code></li><li>&#8230;</li></ul><p>The values of these properties are environment-specific. Currently the properties file have a <em>template</em> called <code>management_template.properties</code> in the directory <code>src/main/resources</code>, and the content looks like the following:</p><pre><code>service.host=${host}
environment.suffix=${suffix}
user=${user}
password=${password}
</code></pre><p>In the configuration above,</p><ul><li>when deploying the project to <em>production</em>, the system property <code>config.dir</code> is needed for telling the directory of the properties file</li><li>when deploying the project to <em>test</em> for executing tests, the system properties <code>config.dir.test</code> is needed for telling the directory of the properties file.</li></ul><p>The properties file in each of the environment is generated by means of <em>shell</em> script on base of the aforementioned <em>template</em> file, meaning the placeholders <code>${user}</code>,<code>${host}</code> etc. are replaced by some system-specific values.</p><p><strong>Problem with the current solution: the process of generating the properties files and giving the system properties <code>config.dir</code> or <code>config.dir.test</code> seems to complicate the work. Extra Shell scripting is needed, also I doubt about the necessity of the system properties <code>config.dir</code> or <code>config.dir.test</code></strong></p><p><strong>Question: is there any better solution forã€€configuring and deploying the system-specific properties files?</strong></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>As you indicate, the property values belong to the <strong>environment</strong>, not the application. So the best solution is for Maven to be totally unaware of the property values for the various environments. The basic idea is that Maven should create a binary that will run in any environment without modification, with the environment supplying the various property values at application start.</p><p>Also, I have worked on systems where developers had no access to the production database, so saving production credentials in properties saved to source control was simply not allowed.</p><p>This means that when the application starts, the environment must supply the property values. There are several ways that this can be done.</p><ul><li>Pass the properties using the Java -Dproperty=value options on the command line.</li><li>Pass the property values using environment variables. Both Windows and Linux support this.</li><li>If there are lots of properties, then pass the path to the properties file using one of the above options.</li></ul><p>Whatever approach you use, the application should check at startup that the required properties have been supplied, and die with an appropriate error message if one is missing. You will also need to liaise with your production staff when an application change requires a new property to be defined.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../user-configuration-of-a-shell-script-best-practices/'>User Configuration of a Shell Script. Best practices</a></li><li class="list-group-item"><a href='../java-where-to-store-global-enterprise-properties/'>Java &#8211; Where to store global enterprise properties</a></li><li class="list-group-item"><a href='../architecture-the-preferred-way-to-store-application-configurations/'>Architecture &#8211;  the preferred way to store application configurations</a></li><li class="list-group-item"><a href='../java-how-to-load-environment-configuration/'>Java &#8211; How to load environment configuration</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>