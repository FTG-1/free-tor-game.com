<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; How to avoid writing lots of pass-through functions in a wrapper &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070730 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070730" class="post-1070730 software type-software status-publish hentry category-software tag-c tag-composition tag-inheritance tag-templates"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; How to avoid writing lots of pass-through functions in a wrapper</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">composition</span><span class="mr-2 badge badge-warning">inheritance</span><span class="mr-2 badge badge-primary">templates</span></p><div class="entry-content"><p>I have a class, which wraps another class of a common base type. Because the base type interface is quite large this involves writing a lot of pass-through functions. I am looking for a way to avoid this.</p><p>Let&#39;s make an example:</p><pre><code>      Car
     /   \
Volvo     VolvoWithTrailer
</code></pre><p>Now I have to implement each and every function in the car interface for VolvoWithTrailer and call the appropriate function on the wrapped Volvo object except maybe GetMaxSpeed() which will return something lower.<br /> Basically I will have many functions like</p><pre><code>int VolvoWithTrailer::GetNumSeats() {
  return mVolvo.GetNumSeats()
}
</code></pre><p>An obvious way to solve this would be to make VolvoWithTrailer a subclass of Volvo</p><pre><code>    Car
     |
   Volvo
     |
VolvoWithTrailer
</code></pre><p>but that seems to violate the principle of favoring composition over inheritance.</p><p>How else could I avoid writing all those wrappers (the language is C++)?<br /> Or &#8211; if that is your position &#8211; why should I just write them/just use inheritance?<br /> Is there any template magic that could help with this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>My opinion is that you should write whatever you need to write to make the <em>long-term</em> stability and maintainability of the program better. What&#39;s the point in avoiding writing 20 lines of code today, if every time you touch something that uses this code or come back to maintain this Class, it costs you an extra 5 minutes or more because you didn&#39;t put in the time today?</p><p>So the question then becomes &#34;what do you need to write?&#34; I don&#39;t think you provide enough information to be able to give a definitive answer, so I&#39;ll just list some things that <em>I</em> would think about in making a decision:</p><p><strong>1. Do you need to have the Trailer object by itself, now or in the forseeable future?</strong><br/> If so, you have a pretty good argument for making the wrapper around both composited objects, since you already are going to have to wrap one or the other. Might as well be consistent.</p><p><strong>2. Is any of the three types (Car, Trailer, CarWithTrailer) in an area of the code that developers go into frequently or look likelly to become so?</strong><br/> If so, be very careful, because the ramifications of choosing the wrong thing can be very costly amortized over every time the code is touched. If not, it may not make any difference <em>what</em> you decide. Just pick a direction and go with it.</p><p><strong>3. What&#39;s easiest to understand?</strong><br/> Does one approach jump out at you that someone coming behind you would immediately &#34;get&#34; what you&#39;re trying to do? Do your teammates have particular biases that might make one approach harder for them to maintain? If all things are equal, pick the solution that imposes the lowest cognitive load.</p><p><strong>4. Are there any additional advantages to using one approach over another?</strong><br/> One thing that jumps out at me is that the wrapper idea has a distinct advantage if you write it that your CarWithTrailerWrapper can wrap <em>any</em> car and <em>any</em> trailer into a CarWithTrailer. Then, you wind up writing all your pass-through methods, but you only write them <em>once</em>, rather than once for each Car Class.</p><p>This makes your initial investment in writing the pass-through methods much cheaper as you add more Cars and Trailers. It also helps reduce the temptation to couple things too directly to the Volvo or VolvoWithTrailer, while reducing the consequences of coupling to the CarWithTrailerWrapper, since you can do way more with just that one implementation.</p><p>Maybe there are distinct advantages you&#39;d get for free by using the extension method, but I don&#39;t see them.</p><p><strong>OK, so it looks like I&#39;ve talked myself round to going ahead and filling in the pass-through methods, for non-trivial applications.</strong></p><p>I&#39;m not a C++ programmer, so I have no idea what code generation tools are available to you. The IDE I use can generate methods from an Interface, and I can <a href="http://flexdiary.blogspot.com/2012/11/my-favorite-flash-builder-code-templates.html" rel="noreferrer">add code templates</a> that would make writing pass-throughs pretty painless. If you don&#39;t have access to an IDE that does this, you can actually get pretty far letting <a href="http://flexdiary.blogspot.com/2012/10/excel-is-excellent.html" rel="noreferrer">Excel write code for you</a>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../implicit-vs-explicit-interfaces/'>Implicit vs explicit interfaces</a></li><li class="list-group-item"><a href='../object-oriented-inheritance-using-non-abstract-base-class/'>Object-oriented &#8211; Inheritance using non-abstract base class</a></li><li class="list-group-item"><a href='../object-oriented-inheritance-composition-and-protocols/'>Object-oriented &#8211; Inheritance, Composition and Protocols</a></li><li class="list-group-item"><a href='../c-template-function-passing-iterators/'>C++ &#8211; Template Function: Passing Iterators</a></li><li class="list-group-item"><a href='../c-why-is-accessing-virtual-protected-functions-of-a-base-class-not-allowed-through-a-pointer-of-the-base-class-type-inside-a-derived-class/'>C++ &#8211; Why is accessing virtual protected functions of a base class not allowed through a pointer of the base class type inside a derived class</a></li><li class="list-group-item"><a href='../c-design-vector-classes-with-different-element-types/'>C++ design &#8211; vector classes with different element types</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>