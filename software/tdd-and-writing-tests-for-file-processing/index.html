<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>TDD and Writing Tests for File Processing &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074543 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074543" class="post-1074543 software type-software status-publish hentry category-software tag-file-handling tag-tdd tag-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">TDD and Writing Tests for File Processing</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">file handling</span><span class="mr-2 badge badge-info">tdd</span><span class="mr-2 badge badge-warning">testing</span></p><div class="entry-content"><p>These questions are very similar: <a href="https://softwareengineering.stackexchange.com/questions/13956/tdd-for-batch-processing-how-to-do-it">TDD for batch processing: How to do it?</a> and <a href="https://softwareengineering.stackexchange.com/questions/258246/tdd-how-to-test-file-outputs">TDD: how to test file outputs?</a> but I&#39;m still left wondering some things</p><p><strong>The app</strong> processes files/pdfs. It takes them from one FTP server, processes/reads file content, places them in a destination FTP server, depending on content read.</p><p>How can I approach file processing in a TDD way? My formal education on TDD was not the best, so even &#34;obvious&#34; suggestions will help me.</p><p><strong>My ideas:</strong></p><p>The &#34;success&#34; of my app depends on if it reads/processes a source file properly, and also if it places it in the proper destination. So it makes sense to me to write tests for seeing if a file</p><ol><li>is &#34;read&#34; correctly</li><li>ends up in the right place</li></ol><p>I could test on specific dummy files, but does this mean I should always ship these specific files with the code, for the tests to pass? The file&#39;s name will be different after being processed, so I&#39;m not sure how to test if it ends up in the right place &#8212; should I eyeball the files and then hardcode expected results into the tests?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think this is a great question.  Unit testing, micro-testing, TDD, and BDD are difficult, sometimes confusing, and often not taken seriously.  So kudos for trying and asking for help!</p><p>I am by no means an expert, but I did just take a formal class and am also part of a small team that is leading an initiative to roll out unit testing and TDD within our organization.</p><p>Based on my experience and what I learned in my class, here is what I think you need to know in order to start:</p><ol><li>Consider that there are different types of testing and they accomplish different goals.  There are lots of things that unit testing is simply a poor or incomplete solution for, which can lead one to think that unit testing is a waste of time.  However, I view it as complementary to integration testing and functional testing.</li><li>Don&#39;t stress out about coverage.  There is a time and place to think about code coverage, but if you worry about that right now, you will waste time unit testing accessors and mutating, which provides no business value.</li><li>Don&#39;t think about testing classes or methods, but think about testing <em>behaviors</em>.  What does this class <em>do</em>?  What does it <em>not</em> do?  (This is part of why the term BDD is used these days)</li><li>Test interesting behaviors.  What qualifies as interesting is up to you.  Many experts argue that a bug is a missing test.  Therefore, anything you feel could reasonably break is worth testing.  Would you write a test for <code>i++</code>?  Probably not.  Would you write a test for <code>incrementI()</code>?  Maybe.  If it&#39;s a calculator app, I probably would.  If it&#39;s a web app, then I wouldn&#39;t sweat something that simple.</li><li>Tests are not just about making sure your code works.  They serve as an executable specification.  Meaning, if somebody needs to understand the requirements of a class, they can look at the test.</li><li>It is ok for a test to assume that a dependency works.  If that worries you, then maybe you should unit test the dependency as well.  But keep it separate.  For example, one could argue that testing the data processing without a real file is bad because you don&#39;t know if the file parsing works.  But if you have a unit test which verifies that file parsing works, and a unit test that verifies the processing of the file&#39;s data works, then clearly both work.  Granted, this does not prove that they work <em>together</em>.  But that&#39;s ok.  That is integration testing.</li><li>Unit tests should be repeatable and isolated.  A unit test that makes a web service call, then writes to a database, and then prints some result to the console is <strong>not</strong> a unit test.  It&#39;s a test, sure, but not a unit test.  Don&#39;t get so hung up on testing everything that you write fragile tests which do a ton of work.  So if a method does those things, how do you unit test it?  This leads to the next topic...</li><li>Separating out dependencies - Write small units which can be called independently, with dependencies passed in.  If you design so that the processing is independent of the source file itself, you can test the processing logic without needing files.  For example, instead of the file processing taking a <code>java.io.File</code> object, parsing it, and doing all the work, perhaps it could take a <code>java.io.InputStream</code>, parse it, and do all the work?  Or a method which reads the file&#39;s contents into an array or other data structure, then passes that into the processing?</li><li>Mocking out dependencies - ultimately, somebody needs to talk to the external world.  Ideally, you will separate your dependencies, but sometimes you reach points where the complexity introduced by doing so is counter-productive.  For example, a method which several levels down the call stack needs to talk to the database and separating that out is unreasonable, then mock it out with a fake implementation that returns test data.  I&#39;ve gone as far as creating a <code>MockDatabase</code> class before, which lets me map stored procedure names to hard-coded, in-memory result sets.</li><li>Realize when you have mocked so much that unit testing is pointless.  If you have mocked out everything a method does, then you are left testing an empty method.  If that is the case, maybe that method is not interesting to test?  Trust that an integration test, automated functional test, or even manual testing will catch any problems with it, and don&#39;t worry about unit testing it.</li></ol><p>I could go on forever.  Hopefully that helps.</p><p>Remember, this is not easy.  If it was easy, everybody would do it.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../tdd-for-batch-processing-how-to-do-it/'>TDD for batch processing: How to do it</a></li><li class="list-group-item"><a href='../unit-testing-how-and-when-to-use-unit-testing-properly/'>Unit-testing &#8211; How and when to use UNIT testing properly</a></li><li class="list-group-item"><a href='../unit-testing-writing-tests-for-existing-code/'>Unit-testing &#8211; Writing Tests for Existing Code</a></li><li class="list-group-item"><a href='../java-how-to-use-unit-tests-and-tdd-to-test-an-app-that-relies-mostly-on-database-crud-operations/'>Java &#8211; How to use unit tests and TDD to test an app that relies mostly on database CRUD operations</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>