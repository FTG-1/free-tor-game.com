<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Is it possible to create a C header file from a dynamic library &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071151 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071151" class="post-1071151 software type-software status-publish hentry category-software tag-headers tag-libraries"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Is it possible to create a C header file from a dynamic library</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">headers</span><span class="mr-2 badge badge-info">libraries</span></p><div class="entry-content"><p>Suppose I have a compiled dynamic library: <code>.dll</code>, <code>.lib</code>, <code>.so</code> etc. Is it (theoretically) possible to automatically create C header file for such a library? Is there an existing tool that does that?</p><p>Intuitively it looks to me like it should be possible. After all, the linker is able to find the necessary symbols inside the dynamic library and resolve those symbols at runtime. But still, some information may be missing. If so, which one? Argument types? The return type? I know that when a C++ library is compiled without the &#34;extern&#34; flag, with the information about the types being embedded into the name. Would this kind of library be &#34;reverse-engineerable&#34; ?</p><p><strong>Update.</strong> Thanks for all the responses &#8212; it seems like there is a consensus that it is generally NOT possible, unless one is willing to try <em>really</em> hard (I guess by examining the assembly and seeing how many parameters are being popped off from stack) OR the library is compiled in the <em>debug mode</em>.</p><p>The purpose of this question is neither to obfuscate my own library, nor to decompile an existing one. Rather, it is a theoretical question: is such action possible for a generic library? The reason for my curiosity is that I&#39;m trying to understand the legal implications of having a library licensed under GPL while its header files licensed under LGPL.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>In general, it won&#39;t be possible (at least not with <a href="https://en.wikipedia.org/wiki/Executable_and_Linkable_Format" rel="noreferrer">ELF</a> files on Linux). Because type and signature information is not kept (e.g. in ELF symbol files). But C++ compilers are doing <a href="https://en.wikipedia.org/wiki/Name_mangling" rel="noreferrer">name mangling</a> to encode some type information in their ELF symbol name. However, C compilers don&#39;t do that. And C++ name mangling doesn&#39;t tell enough (e.g. it would tell that the first argument of some function is a <code>Foo*</code> pointer, but it won&#39;t describe the fields inside <code>class Foo</code>).</p><p>For example, you can&#39;t even (reliably) know how many arguments a given function (notably a C one) is expecting, and even more their type. And some functions don&#39;t have externally visible names (e.g.<code>static</code> functions, but read also about <a href="https://gcc.gnu.org/wiki/Visibility" rel="noreferrer">visibility</a> function attribute on Linux). Read more about <a href="https://en.wikipedia.org/wiki/Application_binary_interface" rel="noreferrer">ABI</a>s (e.g. <a href="https://github.com/hjl-tools/x86-psABI/wiki/X86-psABI" rel="noreferrer">here</a> for Linux on PCs) and <a href="https://en.wikipedia.org/wiki/Calling_convention" rel="noreferrer">calling conventions</a>.</p><p>However, if the code has been compiled (using <code>-g</code>) with debug information in <a href="https://en.wikipedia.org/wiki/DWARF" rel="noreferrer">DWARF</a>, it could be possible. Read also about the <a href="https://en.wikipedia.org/wiki/Strip_(Unix)" rel="noreferrer">strip</a> command.</p><p>And if you have additional a priori information (for example, knowing that the given library is distributed by Debian) it probably should be possible. Some projects (perhaps <a href="https://www.fossology.org/" rel="noreferrer">FOSSology</a>, but I could be wrong) simply guessed free software libraries by comparing their constant literal strings against a previously built database of them.</p><p>BTW, what you are looking at is more or less called a <a href="https://en.wikipedia.org/wiki/Decompiler" rel="noreferrer">decompiler</a> and the process would be decompilation. Read also about <a href="https://en.wikipedia.org/wiki/Obfuscation_(software)" rel="noreferrer">obfuscation</a>.</p><p>With a lot of efforts and resources (e.g. what the NSA would be capable of) many things could be in practice possible, but difficult and costly.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-is-it-better-to-document-functions-in-the-header-file-or-the-source-file/'>C++ &#8211; Is it better to document functions in the header file or the source file</a></li><li class="list-group-item"><a href='../why-do-we-need-to-write-a-header-file/'>Why do we need to write a header file</a></li><li class="list-group-item"><a href='../c-common-header-file-for-c-and-javascipt/'>C++ &#8211; Common header file for C++ and JavaScipt</a></li><li class="list-group-item"><a href='../c-why-do-we-have-to-include-multiple-header-files-for-a-single-library-the-c-standard-library/'>C++ &#8211; Why do we have to include multiple header files for a single library (the C standard library)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>