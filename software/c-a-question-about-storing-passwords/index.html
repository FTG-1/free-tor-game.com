<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; A question about storing passwords &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070129 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070129" class="post-1070129 software type-software status-publish hentry category-software tag-c tag-passwords"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; A question about storing passwords</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">passwords</span></p><div class="entry-content"><p>I&#39;m creating a program (in C++) that will password protects its user&#39;s database (.dat) file. I&#39;m confused on where to store the password? In the user&#39;s database file or somewhere else.</p><p>I&#39;m new to this concept. I don&#39;t know where a program should store the hashed password. I&#39;ve been thinking for this from a long time.</p><p>I have a question too. If a program stores hashed password in the database file (along with users data) is it possible for an attacker to modify the hash inside the file to some common hash like the hash of the text &#39;password&#39; so that the password becomes &#39;password&#39;?</p><p>Edit: Okay! I&#39;ve somewhat understood the password storing concept. This is what I&#39;ve understood:</p><blockquote><p>Get the password from the user</p><p>Hash it (I will use SHA-512)</p><p>Store the hash in the database file</p><p>Done</p></blockquote><p>Probably, I didn&#39;t understand the symmetric hash concept. Please explain me in an easy way. And the question I have is&#8230; I&#39;ll better explain it with an example.</p><p>Assume this is user&#39;s file&#39;s content</p><pre><code>thisismydatabasefile
</code></pre><p>User decides to add a password. He types in the password and we hash it. The generated hash is somerandomhash. We encrypt the file with somerandomhash as the password and the hash is included in the encrypted file. So now the file content is</p><pre><code>encryptedfilesomerandomhash
</code></pre><p>Imagine the attacker got the encrypted database file. He knows that the hash of the password is &#34;somerandomhash&#34;. He now modifies the password hash &#39;somerandomhash&#39; to something common like &#39;somehashthatheknows&#39;. So what is a better way to store a password.</p><p>For ease, how do programs like zip, 7z, rar etc store passwords inside a archive file?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You correctly identified that storing the hash anywhere on the disk makes the password vulnerable to attacks such as <a href="http://en.wikipedia.org/wiki/Access_control">breaching file access control</a>, <a href="http://en.wikipedia.org/wiki/Ciphertext-only_attack">known cypher-text attacks</a>, or <a href="http://en.wikipedia.org/wiki/Chosen-ciphertext_attack">chosen cypher-text attacks</a>.</p><p><em><strong>Security Solution:</strong></em> <em>Do not store a hashed password on the disk.</em></p><p>Since your database is just a file we can use the general way to securely password protect a file on disk.</p><hr/><p><strong>Algorithm To Securely Password Protect A File:</strong></p><ol><li>Have the user input a password at runtime for the file. (database in your case)</li><li>Hash the password. (I&#39;d use <a href="http://en.wikipedia.org/wiki/SHA-2">SHA-256</a>)</li><li>Use the hash to derive a symmetric 256-bit key. (I&#39;d use hash directly as the key)</li><li>Use the 256-bit key to encrypt/decrypt the database file on the disk. (I&#39;d use the <a href="http://en.wikipedia.org/wiki/Advanced_Encryption_Standard">AES algorithm</a>)</li></ol><hr/><p><strong>Major Pro:</strong> Database encryption key is generated at run-time and never stored on the disk.</p><p><strong>Minor Con:</strong> Encryption and key derivation becomes implementation specific and laborous to implement.</p><p>You get to decide whether the required security for the application is worth the time to implement the security protocols correctly.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../is-it-safe-to-display-information-about-old-passwords-on-login-failure/'>Is it safe to display information about old passwords on login failure</a></li><li class="list-group-item"><a href='../what-if-the-client-needs-the-ability-to-retrieve-passwords/'>What if the client needs the ability to retrieve passwords</a></li><li class="list-group-item"><a href='../storing-passwords-for-usage-in-scripts/'>Storing passwords for usage in scripts</a></li><li class="list-group-item"><a href='../storing-plaintext-passwords-for-detecting-fraud/'>Storing plaintext passwords for detecting fraud</a></li><li class="list-group-item"><a href='../security-through-obscurity-and-storing-unencrypted-passwords/'>Security through obscurity and storing unencrypted passwords</a></li><li class="list-group-item"><a href='../is-this-scenario-an-exception-to-the-rule-of-never-storing-passwords-in-plaintext/'>Is this scenario an exception to the rule of never storing passwords in plaintext</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>