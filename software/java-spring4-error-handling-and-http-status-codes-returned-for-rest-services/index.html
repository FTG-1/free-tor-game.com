<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Spring4 error handling and HTTP status codes returned for REST services &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085564 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085564" class="post-1085564 software type-software status-publish hentry category-software tag-api tag-http tag-java tag-spring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Spring4 error handling and HTTP status codes returned for REST services</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">http</span><span class="mr-2 badge badge-warning">java</span><span class="mr-2 badge badge-primary">spring</span></p><div class="entry-content"><p>We are writing Spring4 based REST services and had a question about returned HTTP status codes.  It looks like the generally accepted approach is to let the app server or web server container handle the responses when the HTTP  protocol is not met.  For example 500 Internal Server could imply that the apache server internally has some permission issue.  For everything, a 200 should be returned by the application code.</p><p>I noticed that Spring and some Java libraries return 400 or 500 or other status that aren&#39;t necessarily associated with the standard HTTP response.  Are these libraries wrong?  For example, if any exception is thrown within a service method then a 500 is returned to the client. Is the HTTP response convention broken by Spring?  In that case, because an exception might be thrown by application code, shouldn&#39;t a 200 status code be returned?  Should the application code catch the error, return a 200 status code and add a more business/application specific message.  Let&#39;s say the application database is having issues?  Or is it OK to return the 500 message?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>For example 500 Internal Server could imply that the apache server
 internally has some permission issue.</p></blockquote><p>Not necessarily. Uncached errors in the server-side application will cause the java server to return a &#34;controlled&#34; error 500.</p><p>From the <em>web client</em> point of view, 500 means:</p><p>-<em>Something went wrong (<strong>somewhere</strong>) on the <strong>server-side</strong>. We don&#39;t know what. Don&#39;t retry the request</em>-</p><blockquote><p>For everything, a 200 should be returned by the application code.</p></blockquote><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" rel="nofollow noreferrer">The catalogue of status code is wider</a>, but 200 is basically the default code to say: <em>Ok, everything went fine</em>. I encourage you to look at the <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#2xx_Success" rel="nofollow noreferrer">2xx status code list</a> to enrich server-client the communication.</p><blockquote><p>For example, if any exception is thrown within a service method then a
 500 is returned to the client. Is the HTTP response convention broken
 by Spring?</p></blockquote><p>That&#39;s ok. When application errors reach the application server, the server catches them and does return the only reasonable error for uncontrolled errors. <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500" rel="nofollow noreferrer">500</a>.</p><blockquote><p>In that case, because an exception might be thrown by application
 code, shouldn&#39;t a 200 status code be returned?</p></blockquote><p>That would be read in this way:</p><p>--<em>the request successfully failed</em>--</p><p>From the communication point of view, it doesn&#39;t seem to me effective. Usually, 5xx error codes mean: <em>Try it much later</em>, while 4xx codes mean: <em>Try it again but, this time, do it well</em>. Returning a 2xx code when the request didn&#39;t finish successfully. What are we communicating to the client?</p><p>We might argue that the text message will tell the user what to do, despite de https status code but, what happens if there&#39;s no user? How would you programme a machine-to-machine communication if every call ends &#34;successfully&#34;? Matching strings? Declaring custom status codes? Wouldn&#39;t that add unnecessary complexity?</p><blockquote><p>Should the application code catch the error, return a 200 status code
 and add a more business/application specific message.</p></blockquote><p>Depends. If you want your application to be a <em>good www citizen</em> then no, you should not. It&#39;s good for web applications to make a proper usage of the architecture web. So, if you need to communicate an error (5xx, 4xx) alongside with a specific error message, then do It. Tell to the web client: <em>the request has not been processed due to the following errors</em></p><blockquote><p>Let&#39;s say the application database is having issues? Or is it OK to
 return the 500 message?</p></blockquote><p>It&#39;s ok, For this specific case, a 500 status code make sense. But, ultimately, depends on the requirements and your preferences. If you are concerned about how to manage the error handling with Spring web, it might interest the following links <a href="https://dzone.com/articles/exception-handling-spring-rest" rel="nofollow noreferrer">1</a> or <a href="https://www.javacodegeeks.com/2015/06/restful-error-handling-with-spring.html" rel="nofollow noreferrer">2</a>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../should-i-make-up-the-own-http-status-codes-a-la-twitter-420-enhance-your-calm/'>Should I make up the own HTTP status codes? (a la Twitter 420: Enhance Your Calm)</a></li><li class="list-group-item"><a href='../web-development-should-i-hide-certain-http-status-codes/'>Web-development &#8211; Should I hide certain HTTP status codes</a></li><li class="list-group-item"><a href='../php-the-best-way-to-create-rest-api-error-response-model-and-error-codes-system/'>Php &#8211;  the best way to create REST API error response model and error codes system</a></li><li class="list-group-item"><a href='../rest-do-web-applications-use-http-as-a-transport-layer-or-do-they-count-as-an-integral-part-of-the-http-server/'>Rest &#8211; Do web applications use HTTP as a transport layer, or do they count as an integral part of the HTTP server</a></li><li class="list-group-item"><a href='../should-i-use-http-status-codes-to-describe-application-level-events/'>Should I use HTTP status codes to describe application level events</a></li><li class="list-group-item"><a href='../restful-api-should-i-be-returning-the-object-that-was-created-updated/'>RESTful API. Should I be returning the object that was created / updated</a></li><li class="list-group-item"><a href='../what-http-status-code-to-return-if-multiple-actions-finish-with-different-statuses/'>What HTTP status code to return if multiple actions finish with different statuses</a></li><li class="list-group-item"><a href='../rest-good-practice-for-status-code-returned-by-restful-api-when-validating-a-token/'>Rest &#8211; Good practice for status code returned by restful API when validating a token</a></li><li class="list-group-item"><a href='../rest-should-http-status-codes-be-used-to-represent-business-logic-errors-on-a-server/'>Rest &#8211; Should HTTP status codes be used to represent business logic errors on a server</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>