<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Need to make the code more readable to the other programers in the team &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084203 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084203" class="post-1084203 software type-software status-publish hentry category-software tag-code-quality tag-logging tag-readability"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Need to make the code more readable to the other programers in the team</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">code-quality</span><span class="mr-2 badge badge-info">logging</span><span class="mr-2 badge badge-warning">readability</span></p><div class="entry-content"><p>I am working a project in <strong>delphi</strong> and I am creating a installer for the application,<br /> there are Three main parts.</p><ol><li><strong>PostgreSQL</strong> installation/uninstallation</li><li><strong>myapplication</strong> ( setup of myapplication is created using nsi) installation/uninstallation.</li><li><strong>Creating tables</strong> in Postgres through script(batch files).</li></ol><p>Every thing runs fine and smoothly, but if something fails I have created a LogToFileger which will LogToFile every step of the process,<br /> like this</p><pre><code>LogToFileToFile.LogToFile(&#39;[DatabaseInstallation]  :  [ACTION]:Postgres installation started&#39;);
</code></pre><p>The function <code>LogToFileToFile.LogToFile()</code> This will write the contents to a file. This is working nicely, but the problem is this has messed up the code as  in it has become difficult to <strong>read</strong> the code as one ca only see the <code>LogToFileToFile.LogToFile()</code> function call everywhere in the code</p><p>an example</p><pre><code> if Not FileExists(SystemDrive+&#39;\FileName.txt&#39;) then
 begin
    if CopyFile(PChar(FilePathBase+&#39;FileName.txt&#39;), PChar(SystemDrive+&#39;\FileName.txt&#39;), False) then
       LogToFileToFile.LogToFile(&#39;[DatabaseInstallation] :  copying FileName.txt to &#39;+SystemDrive+&#39;\ done&#39;)
       else
       LogToFileToFile.LogToFile(&#39;[DatabaseInstallation] :  copying FileName.txt to &#39;+SystemDrive+&#39;\ Failed&#39;);
 end;
 if Not FileExists(SystemDrive+&#39;\SecondFileName.txt&#39;)      then
   begin
     if CopyFile(PChar(FilePathBase+&#39;SecondFileName.txt&#39;), PChar(&#39;c:\SecondFileName.txt&#39;), False) then
       LogToFileToFile.LogToFile(&#39;[DatabaseInstallation] : copying SecondFileName.txt to &#39;+SystemDrive+&#39;\ done&#39;)
   else
       LogToFileToFile.LogToFile(&#39;[DatabaseInstallation] :  copying SecondFileName.txt to &#39;+SystemDrive+&#39;\ Failed&#39;);
 end;
</code></pre><p>as you can see there are lots of <code>LogToFileToFile.LogToFile()</code> calls,<br /> before it was</p><pre><code> if Not FileExists(SystemDrive+&#39;\FileName.txt&#39;) then
    CopyFile(PChar(FilePathBase+&#39;FileName.txt&#39;), PChar(SystemDrive+&#39;\FileName.txt&#39;), False) 
 if Not FileExists(SystemDrive+&#39;\SecondFileName.txt&#39;)      then
   CopyFile(PChar(FilePathBase+&#39;SecondFileName.txt&#39;), PChar(&#39;c:\SecondFileName.txt&#39;), False)
</code></pre><p>this is the case in my whole code now.<br /> its difficult to read.</p><p>can any one suggest me a nice way to unclutter the calls to LogToFile?</p><p>like</p><ol><li><p>Indenting the &#39; LogToFileToFile.LogToFile()` call<br /> like this</p><pre><code>   if Not FileExists(SystemDrive+&#39;\FileName.txt&#39;) then
     begin
         if CopyFile(PChar(FilePathBase+&#39;FileName.txt&#39;), PChar(SystemDrive+&#39;\FileName.txt&#39;), False) then
        {Far away---&gt;&gt;}                   LogToFileToFile.LogToFile(2,&#39;[DatabaseInstallation] :  [ACTION]:copying FileName.txt to &#39;+SystemDrive+&#39;\ sucessful&#39;)
   else
        {Far away---&gt;&gt;}                   LogToFileToFile.LogToFile(2,&#39;[DatabaseInstallation] :  [ACTION]:copying FileName.txt to &#39;+SystemDrive+&#39;\ Failed&#39;);
   end;
</code></pre></li><li><p>Separate <strong>unit</strong> like <code>LogToFileger</code><br /> This unit will have all the LogToFile messages in a <code>switch case</code> like this</p><pre><code> Function LogToFilegingMyMessage(LogToFilegMessage : integer)

 begin
case  LogToFilegMessage of

1         :  LogToFileToFile.LogToFile(2,&#39;[DatabaseInstallation] :  [ACTION]:copying FileName.txt to &#39;+SystemDrive+&#39;\ sucessful&#39;);
2         :  LogToFileToFile.LogToFile(2,&#39;[DatabaseInstallation] :  [ACTION]:copying FileName.txt to &#39;+SystemDrive+&#39;\ Failed&#39;);
   150        :  LogToFileToFile.LogToFile(2,&#39;[somthing] :  [ACTION]: somthing important);

end;
</code></pre></li></ol><p>so I can just call the LogToFilegingMyMessage(1) where ever required.</p><p>Can anyone tell me which is a better and cleaner approach to LogToFileging this way?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>When you added logging, you introduced two things:</p><ol><li>Code became bigger because for almost every action, you added a line that logs that action (or its failure)</li><li>Log lines themselves appear to be bloated and take away from readability because they take up so much room.</li></ol><p>Each of these has problems has its own, relatively simple solution:</p><ol><li><p>Break the code up into smaller functions.  Instead of having one giant function that contains all your copies as well as log messages for error/success, you could introduce a function &#34;CopyFile&#34;, that would copy exactly one file and logs it&#39;s own result.  That way your main code would just consist of CopyFile calls and would remain easy to read.</p></li><li><p>You could make your logger smarter.  Instead of passing in a giant string that has a lot of repetitive information, you could pass in enumerations values that would make things clearer.  Or you could define more specialized Log() functions, i.e. LogFileCopy, LogDbInsert...  Whatever you repeat a lot, consider factoring that out into its own function.</p></li></ol><p>If you follow (1), you could have code that looks like this:</p><pre><code>CopyFile( sOSDrive, &#39;Mapannotation.txt&#39; )
CopyFile( sOSDrive, &#39;Mappoints.txt&#39; )
CopyFile( sOSDrive, &#39;Mapsomethingelse.txt&#39; )
. . . .
</code></pre><p>Then your CopyFile() just needs few lines of code to do the action and log its result, so all your code remains concise and easy to read.</p><p>I would stay away from your approach #2 as you are detaching information that should stay together into different modules.  You are just asking for your main code to get out of sync with your log statements. But looking at LogMyMessage( 5 ), you&#39;ll never know that.</p><p><strong>UPDATE (response to comment):</strong> I&#39;m not familiar with exact language you are using, so this part might have to be adapted a bit.  It seems all your log messages identify 3 things: component, action, outcome.</p><p>I think this is pretty much what MainMa suggested. Instead of passing actual string, define  constants (in C/C++/C#, they would be part of enum enumeration type). So for example for components, you might have: DbInstall, AppFiles, Registry, Shortcuts...  Anything that make the code smaller will make it easy to read.</p><p>It would also help if your language supported variable parameter passing, not sure if that&#39;s possible.  So for example if action is &#34;FileCopy&#34;, you could define that action to have two additional user parameters: file name and destination directory.</p><p>So your file copying lines would look something like this:</p><pre><code>Bool isSuccess = CopyFile(PChar(sTxtpath+&#39;Mapannotation.txt&#39;), PChar(sOSdrive+&#39;\Mapannotation.txt&#39;), False)
LogBook.Log( DbInstall, FileCopy, isSuccess, &#39;Mapannotation.txt&#39;, sOSDrive )
</code></pre><p>*note, there&#39;s also no reason to copy/paste the log line twice if you can store the result of the operation in a separate local variable and just pass that variable into Log().</p><p>You see the theme here, right?  Less repetitive code -&gt; more readable code.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-write-readable-clojure-code/'>How to write readable Clojure Code</a></li><li class="list-group-item"><a href='../erlang-function-naming-conventions/'>Erlang function naming conventions</a></li><li class="list-group-item"><a href='../c-should-i-add-redundant-code-now-just-in-case-it-may-be-needed-in-the-future/'>C# &#8211; Should I add redundant code now just in case it may be needed in the future</a></li><li class="list-group-item"><a href='../calling-the-next-method-from-a-previous-one-why-is-this-bad-design/'>Calling the next method from a previous one&#8230; Why is this bad design</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>