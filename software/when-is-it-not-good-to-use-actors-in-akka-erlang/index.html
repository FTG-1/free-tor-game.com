<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>When is it NOT good to use actors in akka/erlang &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064633 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064633" class="post-1064633 software type-software status-publish hentry category-software tag-akka tag-complexity tag-erlang tag-immutability tag-scala"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">When is it NOT good to use actors in akka/erlang</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">akka</span><span class="mr-2 badge badge-info">complexity</span><span class="mr-2 badge badge-warning">erlang</span><span class="mr-2 badge badge-primary">immutability</span><span class="mr-2 badge badge-danger">scala</span></p><div class="entry-content"><p>I&#39;ve been working with akka for 7-8 months now daily.<br /> When I started, I would be working on applications and notice that actors would be used basically anywhere once inside the actor system for communicating between most objects. So I did the same &#8211; spin up another actor for x/y/z.</p><p>It seems to me that this may be too indiscriminate, adding complexity where it isn&#39;t needed &#8211; but I can&#39;t find any discussions on where actors vs plain synchronous or even async logic via futures should be used. I started pondering my stance after my coworker mentioned something similar. I realized several cases more recently where I have pondered a task and then avoided creating another actor because I could achieve the same result safely in an immutable implementation &#8211; eg something like getting configuration values from a db or file somewhere where you access very infrequently and will wait for the result is the actual use case.</p><p>In particular, it seems to me that any case where you&#39;re playing with immutable state, actors create complexity and limit throughput &#8211; a pure function in an object, for example, can be called concurrently with no risk with any level of concurrency, yet an actor can only process one message at a time. The alternate consideration is you&#39;ll park the thread if you need to wait for the result unless you start using futures but cases where you don&#39;t need to worry about async messaging or scale it seems it may be overkill to employ an actor.</p><p>So my question is &#8211; is there a bad time to use actors? I&#39;m curious how erlang looks and would really like other people&#39;s insight. Or if there are some principles around actor use.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>This is a question I am interested in and I have been doing some research on. For other viewpoints, see this <a href="https://noelwelsh.com/posts/2013-03-04-why-i-dont-like-akka-actors.html" rel="nofollow noreferrer">blog post by Noel Walsh</a> or <a href="https://stackoverflow.com/questions/12516910/akka-typedactor-vs-writing-my-own-static-interface-to-an-actor-class/12531136#12531136">this question</a> on Stack Overflow. I have some opinions I would like to offer:</p><ul><li>I think Akka, because it works with messages, encourages a &#34;push mindset&#34;. Often, for concurrency, I would argue this is not what you want. Pull is much safer. For example one common pattern for distributed systems is to have a set of <a href="http://www.rabbitmq.com/tutorials/tutorial-two-java.html" rel="nofollow noreferrer">workers processing information in a queue</a>. Obviously <a href="http://letitcrash.com/post/29044669086/balancing-workload-across-nodes-with-akka-2" rel="nofollow noreferrer">this is possible in Akka</a> but it doesn&#39;t necessarily seem to be the <a href="http://letitcrash.com/post/28901663062/throttling-messages-in-akka-2" rel="nofollow noreferrer">first approach people try</a>. Akka also offers <a href="http://doc.akka.io/docs/akka/2.1.0/modules/durable-mailbox.html" rel="nofollow noreferrer">durable mailboxes</a> but again it depends how you use them - a single shared queue is a lot more flexible than per worker queues for balancing / re-assigning work.</li><li>It&#39;s easy to get into the mindset of replacing your classes with actors. In fact some people even seem to advocate it by saying <a href="http://www.slideshare.net/shinolajla/effective-actors-jaxconf2012-14472247" rel="nofollow noreferrer">actors should only do one thing</a>. Taken to it&#39;s logical conclusion this increases code complexity as Jason describes, because if every class is an actor, that&#39;s a lot of extra messages and receive / send blocks. It also makes it harder to understand and test the code because you lose the formality of interfaces - and I am not convinced that <a href="https://stackoverflow.com/questions/12516910/akka-typedactor-vs-writing-my-own-static-interface-to-an-actor-class/12531136#answer-12665164">comments are a solution to this</a>. Also despite <a href="http://doc.akka.io/docs/akka/snapshot/dev/io-layer.html" rel="nofollow noreferrer">Akka&#39;s legendary efficiency</a>, I suspect that actor proliferation is not a good idea performance wise - when we use Java threads we know they are precious and conserve them accordingly.</li><li>It&#39;s related to the previous point, but another annoyance is the loss of type information that Noel and Pino highlight, as for many of us that&#39;s why we are using Scala rather than other languages such as Python. There are some ways around this but they are either <a href="https://groups.google.com/forum/#!topic/akka-user/THMgHyO21To" rel="nofollow noreferrer">non-standard</a>, <a href="http://doc.akka.io/docs/akka/snapshot/scala/typed-actors.html" rel="nofollow noreferrer">not recommended</a> or <a href="http://doc.akka.io/docs/akka/2.3-M2/scala/typed-channels.html" rel="nofollow noreferrer">experimental</a>.</li><li>Finally concurrency, even if you have a <a href="https://stackoverflow.com/questions/12516910/akka-typedactor-vs-writing-my-own-static-interface-to-an-actor-class/12531136#answer-12665164">&#34;let it crash&#34;</a> mindset, is hard. <a href="http://pop-users.org/occam-pi/" rel="nofollow noreferrer">Alternative programming models</a> can help but they don&#39;t make the problems go away - they change them - that&#39;s why it&#39;s good to <a href="http://en.wikipedia.org/wiki/Communicating_sequential_processes" rel="nofollow noreferrer">think about them formally</a>. It&#39;s also why Joe Average developer reaches for ready built tools like RabbitMQ, Storm, Hadoop, Spark, Kafka or NoSQL databases. Akka does have some prebuilt tools and components, which is cool, but it also feels quite low level, so more ready built common elements of distributed systems would help developers and ensure systems are built right.</li></ul><p>Like Jason, I am keen to hear other people&#39;s insight here. How can I address some of the issues above and use Akka better?</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/how-to-manage-a-complexity-jump/'>How to manage a complexity jump</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/using-akka-actors-with-service-spring-beans/'>Using akka actors with service spring beans</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/erlang-and-go-concurrent-programming-objective-differences-between-csp-and-actors/'>Erlang and Go concurrent programming, objective differences between CSP and Actors</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/when-should-i-use-zeromq-and-when-should-i-use-akka/'>When should I use ZeroMQ and when should I use Akka</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/why-is-akka-good-for-concurrency/'>Why is Akka good for concurrency</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/akka-event-sourcing-how-to-create-actor-per-entity/'>Akka Event Sourcing &#8211; how to create Actor per Entity</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>