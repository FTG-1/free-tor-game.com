<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Do wildcards in Java generics restrict or increase flexibility &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1078651 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1078651" class="post-1078651 software type-software status-publish hentry category-software tag-generics tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Do wildcards in Java generics restrict or increase flexibility</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">generics</span><span class="mr-2 badge badge-info">java</span></p><div class="entry-content"><p>I have read many sources about wildcards and Java generics. Even though I have seen many explanations and answers, none of them seems correct.</p><p>The question is very simple: Do wilcards in Java generics increase flexibility?</p><p>My understand is &#34;No&#34;. Wildcards in Java generics (wilcards) actually <strong>decrease</strong> flexibility.<br /> When I first looked at and used Java generics mechanism, I rarely/never used wildcards. Very often I saw and used the form <code>&lt;T&gt; abc(T xt)</code>. One day I got a test question about <code>super</code> and later I started looking at wildcards more closely.</p><p>Many sources and in particular: Effective Java 2nd gives an example as follows to show how wildcards increase flexibility.</p><pre><code>public class Stack&lt;E&gt; {
    ...
    public void pushAll(List&lt;E&gt; list) {...}
    ...
}
</code></pre><p>The books goes on and says that since we should be able to use <code>List</code> of anything extending <code>E</code> as argument to <code>pushAll(List&lt;E&gt; list)</code>, this is not flexible enough. Therefore, the book suggest changing the signature of the method to <code>pushAll(List&lt;? extends E&gt; list)</code>. Now if <code>E</code> is <code>Number</code> then we can even use <code>List&lt;Integer&gt;</code> as argument for <code>pushAll(List&lt;? extends Number&gt; list)</code>. And that we have increased flexibility (of the API).</p><p>My understanding is that the other solution is not to use wildcards but to use the regular typing. In that case, if we change the method signature to</p><pre><code>public &lt;T extends E&gt; void pushAll(List&lt;T&gt; list)
</code></pre><p>we will achieve the same thing that the wildcard version wants to achieve.<br /> And now in the body of the method, not only we can read from <code>list</code>, we can also write into it. If we use the the wildcard version, we cannot write into that list any value other than <code>null</code>. So in this view, wildcards actually <strong>decrease</strong> flexibility, not increase.</p><p>All in all, it looks to me that wildcards are actually used to decrease flexibility so that <code>&lt;? extends X&gt;</code> discourages people from writing into the object while <code>&lt;? super X&gt;</code> discourages people from reading the object (try it and you will get only <code>Object</code> as type of the returned value). The following example illustrates the <code>&lt;? super X&gt;</code> case.</p><pre><code>public void popAll(List&lt;? super E&gt; list) {
    Object x = list.get(0) // Only get Object as type here, reading is discouraged
}
</code></pre><p>We can change the signature to <code>public &lt;T extends E&gt; void popAll(List&lt;T&gt; list)</code>.<br /> Now we can write or read as we want. There is no restriction.</p><p>So to sum up: All usages of wildcards can be substituted by typed parameter in the manner of <code>&lt;T extends E&gt;</code> (so there can be <strong>no need</strong> for the keyword <code>super</code>) . Using wildcards, we lose flexibility in the ability to both read and write into the object. Therefore, wildcards <strong>decrease</strong> flexibility.</p><p>Is it therefore true that wildcards in Java actually decrease flexibility?  If not, how is my reasoning flawed?</p><p>[<strong>My question is flawed as per missing the cases as mentioned by @Doval in the comment under his answer.</strong>]</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>My understanding is that the other solution is not to use wildcards but to use the regular typing. In that case, if we change the method signature to (...) And now in the body of the method, not only we can read from list, we can also write into it. If we use the the wildcard version, we cannot write into that list any value other than null. So in this view, wildcards actually decrease flexibility, not increase.</p></blockquote><p>The problem is that you&#39;re assuming the increased flexibility is for the person writing the function; it&#39;s for the person <em>using</em> the function. The more flexibility the implementation gives up, the more flexibility the caller gains. The restrictions on the implementation are <em>guarantees</em> for the caller.</p><p>Case in point, when you change <code>pushAll(List&lt;E&gt;)</code> to <code>pushAll(List&lt;? extends E&gt;)</code>, the implementer can no longer assume that he knows the precise type stored in the list, and that is why you can&#39;t safely write to the list. But because of that, the caller is now free to to pass any list whose elements are a subtype of <code>E</code>, whereas before he could only pass lists of <code>E</code>.</p><p>You claim that if you change <code>pushAll</code> to <code>&lt;T extends E&gt; void pushAll(List&lt;T&gt;)</code> you can write to the list, but that&#39;s not true in this case. You don&#39;t know what class <code>T</code> is ahead of time, so you can&#39;t possibly create a <code>T</code> to insert into the list. The only way you could possibly add a <code>T</code> to the list is if the caller gave it to you. That&#39;s why Effective Java argues that you should replace type parameters with wildcards if they only appear once in the method; the main purpose of type parameters is to allow you to give an unknown type a name so you can refer to it more than once.</p><blockquote><p>All in all, it looks to me that wildcards are actually used to decrease flexibility so that  discourages people from writing into the object while <code>&lt;? super X&gt;</code> discourages people from reading the object (try it and you will get only Object as type of the returned value). (...) We can change the signature to public <code>&lt;T extends E&gt; void popAll(List&lt;T&gt; list)</code>. Now we can write or read as we want. There is no restriction.</p></blockquote><p>You can&#39;t just swap <code>super</code> for <code>extends</code>. Let&#39;s say you have a <code>Stack&lt;Number&gt;</code>. What&#39;s going to happen if you pass a <code>List&lt;Integer&gt;</code> to <code>popAll</code> and the stack tries to insert a <code>Double</code> into the list? Likewise, suppose you pass a <code>List&lt;Object&gt;</code> to <code>pushAll</code>; what&#39;s going to happen if the list has a <code>String</code> and you try to insert it into a stack of numbers? Bad things. That&#39;s why you use <code>? extends E</code> when you want to read from the collection and <code>? super E</code> when you plan on writing to it; it&#39;s the only safe way to do it. (There&#39;s a mnemonic for remembering which to use: <strong>PECS</strong>. Producer extends, consumer super.)</p><p>Besides, type parameters can&#39;t have lower bounds (you can&#39;t say <code>T super SomeClass</code>) so you&#39;re forced to use a wildcard for <code>super</code>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-generics-how-to-strike-a-balance-between-expressiveness-and-simplicity/'>Java Generics &#8211; how to strike a balance between expressiveness and simplicity</a></li><li class="list-group-item"><a href='../java-using-raw-types-in-java-method-signatures/'>Java &#8211; Using raw types in Java method signatures</a></li><li class="list-group-item"><a href='../java-using-type-parameter-or-not/'>Java &#8211; Using Type Parameter (or not)</a></li><li class="list-group-item"><a href='../object-oriented-extend-wrap-or-both-to-add-generics-to-a-class-that-should-have-had-them/'>Object-oriented &#8211; Extend, wrap, or both to add generics to a class that should have had them</a></li><li class="list-group-item"><a href='../java-using-super-keyword-to-access-super-class-members/'>Java &#8211; Using super keyword to access super class members</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>