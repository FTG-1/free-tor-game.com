<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Git branch model critique: always derive from master &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082020 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082020" class="post-1082020 software type-software status-publish hentry category-software tag-branching tag-git tag-gitflow"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Git branch model critique: always derive from master</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">branching</span><span class="mr-2 badge badge-info">git</span><span class="mr-2 badge badge-warning">gitflow</span></p><div class="entry-content"><p>I am currently working on a large project involving at least 3 teams working on separate feature sets in the same codebase versioned on Git. Some features require back-end integration and stabilization and I&#39;ve heard of features taking months from being ready to going live.</p><p>I&#39;ve seen <a href="http://nvie.com/posts/a-successful-git-branching-model/" rel="nofollow noreferrer">A successful Git branching model</a> and found it unsuitable for this situation, especially because <strong>feature branches must derive only from the development branch</strong>.</p><p>I assume features should always be in sync with master which represents current production code. The process of taking code from master-&gt;release-&gt;develop-&gt;feature <strong>makes keeping features up-to-date more difficult</strong>.</p><p>Plus, <strong>when complex merge conflicts arise</strong> on a merge from release to develop, <strong>who should solve it?</strong> On a large project with distributed teams with non-overlapping responsibilities not a single person is best suited to resolve complex merge conflicts across a whole codebase. <strong>No one owns the develop branch</strong>, neither a person or a team.</p><p><strong>Merging features to and from the development</strong> branch also brings to them not-yet-production-ready code from other features while trying to keep them up-to-date with master, making <strong>feature branches sort of infect one another in the process</strong>. Once I&#39;ve pulled from development to update my feature with latest production code and be able to call it &#34;finished&#34;, I&#39;ve infected my branch with supposedly finished code from other features that have merged to development. If any features in development are found to be either hard to stabilize or de facto a bad idea, we&#39;ve compromised the development branch and all its feature branches.</p><p>Instead of deriving from the development branch, <strong>I found deriving from master and merging into disposable &#34;release-package&#34; branches lead to less headaches</strong>.</p><p><img src="../../../i.stack.imgur.com/OlHHV.png" alt="Diagram for my proposed branch model"/></p><p><strong>When merge conflicts arise</strong> in master-&gt;feature merge, <strong>the person doing the merge is the one most suited to resolve them</strong>. She knows the code and what it should do, <strong>it&#39;s her feature</strong>.</p><p>Features are streamlined into disposable release branches that can be deleted and reformed at any time. <strong>If a feature is not ready to go live by the release deadline, we can delete and recreate the package without it</strong>.</p><p>Development is only done in feature branches. Release branches only receive merges. If features conflict in a meaningful way, we should question if they should be merged into one another or scheduled for sequential release, one after another. In the case we merge two features into one another, the scenario might look too similar to NVIE&#39;s branch model, but here we are given a choice to do it or reschedule the features and recreate the release package.</p><p><strong>The disposable nature of release branches and the independence of feature branches makes it possible to stage fallback releases.</strong></p><p><img src="../../../i.stack.imgur.com/mE1VF.png" alt="Fallback release diagram"/></p><p>If all four features don&#39;t stabilize until the deadline, only 1 and 2 go live.</p><p><strong>Is my proposal a suitable branch model?</strong></p><p>PS: I&#39;ve read <a href="https://softwareengineering.stackexchange.com/a/167821/54167">this answer</a> about branch models vs quality and CI, and I don&#39;t think it applies. This project does have a quality problem. This quality problem will be there tomorrow and the next month, and while this quality problem remains there must be a suitable branch model we can use, one that does not make life harder.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The main problem you are going to face is that when you are combining the feature branches to a release branch, you&#39;ll need to solve all the inter-branch conflicts. Merge conflicts are the easier ones, since they pop when you are merging specific branches and you can ask the branch owner to solve them(it&#39;s far from ideal though, since the branch is not fresh in the owner&#39;s memory). But not all conflicts pop us as merge conflicts - some create compilation errors or runtime bugs, and it&#39;s not as trivial to figure which feature branches have caused those.</p><p>A possible solution can be to shorten the release cycle - adding more rapid &#34;sub-releases&#34;, e.g. twice a week. This will limit the number of feature branches you are merging on each sub-release, which in turn limit the conflict potential. This, of course, comes with it&#39;s own problems - a frequent release overhead, where the release master needs to choose which features to merge in each sub-release, and after the sub-release the developers need to merge/rebase their pending feature branches(and resolve conflicts).</p><p>At any rate, I think your fear of branching-from-<code>develop</code> is unjustified. You are portraying <code>develop</code> as some big playground where all developers push their unfinished scrabbles of untested code - and it&#39;s not true. The feature branches fulfill this role. <code>develop</code>, while it might not need to be as stable and as rigorously tested as <code>master</code>, should still have a certain level of stability - the primary rule is not to push to develop if it&#39;ll prevent the other developers from continuing to develop even if they merge/rebase <code>develop</code> to their feature branches.</p><p>This essentially means that you don&#39;t merge a feature branch to <code>develop</code> unless it passes automated tests(doesn&#39;t have to be the full suite - if you have a 10-minute suite that catches most bugs and a 5-hour suite that catches even the rarest of bugs, test the feature branches with the 10-minutes suite), so it should be OK to merge it to <code>develop</code>.</p><p>Note that <code>master</code> still needs to pass the 5-hour suite, and you have no guarantee a a merged feature branch won&#39;t break the 5-hour suite - but neither does your model provide such guarantee. The point is that even if a merged feature branch does break the 5-hour suite - it&#39;s still a branch you want in the next release(otherwise you wouldn&#39;t have merged it to <code>develop</code>), and the solution is rarely to exclude the feature from the next release.</p><h2>Update</h2><p>To answer the asker&#39;s first comment to this answer:</p><blockquote><p>When runtime integration bugs arise, the affected feature-set team will be assigned to correct it. If it is caused by code from features created by any of the other teams, fixes are made into pull requests to the offending feature branch. Pull requests are then reviewed by the team that owns that feature, merged in and then merged into the release package. The team that knows how a feature should work makes the fix, the team who owns the offending code reviews it.</p></blockquote><p>This method of solving bugs has several drawbacks compared to solving them as part of the preparation of a feature branch to be merged into <code>develop</code>:</p><ol><li><p>The feature-set where the bug happens is usually easy in to figure in both methods. The actual changes that invoked the bug are trivial when branching from <code>develop</code> and very tricky when branching from <code>master</code>. The former only gives you a cue about you about who should be assigned to try solving the bug first, which is not as useful as the actual lead you get from the letter. At any rate, branching from <code>develop</code> allows you to have both hints.</p></li><li><p>The responsibility is backwards. If anything, the owner of the offending code is the one who should fix it, since they know best what they are trying to achieve, and the owner of the feature-set is the one who should review it, because they know best how the different parts of the feature-set should interact with each other.</p><p>But the branch-from-<code>develop</code> approach has an even better way to decide who will be the one to start solving the conflict - it&#39;s <em>the one who tries to merge last</em>!</p><p>Now, that claim might seem a little weird and arbitrary - it looks unfair to &#34;punish&#34; the developer who pushed last for being slow. But I believe they are the best choice for starting to solve the problem:</p><ul><li><p>They are already in the context of the problem. This is the most important reason - being in context is crucial for solving problems, and entering context is hard. But the developer who pushes last is already in context, because that&#39;s the task they are working on. They have already build the mental model that can help them solve this problem.</p></li><li><p>They are available. They don&#39;t have something more urgent to do right now, because what they were doing was trying to merge their feature branch, and solving the conflict is required for merging the feature branch.</p></li><li><p>They don&#39;t have to actually solve the conflict entirely by themselves - just to be the first ones to look at it. When examining the problem they can decide some other developers need to be involved. Since they are in context, they are in the best position to tell who these other developers are. Also since they are in context, they can help bringing these other developers quickly into context.</p></li></ul></li><li><p>That pull request into the offending feature branch will be a nightmare. The code in the feature branch works, because the other branch it was conflicting with is not part of it. So, you are sending a fix to a problem that&#39;s not yet there, that might have to relies on changes that come with the same code that introduced that problem. There is no sane way to do that without merging/rebasing the other branch(or the new release) into the feature branch - but if you do that you are just using branch-from-<code>develop</code> with <code>develop</code> having it&#39;s name replaced on each release.</p></li></ol></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../git-when-using-git-is-using-the-master-branch-for-active-development-advisable/'>Git &#8211; When using Git, is using the master branch for active development advisable</a></li><li class="list-group-item"><a href='../git-in-git-is-the-use-of-a-production-branch-necessary-and-or-would-it-be-feasible-to-have-more-than-one-of-them/'>Git &#8211; In Git, is the use of a &#8216;PRODUCTION&#8217; branch necessary and/or would it be feasible to have more than one of them</a></li><li class="list-group-item"><a href='../git-use-of-the-master-branch-in-git-branching-models/'>Git &#8211; use of the master branch in Git branching models</a></li><li class="list-group-item"><a href='../git-branch-model-with-qa-and-branches/'>Git branch model with QA and branches</a></li><li class="list-group-item"><a href='../git-recommended-git-branch-strategy-for-two-products-in-the-same-repo/'>Git &#8211;  recommended Git branch strategy for two products in the same repo</a></li><li class="list-group-item"><a href='../git-can-long-lived-feature-branches-be-justified-by-merging-master-into-the-feature-branch-daily/'>Git &#8211; Can long lived feature branches be justified by merging master into the feature branch daily</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>