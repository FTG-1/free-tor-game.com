<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Git &#8211; How to organize Git for maintaining a code base used and modified in multiple projects &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1086882 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1086882" class="post-1086882 software type-software status-publish hentry category-software tag-frameworks tag-git tag-project-structure tag-version-control"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Git &#8211; How to organize Git for maintaining a code base used and modified in multiple projects</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">frameworks</span><span class="mr-2 badge badge-info">git</span><span class="mr-2 badge badge-warning">project-structure</span><span class="mr-2 badge badge-primary">version control</span></p><div class="entry-content"><p>I&#39;m trying to figure out the best use of Git for my development team. We work on multiple C projects that share some <strong>common modules</strong>, each one <strong>varying a bit in each project</strong>. A module can be a hardware driver, a sensor driver using a hardware driver, an algorithm library, a task using a library with a sensor module, etc.</p><p>That means that if a module is in both projectA and projectB, a developer of projectA might want to change a piece of code in this module, to propose this change to the library owner who will accept it, without that it directly changes the state of the module in projectB. Then, the developer of projectB might want, or not want, to update its module, as well as modifying it a bit to match his needs.</p><p>I&#39;ve already read <a href="https://stackoverflow.com/questions/15795360/git-version-control-setup-for-multiple-projects-with-shared-code">this Q/A</a> but I am not sure it&#39;s the same scenario, I think that in this Q/A the author does not want to modify the module into projectA or projectB. Another difference with this Q/A is that I would really, really prefer if this was possible while having all my modules in the same repository (but the projects in different repositories). This is because we&#39;re working on embedded projects so our libraries cannot be really independent, they are organized by layers. It would seem crazy for us to have one repository per software module (sensor this, sensor that, algorithm this, algorithm that, task this, task that, hardware module this, hardware module that, etc).</p><p>I have also read this <a href="https://softwareengineering.stackexchange.com/questions/139017/how-to-organize-a-framework-based-project-in-git">Q/A</a> but I&#39;m not sure if adding all the modules in one submodule allow  a project developer to manage each module independently.</p><p>Would it be possible to work like this while having one big library/modules repository, and projects repositories ? If so how should we work ? Can we consider the projects as forks of the main modules collection repository or using it as a submodule is the way to go ?</p><p>Here is a schematic with what I&#39;d like to achieve :<br /> <a href="../../../i.stack.imgur.com/ayNBk.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/ayNBk.png" alt="Git organization"/></a></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Basically if you accept a pull request from A and B don&#39;t want it, you can&#39;t distribute the same module. This means you need :</p><ol><li>The core module, which include everything that you develop for A &amp; B</li><li>A core&#39;s branch dedicated for A&#39;s specific</li><li>A core&#39;s branche dedicated for B&#39;s specific</li></ol><p>Another solution could be to use preprocessor&#39;s directive to isolate A&#39;s specific stuff and same for B but I&#39;m not sure it&#39;s a good idea on the long run and it will increase the complexity of your module.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../git-how-to-organize-a-framework-based-project-in-git/'>Git &#8211; How to organize a framework based project in Git</a></li><li class="list-group-item"><a href='../git-how-to-organize-personal-git-repositories/'>Git &#8211; How to organize personal Git repositories</a></li><li class="list-group-item"><a href='../git-i-have-a-library-and-several-small-programs-that-use-it-how-should-i-structure-the-git-repositories/'>Git &#8211; I have a library and several small programs that use it: how should I structure the git repositories</a></li><li class="list-group-item"><a href='../git-repository-structure-for-interdependent-projects/'>Git Repository Structure for Interdependent Projects</a></li><li class="list-group-item"><a href='../git-how-to-keep-two-git-projects-in-sync-with-each-other/'>Git &#8211; How to keep two git projects in sync with each other</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>