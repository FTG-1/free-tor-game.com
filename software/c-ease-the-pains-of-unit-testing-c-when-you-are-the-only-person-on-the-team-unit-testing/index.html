<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Ease the pains of unit testing C# when you are the only person on the team unit testing &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084043 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084043" class="post-1084043 software type-software status-publish hentry category-software tag-c tag-unit-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Ease the pains of unit testing C# when you are the only person on the team unit testing</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">unit testing</span></p><div class="entry-content"><p>I have ran into this a few times where you get put on a project and you want to do unit testing of some type, but the project isn&#39;t setup right to allow for this and you might not have buy-in from everyone.  The main issues tend to be code smells like issues with dependencies (especially the over use of statics) and seperation of concerns.  New code that you write can be setup easily, but anything that operates with other legacy code or even those not drinking the cool aide can become an issue.</p><p>Some things that I have found are that isolation frameworks like TypeMock can make this easier. <strong>What are some other tools/tricks/best practices that you have found that ease this sort of pain?</strong></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Wow, this describes a recent situation of mine exactly on a large, existing project.  No unit tests at all, and reluctance toward/skepticism of the idea.  At the time of writing, I&#39;ve been able to work with another person who favored it to get it more accepted (though he and I are largely the only ones that generally write tests).  The code base was (still is) heavily laden with procedural static code, but it&#39;s getting better.  Here are some of the things that I did to improve the situation:</p><ol><li>Immediately interface all singletons, especially ones in heavy use.  Then, inject the interface into the new client classes you&#39;re writing to make them testable.</li><li>Write wrappers for static classes that implement interfaces and inject those into new clients ala (1).</li><li>Start gradually retrofitting your injected interfaces on former clients of static state/singletons and writing tests for them.</li><li>Starting pulling functionality out of behemoth classes and testing the extracted, single-responsibility classes.</li><li>Touched on earlier, but inject your dependencies!</li><li>Write or factor to small methods and classes.</li><li>Keep up the refactoring until you can finally kill the singletons/statics.</li></ol><p>These are ways to make your code more testable (and, I would argue, better in general), but selling the process to others is a different matter.  I would offer the following advice for that:</p><ol><li>Write tests and show people how to do it  (the biggest barrier being a literal lack of knowledge of how to write tests).</li><li>If you review people&#39;s code, write a unit test to expose a problem instead of telling them about it.  Show them the failing test and task them with making it pass.</li><li>Make sure your test runs execute quickly - long running test suites will rot and annoy people.</li><li>If the application is large, show people that the feedback loop is much faster for modify-test-refactor than it is for modify-build-run-maniulate-gui-observe-refactor.</li><li>Unit test a feature that you write and keep objective statistics (defects reported per LOC) to compare to non-tested code.  This is a win with management.</li><li>Along those same lines, run static analysis/metrics on the unit tested code which, in my experience, tends to score better than non-tested code.  Objective metrics are hard to argue with.</li><li>Point out to people that guarding their code with unit tests makes it harder for someone to come along and mess with their code in defiance of their original intentions.  Sounds petty, but this is often a selling point for people when they realize it.</li><li>Product implementation documents or writeups for consumption by stakeholders that emphasize code coverage or number of tests.  This creates the (accurate) impression that your code is demonstrably reliable and managers/analysts/PM types might start asking others where their coverage/test metrics are.</li><li>Finally, and this is the one that I&#39;ve found to be most eye opening or other developers, demonstrate the power of unit testing (specifically TDD for this one).  Pull off a coup like a major refactoring of your work in less than a day or having your code execute perfectly the first time you put it all together and run the application.  Developers who code it up and then spend a few days in the debugger programming by coincidence will be sobered by this in a way that they won&#39;t be all the unit test proselytizing in the world.</li></ol></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../unit-testing-have-unit-test-generators-helped-you-when-working-with-legacy-code/'>Unit-testing &#8211; Have unit test generators helped you when working with legacy code</a></li><li class="list-group-item"><a href='../unit-testing-how-to-explain-the-value-of-unit-testing/'>Unit-testing &#8211; How to explain the value of unit testing</a></li><li class="list-group-item"><a href='../java-on-the-effectiveness-of-unit-testing/'>Java &#8211; On the effectiveness of unit testing</a></li><li class="list-group-item"><a href='../c-does-unit-testing-lead-to-premature-generalization-specifically-in-the-context-of-c/'>C++ &#8211; Does unit testing lead to premature generalization (specifically in the context of C++)</a></li><li class="list-group-item"><a href='../c-should-you-reuse-an-entity-framework-edmx-between-multiple-solutions/'>C# &#8211; Should you reuse an Entity Framework EDMX between multiple solutions</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>