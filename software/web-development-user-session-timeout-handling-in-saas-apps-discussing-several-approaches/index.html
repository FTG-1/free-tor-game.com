<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Web-development &#8211; User session timeout handling in SaaS apps &#8211; discussing several approaches &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070688 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070688" class="post-1070688 software type-software status-publish hentry category-software tag-session tag-web-development"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Web-development &#8211; User session timeout handling in SaaS apps &#8211; discussing several approaches</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">session</span><span class="mr-2 badge badge-info">web-development</span></p><div class="entry-content"><p>I know this has a great chance of being marked as duplicate, but couldn&#39;t find exactly what I&#39;m looking for</p><p>This is a common problem and I&#39;m sure it has some well defined best practice solution</p><h1>Background</h1><ol><li><p>A single page SaaS app, has lot&#39;s of drag and drop, user can<br /> interact with it without much server communication for periods of<br /> time</p></li><li><p>Server session only holds user object, using a non persistent session cookie</p></li><li><p>Session expires on the server after X hours</p></li><li><p>Some things are loaded only during log-in</p></li></ol><h1>Problem</h1><ol><li>User works on the app, when done, user doesn&#39;t log out, just keeps the browser open</li><li>User comes back after more than X hours (session is invalidated on server)</li><li>User interacts with the app without needing a server connection (drags and drops things, text edits&#8230;)</li><li>Only on the next server interaction (let&#39;s assume there is no auto save) user is thrown to login page and loses some of their work</li></ol><h2>Possible solutions</h2><p>Here are some solutions I have in mind, would like to hear if there are any others, and if there is anything fundamentally wrong with any of them.</p><p><strong>1. Never log the user out</strong></p><ul><li><strong>How?</strong> either keep a long session, keep a persistent cookie, or javaScript &#34;keep alive&#34; ping</li><li><strong>Pros</strong>: user doesn&#39;t need to worry about anything, fixes the problem for them</li><li><strong>Cons</strong>: not PCI compliant, not secure, and needs development changes, e.g. things loaded to session only on user log in need to move to either a pub sub model (listening on event changes) or have cache timeout.</li></ul><p><strong>2. Local Storage</strong></p><ul><li><strong>How?</strong> use new local storage to temporarily store state if logged out, redirect to login page, persist once logged in</li><li><strong>Pros</strong>: Also base for &#34;work offline&#34; support, not just handling session timeout</li><li><strong>Cons</strong>: harder to implement, need to do state merge of data tree, not all browsers support</li></ul><p><strong>3. Auto save</strong></p><p>Every user action that changes the model, should persist immediately (or via some sort of a client side queue), e.g. if they check a checkbox,  change a text field, or drag and drop something, once they are done, persist the changes.</p><ul><li><strong>How?</strong> Use an MV** framework (Backbone.js / Knockout.js / Ember.js / Angular.js etc) to bind the model, and persist on changes.</li><li><strong>Pros</strong>: Seems like a clean solution, session is active as long as user is active, no client side work is done without persisting it.</li><li><strong>Cons</strong>: The last action user is doing after a session timeout is lost.</li></ul><p><strong>4. Log the user out after session expires</strong></p><p>this can have several approaches</p><ol><li><p>Ask the server &#34;has session expired&#34; &#8211; this is a bit of a catch 22 / Schrodinger&#39;s cat, as the mere question to the server extends the session (restarts the timeout),</p><ul><li><strong>How?</strong> Either have a server that supports such question (I don&#39;t know of any, but I come form Java land)  or, one can just keep a table of session IDs, and last access time manually, and ask the server by passing the session ID as a parameter instead of the cookie, I&#39;m not sure if this is even possible, but it sounds dangerous, insecure and bad design whatsoever.login page, persist once logged in</li><li><strong>Pros</strong>: If there was such native support in servers, sounds like a clean, legitimate question (asking if user X still has a session or not without renewing it if they do)</li><li><strong>Cons</strong>: If the server doesn&#39;t support it (and again, I don&#39;t know if any server or framework has this functionality) then the workaround has huge security risks potentially.</li></ul></li><li><p>One workaround I&#39;ve heard is have a short session on the server side, and a keep alive client side ping, that has a maximum number of pings</p><ul><li><strong>How?</strong> Short session on server, client pings every sessionTimeOut/2, has max retries of Y.</li><li><strong>Pros</strong>: Kind of fixes the problem, quick and dirty</li><li><strong>Cons</strong>: Feels like a hack, handling the session renewal yourself instead of letting the server do it</li></ul></li><li><p>Client side timer</p><ul><li><p><strong>How?</strong> Have a timer on the client side and sync it with the server one by restarting it on every request to be equal to the max server session timeout minus some padding, after user is not sending any request to the server, UI shows a &#34;sessions is about to time out, do you want to continue?&#34; (like you have on online banking )</p></li><li><p><strong>Pros</strong>: Fixes the problem</p></li><li><strong>Cons</strong>: Can&#39;t think of any except the need to make sure the sync works</li></ul></li></ol><h1>The Question</h1><p>I&#39;m probably missing something in the above analysis, might have some silly mistakes, and I would like your help to correct them. What other solutions I can have for this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think the most common simple solution is where you set a timer on the client end that shows a message after a certain portion of the normal timeout window has passed then forcibly logs them out right before the session would expire anyway if they take no action.</p><p>Local storage and auto-save introduce some issues with transactions and what saved really means.  I have been on quite a few projects where this has turned out to be more trouble than it is worth when the user base does not understand the mechanics behind it.</p><p>Never logging out can be done where regulations permit, but it leads you into mistakes where you do not correctly handle what happens if someone is logged out unexpectedly, and all the state business becomes a little intensive to maintain if there is very much to track on an &#34;active&#34; user.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../web-development-how-frequent-should-the-token-updation-in-csrf-security-be/'>Web-development &#8211; How frequent should the Token Updation in CSRF security be</a></li><li class="list-group-item"><a href='../javascript-managing-session-timeouts-with-regards-to-user-activity-in-the-page/'>Javascript &#8211; Managing session timeouts with regards to user activity in the page</a></li><li class="list-group-item"><a href='../web-development-handling-of-user-session-expiration-in-mvc-based-web-application/'>Web-development &#8211; Handling of user session expiration in MVC-based web application</a></li><li class="list-group-item"><a href='../how-to-redirect-to-an-asp-net-mvc-page-with-extended-session/'>How to redirect to an ASP.NET MVC page with extended session</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>