<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Constructor with tons of parameters vs builder pattern &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1065349 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1065349" class="post-1065349 software type-software status-publish hentry category-software tag-builder-pattern tag-constructors tag-design-patterns"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Constructor with tons of parameters vs builder pattern</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">builder-pattern</span><span class="mr-2 badge badge-info">constructors</span><span class="mr-2 badge badge-warning">design-patterns</span></p><div class="entry-content"><p>It is well know that if your class have a constructor with many parameters, say more than 4, then it is most probably a <a href="https://en.wikipedia.org/wiki/Code_smell" rel="noreferrer">code smell</a>. You need to reconsider if the class satisfies <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle" rel="noreferrer">SRP</a>.</p><p>But what if we build and object that depends on 10 or more parameters, and eventually end of with setting all those parameters through Builder pattern? Imagine, you build a <code>Person</code> type object with its personal info, work info, friends info, interests info, education info and so on. This is already good, but you somehow set that same more than 4 parameters, right? Why this two cases are not considered to be the same?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The Builder Pattern does not solve the “problem” of many arguments. But why are many arguments problematic?</p><ul><li>They indicate your class might be <strong>doing too much</strong>. However, there are many types that legitimately contain many members that cannot be sensibly grouped.</li><li><strong>Testing</strong> and understanding a function with many inputs gets exponentially more complicated – literally!</li><li>When the language does not offer named parameters, a function call is <strong>not self-documenting</strong>. Reading a function call with many arguments is quite difficult because you have no idea what the 7th parameter is supposed to do. You wouldn&#39;t even notice if the 5th and 6th argument were swapped accidentally, especially if you&#39;re in a dynamically typed language or everything happens to be a string, or when the last parameter is <code>true</code> for some reason.</li></ul><h2>Faking named parameters</h2><p>The <strong>Builder Pattern</strong> addresses only one of these problems, namely the maintainability concerns of function calls with many arguments<sup>∗</sup>. So a function call like</p><pre><code>MyClass o = new MyClass(a, b, c, d, e, f, g);
</code></pre><p>might become</p><pre><code>MyClass o = MyClass.builder()
  .a(a).b(b).c(c).d(d).e(e).f(f).g(g)
  .build();
</code></pre><p><sup>∗ The Builder pattern was originally intended as a representation-agnostic approach to assemble composite objects, which is a far greater aspiration than just named arguments for parameters. In particular, the builder pattern does not require a fluent interface.</sup></p><p>This offers a bit of extra safety since it will blow up if you invoke a builder method that doesn&#39;t exist, but it otherwise does not bring you anything that a comment in the constructor call wouldn&#39;t have. Also, manually creating a builder requires code, and more code can always contain more bugs.</p><p>In languages where it is easy to define a new value type, I&#39;ve found that it&#39;s way better to use <strong>microtyping/tiny types</strong> to simulate named arguments. It is named so because the types are really small, but you end up typing a lot more ;-)</p><pre><code>MyClass o = new MyClass(
  new MyClass.A(a), new MyClass.B(b), new MyClass.C(c),
  new MyClass.D(d), new MyClass.E(e), new MyClass.F(f),
  new MyClass.G(g));
</code></pre><p>Obviously, the type names <code>A</code>, <code>B</code>, <code>C</code>, … should be self-documenting names that illustrate the meaning of the the parameter, often the same name as you&#39;d give the parameter variable. Compared with the builder-for-named-arguments idiom, the required implementation is a lot simpler, and thus less likely to contain bugs. For example (with Java-ish syntax):</p><pre><code>class MyClass {
  ...
  public static class A {
    public final int value;
    public A(int a) { value = a; }
  }
  ...
}
</code></pre><p>The compiler helps you guarantee that all arguments were provided; with a Builder you&#39;d have to manually check for missing arguments, or encode a state machine into the host language type system – both would likely contain bugs.</p><p>There is another common approach to simulate named arguments: a single abstract <strong>parameter object</strong> that uses an inline class syntax to initialize all fields. In Java:</p><pre><code>MyClass o = new MyClass(new MyClass.Arguments(){{ argA = a; argB = b; argC = c; ... }});

class MyClass {
  ...
  public static abstract class Arguments {
    public int argA;
    public String ArgB;
    ...
  }
}
</code></pre><p>However, it is possible to forget fields, and this is a quite language-specific solution (I&#39;ve seen uses in JavaScript, C#, and C).</p><p>Fortunately, the constructor can still validate all arguments, which is not the case when your objects are created in a partially-constructed state, and require the user to provide further arguments via setters or an <code>init()</code> method – those require the least coding effort, but make it more difficult to write <em>correct</em> programs.</p><p>So while there are many approaches to address the “many <em>unnamed</em> parameters make code difficult to maintain problem”, other problems remain.</p><h2>Approaching the root problem</h2><p>For example the testability problem. When I write unit tests, I need the ability to inject test data, and to provide test implementations to mock out dependencies and operations that have external side effects. I can&#39;t do that when you instantiate any classes within your constructor. Unless the responsibility of your class is the creation of other objects, it shouldn&#39;t instantiate any non-trivial classes. This goes hand in hand with the single responsibility problem. The more focussed the responsibility of a class, the easier it is to test (and often easier to use).</p><p>The easiest and often best approach is for the constructor to <strong>take fully-constructed dependencies as parameter</strong>, though this shoves the responsibility of managing dependencies to the caller – not ideal either, unless the dependencies are independent entities in your domain model.</p><p>Sometimes <strong>(abstract) factories or full dependency injection frameworks</strong> are used instead, though these might be overkill in the majority of use cases. In particular, these only reduce the number of arguments if many of these arguments are quasi-global objects or configuration values that don&#39;t change between object instantiation. E.g. if parameters <code>a</code> and <code>d</code> were global-ish, we&#39;d get</p><pre><code>Dependencies deps = new Dependencies(a, d);
...
MyClass o = deps.newMyClass(b, c, e, f, g);

class MyClass {
  MyClass(Dependencies deps, B b, C c, E e, F f, G g) {
    this.depA = deps.newDepA(b, c);
    this.depB = deps.newDepB(e, f);
    this.g = g;
  }
  ...
}

class Dependencies {
  private A a;
  private D d;
  public Dependencies(A a, D d) { this.a = a; this.d = d; }
  public DepA newDepA(B b, C c) { return new DepA(a, b, c); }
  public DepB newDepB(E e, F f) { return new DepB(d, e, f); }
  public MyClass newMyClass(B b, C c, E e, F f, G g) {
    return new MyClass(deps, b, c, e, f, g);
  }
}
</code></pre><p>Depending on the application, this might be a game-changer where the factory methods end up having nearly no arguments because all can be provided by the dependency manager, or it might be a large amount of code that complicates instantiation for no apparent benefit. Such factories are way more useful for mapping interfaces to concrete types than they are for managing parameters. However, this approach tries to addresses the root problem of too many parameters rather than just hiding it with a pretty fluent interface.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/java-builder-pattern-when-to-fail/'>Java &#8211; Builder Pattern: When to fail</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/builder-design-patterns-passing-parameters-from-client-to-the-builder/'>Builder design patterns: passing parameters from client to the builder</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/how-to-promote-the-use-of-the-builder-pattern-in-the-team/'>How to promote the use of the Builder pattern in the team</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-why-would-a-type-be-coupled-with-its-builder/'>Java &#8211; Why would a type be coupled with its builder</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-is-it-strange-for-a-builder-object-to-have-getter-methods/'>Java &#8211; Is it strange for a Builder object to have getter methods</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/builder-pattern-in-multiple-stages/'>Builder pattern in multiple stages</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>