<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Many small requests vs. few large requests (API Design) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063362 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063362" class="post-1063362 software type-software status-publish hentry category-software tag-api-design tag-design tag-rest tag-server"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Many small requests vs. few large requests (API Design)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api-design</span><span class="mr-2 badge badge-info">design</span><span class="mr-2 badge badge-warning">rest</span><span class="mr-2 badge badge-primary">server</span></p><div class="entry-content"><p>I&#39;m currently working on a project with an organization as follows:</p><ul><li><strong>Client</strong> &#8211; Gets data from the main server via REST api.</li><li><strong>Server</strong> &#8211; Requests data from various other servers via third-party APIs</li><li><strong>Third-party APIs</strong> &#8211; Services out of my control that provide data to the server (Reddit, Hackernews, Quora, etc.)</li></ul><p>For the sake of argument, let&#39;s say the client first needs a list of items from each of the third-party APIs. From this list, an item will be chosen at which point the client needs to see the full content of the item as well as responses (i.e. comments) to the item. I&#39;m trying to decide between three options:</p><h2>A la Carte</h2><p>In this approach, I would have 3 separate endpoints on my server: one to get the list of items, one to get the main content for an item, and one to get the responses of the item.</p><ul><li>Pros: I never make more requests than I need to, requests should be small so generally they should be faster.</li><li>Cons: I have to make a lot of requests. After choosing an item from the list, the user may have to wait before seeing the main content and then wait even longer to see the responses</li></ul><h2>Server-side cache</h2><p>In this request, I would make a single call to my server to &#34;fetch&#34; all the data for all sources. The data would then be cached on the server. The client would then have the same REST endpoints as before, except there wouldn&#39;t be much waiting between calls since my server already has the data and just has to feed it to the client.</p><ul><li>Pros: Still easy to implement on the client side, but without the latency issues</li><li>Cons: A bit more involved server side, and the first call could take really really long.</li></ul><h2>Client-side cache</h2><p>This scenario is similar to the previous one except the client only ever makes one request to the server: give me all of the data. From here it&#39;s the client&#39;s responsibility to save the data and use it appropriately.</p><ul><li>Pros: Easy server implementation, very speedy after the first call</li><li>Cons: First call will be very slow, more complicated client-side implementation</li></ul><p>I&#39;m not sure which is the best approach, or if maybe I&#39;m missing the obvious solution. Any advice would be greatly appreciated!</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>One thing to keep in mind is the expected network latency (i.e. ping time) between your clients and your server.  In a high-latency situation with otherwise good bandwidth, many small requests will perform <em>significantly</em> worse than one large one.</p><p>I&#39;ve recently been collaborating on a multi-team database-backed web application project in which one of the teams is in India (the rest are in the US). We have a single database instance hosted in our US office to which developers connect our local webserver instances. My desk is maybe fifty feet and two LAN hops away from the database instance, and performance is fine.</p><p>When we first got things started with the developers in India, they were experiencing enormous wait times starting up the application and navigating page-to-page.  We&#39;re talking ten minute wait times here. It turns out that this was because the ~200ms ping time from their desks to our dev database server was getting multiplied by many, many brief queries to the database.  My local 0.5ms ping was so trivial that the chattiness between webserver and database server never mattered.  This was the first time that we had geographic separation between webserver and database server.</p><p>The solution in our case was to clone the database server and stand the copy up in India, but the point here is to keep in mind that if your client and server are far apart, network latency will be multiplied by the number of communications across the wire.  Bandwidth once the connection is established is typically much less of a concern.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../sending-a-collection-of-data-to-an-api-multiple-small-calls-vs-one-big-call/'>Sending a collection of data to an API. Multiple small calls vs one big call</a></li><li class="list-group-item"><a href='../web-development-how-to-safely-chain-several-api-requests-for-a-single-user/'>Web-development &#8211; How to safely chain several API requests for a single user</a></li><li class="list-group-item"><a href='../rest-specialized-api-endpoints-or-multiple-calls-to-generic-resources/'>Rest &#8211; Specialized API endpoints or multiple calls to generic resources</a></li><li class="list-group-item"><a href='../rest-by-the-book-rest-vs-too-many-requests/'>Rest &#8211; By the book REST vs Too Many Requests</a></li><li class="list-group-item"><a href='../rest-api-design-how-to-break-down-the-api-object-to-make-more-scalable-and-robust-api/'>REST API Design: How to break down the API object to make more scalable and robust API</a></li><li class="list-group-item"><a href='../rest-the-best-practice-for-sending-a-large-array-of-strings-to-an-api/'>Rest &#8211;  the best practice for sending a large array of strings to an API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>