<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Domain Driven Design: Should Specification Pattern exist in Repository or Application level for Paging &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085987 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085987" class="post-1085987 software type-software status-publish hentry category-software tag-net-core tag-architecture tag-asp-net-core tag-c tag-domain-driven-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Domain Driven Design: Should Specification Pattern exist in Repository or Application level for Paging</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">.net core</span><span class="mr-2 badge badge-info">Architecture</span><span class="mr-2 badge badge-warning">asp.net-core</span><span class="mr-2 badge badge-primary">c</span><span class="mr-2 badge badge-danger">domain-driven-design</span></p><div class="entry-content"><p>In Domain Driven Design, should the specification pattern for paging/pagination exist on the Repository level or Application level, or another layer? Trying to see what Eric Evans author of DDD stated. Then I can implement the code in correct layer. Sample code below.</p><p>Paging meaning, example have 100 products, and want to display 5 for each 20 pages.</p><p><strong>Example 1:</strong> <a href="https://deviq.com/specification-pattern/" rel="nofollow noreferrer">https://deviq.com/specification-pattern/</a></p><pre><code>// https://github.com/dotnet-architecture/eShopOnWeb
public IEnumerable&lt;T&gt; List(ISpecification&lt;T&gt; spec)
{
    // fetch a Queryable that includes all expression-based includes
    var queryableResultWithIncludes = spec.Includes
        .Aggregate(_dbContext.Set&lt;T&gt;().AsQueryable(),
            (current, include) =&gt; current.Include(include));

    // modify the IQueryable to include any string-based include statements
    var secondaryResult = spec.IncludeStrings
        .Aggregate(queryableResultWithIncludes,
            (current, include) =&gt; current.Include(include));

    // return the result of the query using the specification&#39;s criteria expression
    return secondaryResult
                    .Where(spec.Criteria)
                    .AsEnumerable();
}
</code></pre><p><strong>Example 2:</strong> <a href="https://thinkbeforecoding.com/post/2009/01/19/Repositories-and-IQueryable-the-paging-case" rel="nofollow noreferrer">https://thinkbeforecoding.com/post/2009/01/19/Repositories-and-IQueryable-the-paging-case</a></p><pre><code>public interface IPaged&lt;T&gt; : IEnumerable&lt;T&gt;
    {
        int Count { get;} 
        IEnumerable&lt;T&gt; GetRange(int index, int count);
    }

public class Paged&lt;T&gt; : IPaged&lt;T&gt;
    {

        private readonly IQueryable&lt;T&gt; source;
        public Paged(IQueryable&lt;T&gt; source)
        {
            this.source = source;
        }

        public IEnumerator&lt;T&gt; GetEnumerator()
        {
            return source.GetEnumerator();
        }

        IEnumerator IEnumerable.GetEnumerator()
        {
            return GetEnumerator();
        }


        public int Count
        {
            get { return source.Count(); }
        }

        public IEnumerable&lt;T&gt; GetRange(int index, int count)
        {
            return source.Skip(index).Take(count);
        }

    }
</code></pre><p>Code for Paging/Pagination</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><strong>Paging is an implementation detail.</strong></p><p>DDD concerns itself mostly with architectural design; it doesn&#39;t have much to say about how you handle page breaks, since handling concerns like paper size or screen length is not part of the business domain, although it can be a part of the design process.</p><p>Where should you put your paging? <em>Where it is most convenient for you.</em></p><p>I see a lot of articles talk about putting this responsibility in the repository, using either a Specification Pattern or some other way to filter records.  That&#39;s fine, if you want to work that way.  Personally, I see paging as a <em>display concern,</em> so I would expect to see it closer to the UI or printing operation than that, perhaps in the ViewModel or Service Layer.</p><p>Letting the repository handle the paging has its benefits.  If you design it correctly, you can potentially reduce the amount of data you are retrieving, since the paging mechanism will only retrieve the data that it needs for each page, and will not retrieve data for pages that are never printed or displayed.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/python-ddd-domain-driven-design-which-development-order-should-be-applied/'>Python &#8211; DDD &#8211; Domain Driven Design, which development order should be applied</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-help-understanding-modeling-in-domain-driven-design/'>C# &#8211; Help understanding modeling in domain-driven design</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/domain-driven-design-approach-for-game/'>Domain Driven Design approach for game</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-entity-unique-identifier-in-domain-driven-design/'>C# &#8211; Entity unique identifier in domain driven design</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-domain-driven-design-navigation-properties-and-aggregate/'>C# &#8211; Domain Driven Design // Navigation Properties and Aggregate</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>