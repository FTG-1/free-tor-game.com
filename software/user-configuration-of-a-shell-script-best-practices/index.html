<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>User Configuration of a Shell Script. Best practices &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075356 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075356" class="post-1075356 software type-software status-publish hentry category-software tag-bash tag-configuration tag-configuration-management tag-shell"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">User Configuration of a Shell Script. Best practices</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">bash</span><span class="mr-2 badge badge-info">configuration</span><span class="mr-2 badge badge-warning">configuration-management</span><span class="mr-2 badge badge-primary">shell</span></p><div class="entry-content"><p>I am writing a shell script with a few variables that should be configured by the user. There will be an installer for downloading and configuring the script, possibly by asking a series of question. The script in question is aimed at other developers.</p><p>This can be implemented in a number of ways:</p><ol><li><p><strong>Use placeholders</strong> in the script itself and use <code>sed</code> to replace them during installation (something like this: <a href="https://stackoverflow.com/questions/415677/how-to-replace-placeholders-in-a-text-file">https://stackoverflow.com/questions/415677/how-to-replace-placeholders-in-a-text-file</a>)</p><ul><li><p>Pros: All variable definitions are contained within the script. It&#39;s easy to download the script manually and configure the variables for users who prefer an editor over the installer.</p></li><li><p>Cons: It&#39;s hard to reconfigure the variables through the installer once they are in place. Unless I create a more complex regexp which would be prone to errors.</p></li></ul></li><li><p><strong>Use a config file</strong>, basically another shell script with assignments, and use <code>source</code> to include it. (And probably place it in <code>~/.scriptname</code>? The main script is copied to <code>/usr/local/bin</code>)</p><ul><li><p>Pros: It&#39;s easy to reconfigure the script. Could even add a parameter for doing so from the main script (Would probably work in the first solution as well, but editing a script from itself doesn&#39;t sound like a very good idea)</p></li><li><p>Cons: The script is now dependent on two files and the user is required to run the installer for the configuration file to be created. This can be solved by auto generating a config file if none exists. But locating an external configuration file will still be more cumbersome for users who just want to download the script, edit it, and be done with it.</p></li></ul></li></ol><p>Also, a few options regarding how the configuration should be managed by the user after the installation:</p><ol><li><p><strong>Git like</strong><br /> $ myscript config server.host example.org<br /> $ myscript config server.proxypath /home/johndoe/proxy<br /> $ myscript config server.httppath /home/johndoe/web</p></li><li><p><strong>Interactive</strong><br /> $ myscript config<br /> Enter the server hostname: example.org<br /> Enter the path to the proxy on the server: /home/johndoe/proxy<br /> Enter the path to the http directory on the server: /home/johndoe/web</p></li><li><p><strong>getopts with long options</strong><br /> $ myscript &#8211;host example.org &#8211;proxypath /home/johndoe/proxy &#8211;httppath  /home/johndoe/web</p></li><li><p><strong>Simple</strong><br /> $ myscript config example.org /home/johndoe/proxy /home/johndoe/web</p></li></ol><p>Are there any other ways of doing this that you would consider?<br /> Any best practices, anything elegant?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>What would I expect from a sane program (a shell script or not):</p><ul><li>I <em>never ever</em> have to alter the executable to just configure it. This is not an OS kernel.</li><li>I can pass any setting using command line. This is a must for every piece of information that does not have a reasonable default. The only exception is a password which needs interactive input.</li><li>Optionally, I can pass a setting using an environment variable.</li><li>I can write the settings down into a config file, and this file will be used if it is present under a well-known name, or explicitly pointed to using the two methods above.</li><li>The config file uses the very same setting names and syntax as command line.</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-the-best-way-to-store-configurations-of-shell-script-code-to-execute-later/'>Python &#8211;  the best way to store configurations of shell/script code to execute later</a></li><li class="list-group-item"><a href='../web-development-best-practice-for-configuration-files-in-a-website/'>Web-development &#8211; Best practice for configuration files in a website</a></li><li class="list-group-item"><a href='../best-practices-for-handling-large-number-of-structured-configuration-property-files/'>Best practices for handling large number of structured configuration/property files</a></li><li class="list-group-item"><a href='../where-to-store-application-configuration/'>Where to store application configuration</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>