<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>When should I use event-based programming &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064573 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064573" class="post-1064573 software type-software status-publish hentry category-software tag-event-programming"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">When should I use event-based programming</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">event-programming</span></p><div class="entry-content"><p>I have been passing callbacks or just triggering the functions from other function in my programs to make things happen once tasks complete. When something finishes, I trigger the function directly:</p><pre class="lang-js prettyprint-override"><code>var ground = &#39;clean&#39;;

function shovelSnow(){
    console.log(&#34;Cleaning Snow&#34;);
    ground = &#39;clean&#39;;
}

function makeItSnow(){
    console.log(&#34;It&#39;s snowing&#34;);
    ground = &#39;snowy&#39;;
    shovelSnow();
}
</code></pre><p>But I&#39;ve read about many different strategies in programming, and one that I understand to be powerful, but have not yet practiced, is event-based (I think a method I read about was called <em>&#34;pub-sub&#34;</em>):</p><pre class="lang-js prettyprint-override"><code>var ground = &#39;clean&#39;;

function shovelSnow(){
    console.log(&#34;Cleaning Snow&#34;);
    ground = &#39;clean&#39;;
}

function makeItSnow(){
    console.log(&#34;It&#39;s snowing&#34;);
    ground = &#39;snowy&#39;;
    $(document).trigger(&#39;snow&#39;);
}

$(document).bind(&#39;snow&#39;, shovelSnow);
</code></pre><p>I&#39;d like to understand the objective strengths and weaknesses of event-based programming, vs just calling all of your functions from within other functions. In which programming situations does event-based programming make sense to use?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>An <em>event</em> is a notification describing an occurrence from the recent past.</p><p>A typical implementation of a event-driven system utilises an <em>event dispatcher</em> and <em>handler functions</em> (or <em>subscribers</em>). The dispatcher provides an API to wire handlers up to events (jQuery&#39;s <code>bind</code>), and a method to publish an event to its subscribers (<code>trigger</code> in jQuery). When you&#39;re talking about IO or UI events, there&#39;s also usually an <em>event loop</em>, which detects new events such as mouse-clicks and passes them to the dispatcher. In JS-land, the dispatcher and event loop are provided by the browser.</p><p>For code that interacts directly with the user - responding to keypresses and clicks - event-driven programming (or a variation thereof, such as <a href="https://stackoverflow.com/questions/1028250/what-is-functional-reactive-programming">functional reactive programming</a>) is almost unavoidable. You, the programmer, have no idea when or where the user is going to click, so it&#39;s down to the GUI framework or browser to detect the user&#39;s action in its event loop and notify your code. This type of infrastructure is also used in networking applications (cf NodeJS).</p><p>Your example, wherein you raise an event <em>in your code</em> rather than calling a function directly has some more interesting tradeoffs, which I will discuss below. The main difference is that the publisher of an event (<code>makeItSnow</code>) does not specify the receiver of the call; that&#39;s wired up elsewhere (in the call to <code>bind</code> in your example). This is called <em>fire-and-forget</em>: <code>makeItSnow</code> announces to the world that it&#39;s snowing, but it doesn&#39;t care who&#39;s listening, what happens next, or when it happens - it simply broadcasts the message and dusts off its hands.</p><hr/><p>So the event-driven approach decouples the sender of the message from the receiver. One advantage this affords you is that a given event may have multiple handlers. You could bind a <code>gritRoads</code> function to your snow event without affecting the existing <code>shovelSnow</code> handler. You have flexibility in the way your application is wired up; to turn off a behaviour you just need to remove the <code>bind</code> call rather than go hunting through the code to find all the instances of the behaviour.</p><p>Another advantage of event-driven programming is that it gives you somewhere to put cross-cutting concerns. The event dispatcher plays the role of <a href="../../../en.wikipedia.org/wiki/Mediator_pattern.html" rel="noreferrer">Mediator</a>, and some libraries (such as <a href="https://github.com/iancooper/Paramore" rel="noreferrer">Brighter</a>) utilise a pipeline so that you can easily plug-in generic requirements such as logging or quality-of-service.</p><p><sup>Full disclosure: Brighter is developed at Huddle, where I work.</sup></p><p>A third advantage of decoupling the sender of an event from the receiver is that it gives you flexibility in <em>when</em> you handle the event. You could process each type of event on its own thread (if your event dispatcher supports it), or you can put raised events onto a message broker such as <a href="http://www.rabbitmq.com/" rel="noreferrer">RabbitMQ</a> and handle them with an asynchronous process or even process them in bulk overnight. The receiver of the event could be in a separate process or on a separate machine. You don&#39;t have to change the code which raises the event to do this! This is the Big Idea behind &#34;microservice&#34; architectures: autonomous services communicate using events, with messaging middleware as the backbone of the application.</p><p>For a rather different example of event-driven style, look to domain-driven design, where <a href="http://www.udidahan.com/2009/06/14/domain-events-salvation/" rel="noreferrer"><em>domain events</em></a> are used to help keep aggregates separate. For example, consider an online store which recommends products based on your purchase history. A <code>Customer</code> needs to have its purchase history updated when a <code>ShoppingCart</code> is paid for. The <code>ShoppingCart</code> aggregate might notify the <code>Customer</code> by raising a <code>CheckoutCompleted</code> event; the <code>Customer</code> would get updated in a separate transaction in response to the event.</p><hr/><p>The main downside of this event-driven model is indirection. It&#39;s now harder to find the code which handles the event because you can&#39;t just navigate to it using your IDE; you have to figure out where the event is bound in the configuration and hope that you&#39;ve found all the handlers. There&#39;s more stuff to keep in your head at any one time. Code style conventions can help here (for example, putting all the calls to <code>bind</code> in one file). For the sake of your sanity, it&#39;s important to only use one event dispatcher and to use it consistently.</p><p>Another disadvantage is that it&#39;s difficult to refactor events. If you need to change the format of an event you also need to change all the receivers. This is exacerbated when the subscribers of an event are on different machines, because now you need to synchronise software releases!</p><p>In certain circumstances, performance may be a concern. When processing a message, the dispatcher has to:</p><ol><li>Look up the correct handlers in some data structure.</li><li>Build a message processing pipeline for each handler. This may involve a bunch of memory allocations.</li><li>Dynamically call the handlers (possibly using reflection if the language requires it).</li></ol><p>This is certainly slower than a regular function call, which only involves pushing a new frame on the stack. However, the flexibility that an event-driven architecture affords you makes it much easier to isolate and optimise slow code. Having the ability to submit work to an asynchronous processor is a big win here, as it allows you to serve a request immediately while the hard work is dealt with in the background. In any case, if you&#39;re interacting with the DB or drawing stuff on the screen then the costs of IO will totally swamp the costs of processing a message. It&#39;s a case of avoiding premature optimisation.</p><hr/><p>In summary, events are a great way to build loosely coupled software, but they are not without cost. It would be a mistake, for example, to replace <em>every</em> function call in your application with an event. Use events to make meaningful architectural divisions.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../should-an-event-listener-be-called-if-attached-after-the-event-has-already-fired/'>Should an event listener be called if attached after the event has already fired</a></li><li class="list-group-item"><a href='../c-should-i-use-one-event-multiple-subscribers-or-multiple-events-multiple-subscribers/'>C# &#8211; Should I use: One event multiple subscribers or multiple events multiple subscribers</a></li><li class="list-group-item"><a href='../event-driven-programming-when-is-it-worth-it/'>Event-driven programming: when is it worth it</a></li><li class="list-group-item"><a href='../event-driven-programming-in-haskell/'>Event driven programming in Haskell</a></li><li class="list-group-item"><a href='../should-i-use-a-command-or-an-event/'>Should I use a command or an event</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>