<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; Techniques for ensuring cross-platform compatibility (C++) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072203 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072203" class="post-1072203 software type-software status-publish hentry category-software tag-c tag-cross-platform tag-development-process"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; Techniques for ensuring cross-platform compatibility (C++)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">cross platform</span><span class="mr-2 badge badge-warning">development-process</span></p><div class="entry-content"><p>I was finishing one of my earliest C++ projects which is (according to the framework) supposed to be cross-platform. I developed the project fully in Windows and Visual Studio, thinking that since the libraries are all cross-platform, then doing the OSX build &#34;later on&#34; would be trivial. This turned out not to be the case, but rather the &#34;Windows code&#34; doesn&#39;t run properly and had some compilation errors to be fixed.</p><p>What techniques exist to beforehand ensure that the code is compatible with all platforms? Developing all platforms simultaneously, thus testing the code against every platform at the same time, when new features are added, rather than develop the different platform versions one after each other?(*)</p><p>Looking specifically advise that&#39;s not dependent on the tools, but rather &#34;development processes&#34; that help cross-platform compatibility, regardless of what tools are used. Like the one (*) above.</p><hr/><p>Specifically I&#39;m developing a VST plug-in with WDL-OL (<a href="https://github.com/olilarkin/wdl-ol" rel="noreferrer">https://github.com/olilarkin/wdl-ol</a>) and some cross-platform DSP libraries. WDL-OL projects have both VS and Xcode projects set up, but I guess the problems come from the libraries and then differences in compilers.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Creating portable code can be very challenging.</p><p>First some obvious language related advices:</p><ul><li>use standard C++ and avoid carefully any <a href="https://stackoverflow.com/q/367633/3723423">undefined behavior</a></li><li>rely primarily on standard library (and portable libraries such as <a href="http://www.boost.org/" rel="nofollow noreferrer">boost</a>)</li><li>always include all expected headers.  Do not assume that you don&#39;t need a header because it&#39;s included in another one (i.e.<em>on one specific implementation</em> !) : this can cause compilation errors</li><li>avoid constructs which are supported by compiler but not guaranteed by <strong>C++</strong> standard (e.g <a href="https://msdn.microsoft.com/en-us/library/a3bbz53t.aspx#Anchor_0" rel="nofollow noreferrer">anonymous struct</a> or <a href="https://gcc.gnu.org/onlinedocs/gcc/Variable-Length.html" rel="nofollow noreferrer">variable length array</a>) : can cause compilation errors.</li><li>use compiler options to help you to enforce compliance (disabling compiler specific extensions, maximize the level of warning messages returned)</li><li>keep in mind that it&#39;s not sufficient that the code works: there are many implementation dependent portability pitfalls : size of (even elementary) data types, characters which can be <a href="https://stackoverflow.com/q/17097537/3723423">signed or unsigned by default</a>, assumptions about <a href="https://en.wikipedia.org/wiki/Endianness" rel="nofollow noreferrer">endianness</a>, order of evaluation in expressions when these use <a href="https://stackoverflow.com/a/25323426/3723423">side effects</a>, etc.</li></ul><p>Then a couple of design recommendations:</p><ul><li>Prefer standard library alternative to equivalent operating system functionality</li><li>Isolate use of operating system dependencies as much as possible (for example, in a wrapper function controlled with conditional compilation)</li></ul><p>Finally the delicate points:</p><ul><li>character encoding: on many systems you can rely on <a href="http://utf8everywhere.org/" rel="nofollow noreferrer">utf8</a>.  But for Windows it&#39;s more delicate as the system either expects ansi or utf-16.  You can of course rely on a typedef (like <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ff381407(v=vs.85).aspx" rel="nofollow noreferrer"><code>TCHAR</code></a>), but this can then be challenging in combination with the standard library (e.g. <code>cout</code> vs <code>wcout</code> to be used depending if using <code>char</code> or <code>wchar_t</code>)</li><li>If for GUI/graphics/advanced I/O you can&#39;t find a portable library that suits your expectations/requirements, design the overall architecture to isolate OS-specific components. Wrappers might not be sufficient here, due to the many different interactions and concepts involved.</li><li>Take benefit of some interesting design patterns such as for example the <a href="http://www.oodesign.com/abstract-factory-pattern.html" rel="nofollow noreferrer">abstract factory</a> (ideal for designing families of related objects such as in OS specific UI) or the <a href="http://www.oodesign.com/mediator-pattern.html" rel="nofollow noreferrer">mediator</a> (ideal to implement collaboration between families of related objects) and use them together with conditional compilation.</li></ul><p>But these are only advices. In this area you can&#39;t gain certainty.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>