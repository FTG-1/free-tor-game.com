<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture &#8211; How to get in touch with another Bounded Context w/o REST API &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082337 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082337" class="post-1082337 software type-software status-publish hentry category-software tag-architecture tag-domain-driven-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture &#8211; How to get in touch with another Bounded Context w/o REST API</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">domain-driven-design</span></p><div class="entry-content"><p><strong>Question</strong>:</p><ul><li>If I have to fetch an entity from another Bounded Context in order to map it to something in this Bounded Context, how would I go about doing that?</li><li>Do I call the foreign Bounded Context&#39;s Application Layer? Perhaps I need a new &#34;Query&#34; Application Layer for such queries?</li><li>Do I call foreign Bounded Context&#39;s repositories?</li><li>Do I call foreign Bounded Context&#39;s Domain model directly?</li></ul><p><strong>Domain model</strong> (please note two separate Bounded Contexts):</p><ul><li><code>CustomerContext.Customer</code> &#8211; this is the complete Customer model.</li><li><code>ConsentContext.Person</code> &#8211; a scaled-down, heavily transformed version of multiple instances of <code>CustomerContext.Customer</code>. Rules guiding this transformation reside in <code>ConsentContext.Person</code>. <code>Person</code> never references ˙Customer` directly, no dependency here.</li><li>Please note: these two entities most definitely belong to separate Bounded Contexts. Customer is what the business works with on a daily basis. Consent Person is heavily transformed due to legal and business requirements and has a different structure altogether. Customer is merely a data source, so Person can create itself using internal business logic.</li></ul><p><strong>Application Layer</strong>:</p><ul><li><code>ConsentContext.ApplicationService</code> &#8211; implements use cases. As part of those use cases it fetches <code>ConsentContext.Person</code> through some <code>PersonRepository</code>.</li></ul><p><strong>Repos</strong>:</p><ul><li><code>ConsentContext.PersonRepository</code> has to get in touch with the <code>CustomerContext</code> and retrieve the <code>CustomerContext.Customer</code> and map to a new Person. This is where I am coming up short &#8211; what do I call from here? <code>CustomerContext</code>&#39;s Application Layer? <code>CustomerContext</code>&#39;s repositories? <code>CustomerContext</code>&#39;s Domain model directly?</li></ul><p><strong>Other</strong>:</p><ul><li>Both Bounded Contexts run in the same process, I am not using a REST API.</li><li>I am targeting Customer/Supplier relationship.</li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I’m going to sidestep the discussion of whether there really are two bounded contexts, and address the question of how they can share data.  Before doing that, however, I have to point out that you are doing yourself a disservice by having 2 bounded contexts in the same process.  From Microsoft’s definition</p><blockquote><p>Bounded contexts are autonomous components, with their own domain
 models and their own ubiquitous language. They should not have any
 dependencies on each other at run time and should be capable of
 running in isolation.  However they are a part of the same overall
 system and do need to exchange data with one another.</p></blockquote><p>A big advantage of bounded contexts is their independence from one another. If one goes down, the other should survive and be able to keep functioning.  This also helps in scalability by allowing deployment on different servers if the app gets more popular than expected.</p><p>Note that 2 process spaces doesn’t have to mean 2 servers.  They can both share the same hardware but should have as little coupling between them as possible, meaning no coupling in code.</p><p>Along the coupling idea, we have this from Eric Evans</p><blockquote><p>Code reuse between BOUNDED CONTEXTS is a hazard to be avoided.</p></blockquote><p>All of the options provided above violate this guidance.</p><p>So your question has to do with the final sentence of the Microsoft definition of a Bounded Context.  These are your options in order of preference</p><p>Each context can cache the information in needs from the other contexts.  This is done via an event queue or message queue that all contexts share, and as important aggregates change they inform other interested contexts.   Julie Lerman has a good discussion of it <a href="https://msdn.microsoft.com/en-us/magazine/dn802601.aspx" rel="noreferrer">here</a>. If you want to stick with a single piece of hardware, the message queue can also run on that hardware, though that would introduce some scalability and durability concerns.</p><p>Second option is to add an API.  I know you say you don’t have one, but APIs can be deployed as part of the context so they are little extra work.  They can also be locked down to only accept requests from localhost using CORS rules.</p><p>Third option is a shared database, but now we’re coupling the contexts so this is a dangerous road.  If you MUST do this, at least make the tables in separate schemas so the developer is aware they are breaking the wall between the contexts.</p><p>I would avoid all three of the options you have listed.  It’s not hard to imagine requirements changing in one context that conflict with the rules in another.  After all, that’s why you separated them into separate contexts to begin with.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../architecture-ddd-bounded-contexts-domains/'>Architecture &#8211; DDD Bounded Contexts &#038; Domains</a></li><li class="list-group-item"><a href='../how-to-formulate-the-domain-model-in-domain-driven-design-properly-bounded-contexts-domains/'>How to formulate the Domain Model in Domain Driven Design properly (Bounded Contexts, Domains)</a></li><li class="list-group-item"><a href='../rest-conceptual-mismatch-between-ddd-application-services-and-rest-api/'>Rest &#8211; Conceptual mismatch between DDD Application Services and REST API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>