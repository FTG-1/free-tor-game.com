<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Nested objects in REST &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067156 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067156" class="post-1067156 software type-software status-publish hentry category-software tag-design tag-modeling tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Nested objects in REST</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">modeling</span><span class="mr-2 badge badge-warning">rest</span></p><div class="entry-content"><p>I have simple set of resources, not more than 10 types, with some one-to-many relationships.<br /> For example</p><ul><li>An order has many entries</li><li>An entry has many comments</li><li>A machine can have multiple entries associated</li><li>A material can have multiple orders associated</li></ul><p>All the model objects are identified by a unique Primary Key</p><p>I communicate using REST HTTP calls. How should the objects be modeled?</p><h3>Option 1: Nesting objects</h3><p>The relationships can result in nested objects:</p><pre><code>entry{
  PK: &#39;_&#39;,
  prop1: &#39;_&#39;,
  prop2: &#39;_&#39;,
  machine:{
    PK: &#39;_&#39;,
    prop3: &#39;_&#39;
  },
  order: {
    PK: &#39;_&#39;,
    material: {
      PK: &#39;_&#39;,
      prop4: &#39;_&#39;
    }
  }
}
</code></pre><p>And similarly for the other objects</p><h3>Option 2: Reference by PK</h3><p>This approach &#34;flattens&#34; the objects:</p><pre><code>entry{
  PK: &#39;_&#39;,
  prop1: &#39;_&#39;,
  prop2: &#39;_&#39;,
  machinePK: &#39;_&#39;,
  orderPK: &#39;_&#39;
}
</code></pre><p>What is the best approach? obviously both have clear advantages and disadvantages. Is an hybrid approach a viable solution? If so, which criteria should I follow to chose between &#34;flat&#34; or &#34;nested&#34; objects? Could it possibly depend by the technology I use to implement that (Changing the model because of the technologies smells like bad practice though&#8230;)?</p><p>To give some context, I am using ASP.NET WebApi 2 for the backend and AngularJS in Typescript for the frontend</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It depends on the experience you want the programmer to have as well as complexity and performance impact in your application.</p><ul><li><p>If the single object is large, and the consumer of the API does not need all the data upfront, then you might want to break it into multiple chunks, and have them call back if they want a related object.</p></li><li><p>With larger objects, processing and performance on the server may increase, which might itself be an issue, so you may want to keep that lowered.</p></li><li><p>On the other hand, if your object is really &#34;incomplete&#34; without the sub-objects, then you could consider sending them down in one go.</p></li></ul><p>I do not think PK is necessarily a standard term that is understood by people other than those who deal with databases. For REST APIs, more suitable names might be EntryId, OrderId, MachineId etc., or more genericically Id and ObjectId, etc.</p><p>Also, you do not always need to send ObjectIds for the nested elements, the API itself will reveal the relationships (that is kind of the purpose of rest), and thus, from your example, the entry would like this:</p><pre><code>entry{
  Id: &#34;42&#34;,
  prop1: &#39;_&#39;,
  prop2: &#39;_&#39;,
}
</code></pre><p>If someone wanted to find all the orders for an entry, they will issue something like this:</p><pre><code>https://www.example.com/entries/42/orders
</code></pre><p>This will get all the orders for the entry # 42 (with paging etc. if needed).</p><p>You might want to see this page for <a href="http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api#restful" rel="nofollow">REST URL best practices</a>, and <a href="http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api" rel="nofollow">this page</a> for links to other best practices on Rest APIs. You might also want to look at <a href="http://odata.org/" rel="nofollow">OData</a> since that deals primarily with data and is built on top of REST APIs. Do remember to obviously validate and get other opinions.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-api-should-api-return-nested-json-objects/'>REST API &#8211; Should API Return Nested JSON Objects</a></li><li class="list-group-item"><a href='../rest-api-responding-with-nested-arrays/'>REST API responding with nested arrays</a></li><li class="list-group-item"><a href='../rest-api-handle-partial-nested-objects/'>REST API: Handle &#8220;partial&#8221; nested objects</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>