<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Bi-directional sync of 2 different APIs &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080977 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080977" class="post-1080977 software type-software status-publish hentry category-software tag-api tag-erp tag-rest tag-synchronization tag-web-services"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Bi-directional sync of 2 different APIs</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">erp</span><span class="mr-2 badge badge-warning">rest</span><span class="mr-2 badge badge-primary">synchronization</span><span class="mr-2 badge badge-danger">web services</span></p><div class="entry-content"><p>I&#39;m currently assigned a task, where I have to program a bidirectional synchronisation between 2 ERP-related software, one providing webservices (Visual Studio Web Reference) and the other one providing a REST API.</p><p>I managed to match the fields of the APIs together, so I could potentially start creating objects in both APIs, using the same data. However, I reached the point of the actual sync, and it&#39;s harder than I thought.</p><p>In my head, everything goes fine.</p><p><code>Grabbing the data -&gt; determine, what change it is on which side -&gt; sync the data from the source system to the target system</code></p><p>But in actual coding, I&#39;m encountering some serious problems:</p><ul><li>Both APIs don&#39;t have any way to tell, when data was modified the last time, making it hard to determine, what kind of change it is (I thought about having a list of the previous sync to compare, but that leads to a different problem)</li><li>There&#39;s a priority on the system with the REST API, so if there are 2 changes at the same time, the change in the REST API would count</li><li>In which order should they be sync&#39;ed? If there&#39;s a focus on the REST API, then the REST API would need to apply their changes after the webservice one, right?</li><li>The sync software would run on a server, at the moment in a permanent loop of getting the data, comparing and applying the changes. I&#39;d love to only sync the changed data, but that wouldn&#39;t be possible, regarding the problem, that there&#39;s no way for me to determine, what change occured (something was created, something was changed, something was deleted)</li></ul><p>Can you give me advice on how to accomplish this, in a reliable and resource-friendly way?</p><p>The webservice API is a lot slower than the REST API, meaning there&#39;s an interval, where nothing gets sync&#39;ed (it may sound stupid, but I thought I could solve this problem single-threaded). Could I potentially need multi-threading here? The webservice API is rate limited to 10000/hr, dunno if this could get a problem.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Welcome to the world of integration.  The hardest thing about it is how poorly most vendors understand what you need and the resulting gaps in their interfaces.</p><p>In this case you seem to have a really intractable problem:</p><ol><li>You need to know precisely when changes were made</li><li>There is no way to tell exactly when changes were made</li></ol><p>No amount of design in your integration will fix this flaw in the API.  You either have to get the vendors to address this issue (last update time, among other things should be included, there&#39;s no justification for not providing it) or you need to come up with a different approach to meet your requirements.</p><p>I think what you might be trying to do is on an interval, look at the two systems and apply any changes on one to the other.  If both systems have changed in the interval you want to prefer on over the other.  This is possible but you will probably lose changes made on the non-preferred system if your interval is fairly long.  The way you can do this based on what you have provided is to look at all the records and compare them to some sort of record that you keep to determine if they have changed.  For example you can keep a table of the record ids and a hash of the record.  When the hash changes, you know there was a change made since the last time you checked.  Then you can apply the update.  This is not efficient and you can have a dirty read issue.</p><p>The problem you are trying to solve is essentially that of <a href="https://en.wikipedia.org/wiki/Eventual_consistency" rel="nofollow">eventual consistency</a>.  Bitcoin, for example has a pretty interesting way of addressing it.  I think if you read up on how it is accomplished, you&#39;ll find that you lack the requisite data elements to make it work.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../best-practice-patterns-for-two-way-data-synchronisation/'>Best practice/Patterns for two way data synchronisation</a></li><li class="list-group-item"><a href='../rest-a-separate-endpoint-specifically-for-sync-in-a-rest-api/'>Rest &#8211; A separate endpoint specifically for sync in a REST api</a></li><li class="list-group-item"><a href='../technique-to-sync-medium-large-amounts-of-data/'>Technique to sync medium/large amounts of data</a></li><li class="list-group-item"><a href='../web-development-two-way-data-synchronization-between-web-application-and-rest-api-server/'>Web-development &#8211; Two way data synchronization between web application and REST API server</a></li><li class="list-group-item"><a href='../c-how-to-sync-data-between-two-detached-systems-using-rest-api/'>C# &#8211; How to sync data between two detached systems using rest API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>