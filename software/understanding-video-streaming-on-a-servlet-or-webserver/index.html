<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Understanding video streaming on a servlet or webserver &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1081959 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1081959" class="post-1081959 software type-software status-publish hentry category-software tag-servlet tag-video tag-web-services"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Understanding video streaming on a servlet or webserver</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">servlet</span><span class="mr-2 badge badge-info">video</span><span class="mr-2 badge badge-warning">web services</span></p><div class="entry-content"><p>This question has been asked quite a few times on StackOverflow and I would like to get an understanding of the concepts and process rather than directly solve a problem. I found the following post where the explanation was nicely detailed but have some follow up questions which I hope someone can elaborate on.</p><p><a href="https://stackoverflow.com/questions/13588149/how-to-stream-audio-video-files-such-as-mp3-mp4-avi-etc-using-a-servlet">video streaming</a></p><p>The following extract is what I am referring my questions to:</p><blockquote><p>This is however a lot of additional code in your servlet which requires a well understanding of the HTTP Range specification. Usually the servletcontainer&#39;s (Tomcat, JBoss AS, Glassfish, etc) own default servlet already supports this out the box. So if there&#39;s a way to publish the media folder into the web by standard means, so that you don&#39;t need to homegrow a servlet for this, then I&#39;d go on this route.</p></blockquote><p>Here the author explains that a lot of servletcontainers (servlets/webservers I assume) handle the range request specification by returning the specific range request of a video stream response. The software I am working on delivers a static video file stream to a servlet that plays back the video in a Chrome pop-up window. I am reading the video into an inputstream and deliver it as the httpresponse to the request and add the relevant headers like (<code>Content-Range</code>, <code>Content-Length</code>, etc.) which is all done on the webserver or dataserver end. The response is returned to a servlet.<br /> Now I am still not sure if I understand this correctly or explained the setup above that it makes sense, but it does work right now as I can see the video playing, am able to seek back and forward and can see the browser debugger where the requests are made back for the next range of bytes.</p><p>Am  I correct then that the servlet does all the byte range work and I don&#39;t have to explicitly rewrite code to only send certain byte ranges in the response? I ask this in hopes of a serious response, because my supervisor insists I need to send the specific byte ranges. My argument was that if this works fine in Firefox, why would I need to rewrite the code completely to render it in Chrome. It only fails in Chrome with large video sizes where after playing most of the video it gives an <code>EofException</code> which my understanding is related to jetty settings and also another error related to a mismatch in expected length of the audio which I send as well.</p><p>But back to my question on my interpretation of the way this works; this is someone with 20+ years experience so I have no clue what I am talking about and need to verify if my understanding is correct.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The client and server share responsibility if you&#39;re using HTTP requests for partial content:</p><blockquote><p>Whenever the client sends a partial GET request with a Range request header to the server, then server should intercept on the conditional GET request headers (all headers starting with If) and handle accordingly. Whenever the If-Match or If-Unmodified-Since conditions are negative, the server should send a 412 &#34;Precondition Failed&#34; response back without any content. Whenever the If-Range condition is negative, then the server should ignore the Range header and send the full file back. Whenever the Range header is in invalid format, then the server should send a 416 &#34;Requested Range Not Satisfiable&#34; response back without any content.</p><p>If a partial GET request with a valid Range header is sent by the client, then the server should send the specific byte range(s) back as a 206 &#34;Partial Content&#34; response.</p></blockquote><p><strong>References</strong></p><ul><li><p><a href="http://www.adrianwalker.org/2012/06/html5-video-pseudosteaming-with-java-7.html" rel="nofollow noreferrer">adrianwalker.org: HTML5 Video Pseudostreaming with Java 7</a></p></li><li><p><a href="https://www.programcreek.com/java-api-examples/org.apache.http.HttpStatus" rel="nofollow noreferrer">Java Code Examples org.apache.http.HttpStatus</a></p></li><li><p><a href="http://balusc.omnifaces.org/2009/02/fileservlet-supporting-resume-and.html" rel="nofollow noreferrer">The BalusC Code: FileServlet supporting resume and caching and GZIP</a></p></li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-use-jax-rs-rest-instead-of-normal-servlets/'>Rest &#8211;  use JAX-RS REST instead of normal servlets</a></li><li class="list-group-item"><a href='../c-building-a-strong-robust-client-server-system/'>C# &#8211; Building a strong robust client-server system</a></li><li class="list-group-item"><a href='../how-to-implement-idempotent-webservice-calls/'>How to implement idempotent webservice calls</a></li><li class="list-group-item"><a href='../web-development-is-progressive-http-download-a-viable-alternative-to-hls-dash-rtmp-for-providing-live-video/'>Web-development &#8211; Is progressive HTTP download a viable alternative to HLS/DASH/RTMP for providing live video</a></li><li class="list-group-item"><a href='../video-streaming-through-ajax-calls/'>Video streaming through Ajax calls</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>