<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Unit-testing &#8211; Clean Architecture use case testing &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080797 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080797" class="post-1080797 software type-software status-publish hentry category-software tag-clean-architecture tag-integration-testing tag-testing tag-unit-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Unit-testing &#8211; Clean Architecture use case testing</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">clean-architecture</span><span class="mr-2 badge badge-info">integration-testing</span><span class="mr-2 badge badge-warning">testing</span><span class="mr-2 badge badge-primary">unit testing</span></p><div class="entry-content"><p>Use case interactors in the Clean Architecture consists of the application specific business rules.</p><p><a href="../../../i.stack.imgur.com/K44FQ.jpg" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/K44FQ.jpg" alt="Clean Architecture diagram"/></a></p><p>Interactors uses the <strong>Data Access Interface</strong> to fetch the required data from the data access layer.<br /> Basically I see two approaches to test these interactors.</p><ul><li>Using test doubles rather than the actual data access layer</li><li>Using the real data access layer (e.g. sql database, webservice)</li></ul><p>I personally prefer the first approach and test the data access layer seperately.<br /> The interactor tests uses the <strong>Data Access Interface</strong> with the <strong>test doubles</strong> and the entities in the inner circle.<br /> An architectural boundary is crossed in both approaches.</p><p>Is the first test approach considered as <strong>Integration Testing</strong> with a narrower scope or is it just <strong>Unit Testing</strong>?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>or is it just Unit Testing?</p></blockquote><p>There is nothing &#34;just&#34; about Unit Testing.</p><p>The distinction between Integration Testing and Unit Testing seems to be different in every shop. However, the most useful distinction I&#39;ve ever found doesn&#39;t come from Uncle Bob. It comes from Michael Feathers:</p><blockquote><p>A test is not a unit test if:</p><ul><li>It talks to the database</li><li>It communicates across the network</li><li>It touches the file system</li><li>It can&#39;t run at the same time as any of your other unit tests</li><li>You have to do special things to your environment (such as editing config files) to run it.</li></ul><p><a href="https://www.artima.com/weblogs/viewpost.jsp?thread=126923" rel="nofollow noreferrer">Michael Feathers - A Set of Unit Testing Rules</a></p></blockquote><p>Under this definition, to unit test a Use Case Interactor you need to stop talking to the database. A fake or stub can do that nicely.</p><p>It&#39;s worth understanding that the second approach is still testing. It&#39;s just testing more and doing it slowly.  It&#39;s still a good test. But it&#39;s not a test that should be mixed with your unit tests. Unit tests work best when they all run quickly. Not when they&#39;re mixed with slow tests.</p><p>You might also be wondering, if only the database is stub/faked is the rest an integration test? Well this is the grey area. If you consider an integration test anything that tests how two things integrate then yes, this is an integration test between interactor, entities, input, and output. But, while that&#39;s literally true it&#39;s not a very useful distinction.</p><p>This would also count as a unit test since you can take all those things as parts of the unit under test. I prefer this view. I don&#39;t like the view that a class is the only valid unit.</p><p>For me, the most useful distinction between tests is not structural, it&#39;s speed. I like the fast ones in one pile and the slow ones in another pile. That way I can run them separately.  I tend to call the fast ones unit tests and the slow ones integration tests. But whatever you call them the point is to have two different piles of tests. That way you can run them at different times.</p><p>I like to be able to run all my unit tests about as often as I type a semicolon.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../unit-testing-why-does-automated-testing-keep-failing-in-the-company/'>Unit-testing &#8211; Why does automated testing keep failing in the company</a></li><li class="list-group-item"><a href='../unit-testing-how-to-mock-method-with-hard-coded-object/'>Unit-testing &#8211; How to mock method with hard coded object</a></li><li class="list-group-item"><a href='../architecture-clean-architecture-use-case-containing-the-presenter-or-returning-data/'>Architecture &#8211; Clean Architecture: Use case containing the presenter or returning data</a></li><li class="list-group-item"><a href='../in-clean-architecture-arent-entities-another-type-of-boundary/'>In Clean Architecture, aren&#8217;t Entities another type of Boundary</a></li><li class="list-group-item"><a href='../c-implementing-clean-architecture/'>C# &#8211; Implementing clean architecture</a></li><li class="list-group-item"><a href='../architecture-clean-architecture-gateway-layer-depends-on-outer-layer/'>Architecture &#8211; Clean Architecture Gateway layer depends on outer layer</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>