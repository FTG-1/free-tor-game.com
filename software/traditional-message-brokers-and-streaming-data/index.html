<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Traditional Message Brokers and Streaming Data &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069431 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069431" class="post-1069431 software type-software status-publish hentry category-software tag-apache-kafka tag-message-queue tag-stream-processing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Traditional Message Brokers and Streaming Data</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">apache-kafka</span><span class="mr-2 badge badge-info">message-queue</span><span class="mr-2 badge badge-warning">stream-processing</span></p><div class="entry-content"><p>According to the <a href="https://kafka.apache.org/" rel="noreferrer">Kafka site</a>:</p><blockquote><p>&#34;<em>Kakfa is used for building real-time data pipelines and streaming apps.</em>&#34;</p></blockquote><p>Searching the internet far and wide, I&#39;ve found the following generally-accepted definition of what &#34;<em>stream data</em>&#34; is:</p><ul><li>Stream data is data that flows contiguously from a source to a destination over a network; and</li><li>Stream data is <strong>not</strong> atomic in nature, meaning any part of a flowing stream of data is meaningful and processable, as opposed to a file whose bytes don&#39;t mean anything unless you have all of them; and</li><li>Stream data can be started/stopped at any time; and</li><li>Consumers can attach and detach from a stream of data at will, and process just the parts of it that they want</li></ul><p>Now then, if anything I&#39;ve said above is incorrect, incomplete or totally wrong, please begin by correcting me! Assuming I&#39;m more or less on track, then&#8230;</p><p>Now that I understand what &#34;streaming data&#34; is, then I understand what Kafka and Kinesis mean when they bill themselves as processing/brokering middleware for applications with streaming data. <strong>But it has piqued my interests: can/should &#34;stream middleware&#34; like Kafka or Kinesis be used for non-streaming data, like traditional message brokers? And vice versa: can/should traditional MQs like RabbitMQ, ActiveMQ, Apollo, etc. be used for streaming data?</strong></p><p>Let&#39;s take an example where an application will be sending its backend constant barrage of JSON messages that need to be processed, and the processing is fairly complex (validation, transforms on the data, filtering, aggregations, etc.):</p><ul><li>Case #1: The messages are each frames of a movie; that is one JSON messgage per video frame containing the frame data and some supporting metadata</li><li>Case #2: The messages are time-series data, perhaps someone&#39;s heartbeat as a function of time. So Message #1 is sent representing my heartbeat at t=1, Message #2 contains my heartbeat at t=2, etc.</li><li>Case #3: The data is completely disparate and non-related by time or as part of any &#34;data stream&#34;. Perhaps audit/security events that get fired as hundreds of users navigate the application clicking buttons and taking actions</li></ul><p>Based on how Kafka/Kinesis are billed and on my understanding of what &#34;streaming data&#34; is, they seem to be obvious candidates for Cases #1 (contiguous video data) and #2 (contiguous time-series data). However I don&#39;t see any reason why a traditional message broker like RabbitMQ <em>couldn&#39;t</em> efficiently handle both these inputs as well.</p><p>And with Case #3, we&#39;re only provided with an event that has occurred and we need to process a reaction to that event. So to me this speaks to needing a traditional broker like RabbitMQ. But there&#39;s also no reason why you couldn&#39;t have Kafka or Kinesis handle the processing of event data either.</p><p>So basically, I&#39;m looking to establish a rubric that says: <em>I have X data with Y characteristics. I should use a stream processor like Kafka/Kinesis to handle it.</em> Or, conversely, one that helps me determine: <em>I have W data with Z characteristics. I should use a traditional message broker to handle it.</em></p><p>So I ask: <strong>What factors about the data (or otherwise) help steer the decision between stream processor or message broker, since both can handle streaming data, and both can handle (non-streaming) message data?</strong></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Kafka deals in ordered logs of atomic messages. You can view it sort of like the <code>pub/sub</code> mode of message brokers, but with strict ordering and the ability to replay or seek around the stream of messages at any point in the past that&#39;s still being retained on disk (which could be forever).</p><p>Kafka&#39;s flavor of streaming stands opposed to <strong>remote procedure call</strong> like Thrift or HTTP, and to <strong>batch processing</strong> like in the Hadoop ecosystem. Unlike RPC, components communicate asynchronously: hours or days may pass between when a message is sent and when the recipient wakes up and acts on it. There could be many recipients at different points in time, or maybe no one will ever bother to consume a message. Multiple producers could produce to the same topic without knowledge of the consumers. Kafka does not know whether you are subscribed, or whether a message has been consumed. A message is simply committed to the log, where any interested party can read it.</p><p>Unlike batch processing, you&#39;re interested in single messages, not just giant collections of messages. (Though it&#39;s not uncommon to archive Kafka messages into Parquet files on HDFS and query them as Hive tables).</p><p><strong>Case 1</strong>: Kafka does not preserve any particular temporal relationship between producer and consumer. It&#39;s a poor fit for streaming video because Kafka is allowed to slow down, speed up, move in fits and starts, etc. For streaming media, we want to trade away overall throughput in exchange for low and, more importantly, <em>stable</em> latency (otherwise known as low jitter). Kafka also takes great pains to never lose a message. With streaming video, we typically use UDP and are content to drop a frame here and there to keep the video running. The SLA on a Kafka-backed process is typically seconds to minutes when healthy, hours to days when healthy. The SLA on streaming media is in tens of milliseconds.</p><p>Netflix could use Kafka to move frames around in an internal system that transcodes terabytes of video per hour and saves it to disk, but not to ship them to your screen.</p><p><strong>Case 2</strong>: Absolutely. We use Kafka this way at my employer.</p><p><strong>Case 3</strong>: You can use Kafka for this kind of thing, and we do, but you are  paying some unnecessary overhead to preserve ordering. Since you don&#39;t care about order, you could probably squeeze some more performance out of another system. If your company already maintains a Kafka cluster, though, probably best to reuse it rather than take on the maintenance burden of another messaging system.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../a-streaming-app-exactly/'>A &#8220;streaming app&#8221;, exactly</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>