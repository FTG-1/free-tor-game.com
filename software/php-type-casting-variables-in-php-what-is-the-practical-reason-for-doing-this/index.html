<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Php &#8211; Type casting variables in PHP, what is the practical reason for doing this &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063151 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063151" class="post-1063151 software type-software status-publish hentry category-software tag-php tag-type-casting tag-type-systems tag-weak-typing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Php &#8211; Type casting variables in PHP, what is the practical reason for doing this</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">PHP</span><span class="mr-2 badge badge-info">type casting</span><span class="mr-2 badge badge-warning">type-systems</span><span class="mr-2 badge badge-primary">weak-typing</span></p><div class="entry-content"><p>PHP, as most of us know, has <a href="http://en.wikipedia.org/wiki/Weak_typing">weak typing</a>.  For those who don&#39;t, PHP.net says:</p><blockquote><p>PHP does not require (or support) explicit type definition in variable declaration; a variable&#39;s type is determined by the context in which the variable is used.</p></blockquote><p>Love it or hate it, PHP re-casts variables on-the-fly.  So, the following code is valid:</p><pre><code>$var = &#34;10&#34;;
$value = 10 + $var;
var_dump($value); // int(20)
</code></pre><p>PHP also allows you to explicitly cast a variable, like so:</p><pre><code>$var = &#34;10&#34;;
$value = 10 + $var;
$value = (string)$value;
var_dump($value); // string(2) &#34;20&#34;
</code></pre><p>That&#39;s all cool&#8230;  but, for the life of me, I cannot conceive of a practical reason for doing this.</p><p>I don&#39;t have a problem with strong typing in languages that support it, like Java.  That&#39;s fine, and I completely understand it.  Also, I&#39;m aware of &#8211; and fully understand the usefulness of &#8211; <a href="http://php.net/manual/en/language.oop5.typehinting.php">type hinting</a> in function parameters.</p><p>The problem I have with type casting is explained by the above quote.  If PHP can swap types <em>at-will</em>, it can do so even after you <em>force cast</em> a type; and it can do so <em>on-the-fly</em> when you need a certain type in an operation.  That makes the following valid:</p><pre><code>$var = &#34;10&#34;;
$value = (int)$var;
$value = $value . &#39; TaDa!&#39;;
var_dump($value); // string(8) &#34;10 TaDa!&#34;
</code></pre><p>So what&#39;s the point?</p><hr/><p>Take this theoretical example of a world where user-defined type casting <em>makes sense in PHP</em>:</p><ol><li>You force cast variable <code>$foo</code> as <code>int</code> → <code>(int)$foo</code>.</li><li>You attempt to store a string value in the variable <code>$foo</code>.</li><li>PHP throws an exception!! ← That would make sense.  Suddenly the reason for user defined type casting exists!</li></ol><p>The fact that PHP will switch things around as needed makes the point of user defined type casting vague.  For example, the following two code samples are equivalent:</p><pre><code>// example 1
$foo = 0;
$foo = (string)$foo;
$foo = &#39;# of Reasons for the programmer to type cast $foo as a string: &#39; . $foo;

// example 2
$foo = 0;
$foo = (int)$foo;
$foo = &#39;# of Reasons for the programmer to type cast $foo as a string: &#39; . $foo;
</code></pre><hr/><p>A year after originally asking this question, guess who found himself using typecasting in a practical environment?  Yours Truly.</p><p>The requirement was to display money values on a website for a restaurant menu.  The design of the site required that trailing zeros be trimmed, so that the display looked something like the following:</p><pre class="lang-none prettyprint-override"><code>Menu Item 1 .............. $ 4
Menu Item 2 .............. $ 7.5
Menu Item 3 .............. $ 3
</code></pre><p>The best way I found to do that wast to cast the variable as a float:</p><pre><code>$price = &#39;7.50&#39;; // a string from the database layer.
echo &#39;Menu Item 2 .............. $ &#39; . (float)$price;
</code></pre><p>PHP trims the float&#39;s trailing zeros, and then recasts the float as a string for concatenation.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>In a weakly-typed language, type-casting exists to remove ambiguity in typed operations, when otherwise the compiler/interpreter would use order or other rules to make an assumption of which operation to use.</p><p>Normally I would say PHP follows this pattern, but of the cases I&#39;ve checked, PHP has behaved counter-intuitively in each.</p><p>Here are those cases, using JavaScript as a comparison language.</p><h3>String Concatentation</h3><p>Obviously this is not a problem in PHP because there are separate <strong>string concatenation</strong> (<code>.</code>) and addition (<code>+</code>) operators.</p> <sup>JavaScript</sup><pre><code>var a = 5;
var b = &#34;10&#34;
var incorrect = a + b; // &#34;510&#34;
var correct = a + Number(b); // 15
</code></pre><h3>String Comparison</h3><p>Often in computer systems &#34;5&#34; is greater than &#34;10&#34; because it doesn&#39;t interpret it as a number.  Not so in PHP, which, even if <strong>both</strong> are strings, realizes they are numbers and removes the need for a cast):</p> <sup>JavaScript</sup><pre><code>console.log(&#34;5&#34; &gt; &#34;10&#34; ? &#34;true&#34; : &#34;false&#34;); // true
</code></pre><sup>PHP</sup><pre><code>echo &#34;5&#34; &gt; &#34;10&#34; ? &#34;true&#34; : &#34;false&#34;;  // false!
</code></pre><h3>Function signature typing</h3><p>PHP implements a bare-bones type-checking on function signatures, but unfortunately it&#39;s so flawed it&#39;s probably rarely usable.</p><p>I thought I might be doing something wrong, but a <a href="http://www.php.net/manual/en/functions.arguments.php#98425">comment on the docs</a> confirms that built-in types other than array cannot be used in PHP function signatures - though the error message is misleading.</p> <sup>PHP</sup><pre><code>function testprint(string $a) {
    echo $a;
}

$test = 5;
testprint((string)5); // &#34;Catchable fatal error: Argument 1 passed to testprint()
                      //  must be an instance of string, string given&#34; WTF?
</code></pre><p>And unlike any other language I know, even if you use a type it understands, null can no longer be passed to that argument (<code>must be an instance of array, null given</code>).  How stupid.</p><h3>Boolean interpretation</h3><p>[<strong>Edit</strong>]: This one is new. I thought of another case, and again the logic is reversed from JavaScript.</p> <sup>JavaScript</sup><pre><code>console.log(&#34;0&#34; ? &#34;true&#34; : &#34;false&#34;); // True, as expected. Non-empty string.
</code></pre><sup>PHP</sup><pre><code>echo &#34;0&#34; ? &#34;true&#34; : &#34;false&#34;; // False! This one probably causes a lot of bugs.
</code></pre><hr/><p>So in conclusion, the only useful case I can think of is... (drumroll)</p><h3>Type truncation</h3><p>In other words, when you have a value of one type (say string) and you want to interpret it as another type (int) and you want to force it to become one of the valid set of values in that type:</p><pre><code>$val = &#34;test&#34;;
$val2 = &#34;10&#34;;
$intval = (int)$val; // 0
$intval2 = (int)$val2; // 10
$boolval = (bool)$intval // false
$boolval2 = (bool)$intval2 // true
$props = (array)$myobject // associative array of $myobject&#39;s properties
</code></pre><p>I can&#39;t see what upcasting (to a type that encompasses more values) would really ever gain you.</p><p>So while I disagree with your proposed use of typing (you essentially are proposing <a href="http://en.wikipedia.org/wiki/Type_system#Static_typing">static typing</a>, but with the ambiguity that only if it was <em>force-cast</em> into a type would it throw an error — which would cause confusion), I think it&#39;s a good question, because apparently casting has <strong>very</strong> little purpose in PHP.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/php-the-purpose-of-returning-this-in-php/'>Php &#8211;  the purpose of returning $this in PHP</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/ny-practical-use-for-the-empty-type-in-common-lisp/'>Ny practical use for the empty type in Common Lisp</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/whats-the-tradeoff-for-type-inference/'>What&#8217;s the tradeoff for type inference</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/object-oriented-the-reason-of-using-an-interface-versus-a-generically-constrained-type/'>Object-oriented &#8211;  the reason of using an interface versus a generically constrained type</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/the-motivation-for-casting-a-pointer-into-a-integer/'>The motivation for casting a pointer into a integer</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/php-incrementing-strings-in-php-and-perl/'>Php &#8211; Incrementing Strings in PHP (and Perl)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>