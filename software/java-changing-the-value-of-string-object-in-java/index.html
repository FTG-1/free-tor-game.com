<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; changing the value of String object in java &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069353 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069353" class="post-1069353 software type-software status-publish hentry category-software tag-code-quality tag-code-reviews tag-coding-style tag-java tag-strings"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; changing the value of String object in java</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">code-quality</span><span class="mr-2 badge badge-info">code-reviews</span><span class="mr-2 badge badge-warning">coding-style</span><span class="mr-2 badge badge-primary">java</span><span class="mr-2 badge badge-danger">strings</span></p><div class="entry-content"><p>I have to set the value of a string object &#34;result&#34; depending on the results of different methods and different if/else conditions. In the end, there would be one (last value set) in the string that i need to use. The first way i did it is:</p><pre><code>public void MyClass(){

        public void validateApples() {
            String result = &#34;failure&#34;;

            if (condition 1) {
                //do something
            }

            if (condition 2) {
                //do something
            }

            if(condition 3) {
                //do something
            }

            if (condition 4) {

               if (condition a)
                    result = &#34;success&#34;;                    
                } else{
                    //One of the first three conditions resulted in failure so don&#39;t change string value
                }
            }

            if (condition 5) {
                //Do validation only for xml files
                result = validateMachintoshApples ();
            }
       }

      private String validateMachintoshApples() {
         String result;            

            result = oneStepValidation();             

       return result;
     }


     private String oneStepValidation(){
         String result;           

         if (some condition) {    
            // some code
            result = &#34;success&#34;;   
        }else{
            // some code
            result = &#34;failure&#34;;
        }
        return result;
    }


}
</code></pre><p>I feel that i am recreating a new String object many times in different methods of the same class. I don&#39;t think its efficient in terms of memory, object creation time and coding standards.</p><p>I than moved on to creating one string object &#34;result&#34; for the whole class and assign it &#34;failure&#34; or &#34;success&#34; as i think that would be more clean code.(see code below)</p><p><strong>1)</strong> But since Stings are immutable in JAVA, will I achieve something this way?</p><p><strong>2)</strong> Am i still creating new String each time with result = &#34;failure&#34; or result = &#34;success&#34; or is it only a value change? I doubt it is a value change as strings are immutable.</p><p><strong>3)</strong> Is the second way less readable since the functions are setting the value for result but not returning anything?</p><p><strong>4)</strong> What should be the best practice in this case?</p><p><strong>My second way of coding looks like:</strong></p><pre><code>public void MyClass(){

    private String result;

    public String getResult() {
        return result;
    }

    public void setResult(String result) {
        this.result = result;
    }

    public void validateApples() {


        if (condition 1) {
            //do something
            result = &#34;failure&#34;;
        }

        if (condition 2) {
            //do something
            result = &#34;failure&#34;;
        }

        if(condition 3) {
            //do something
            result = &#34;failure&#34;;
        }

        if (condition 4) {

           if (condition a)
                result = &#34;success&#34;;                    
            } else{
                //One of the first three conditions resulted in failure 
            }
        }

        if (condition 5) {
            //Do validation only for xml files
            validateMachintoshApples ();
        }
   }

  private void validateMachintoshApples() {

        result = oneStepValidation();             

 }


 private void oneStepValidation(){

     if (some condition) {    
        // some code
        result = &#34;success&#34;;   
    }else{
        // some code
        result = &#34;failure&#34;;
    }

}

}
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Let&#39;s look at this for a minute or two...</p><p>So you are running some code and expect a string return to tell you how it went.  In doing this you noticed (and rightly so) that this evokes a feeling somewhat unpleasant, this just dont feel right you say.  The issue however is not one of performance, or rather the performance is but a twig that hides the creepy forest behind.</p><p>First change you can do here is to replace the string values you just hard code everywhere with constants.  This will cover cases where you make typoes assigning the value leading to the cases not being detected by the caller.</p><p>But it still feels wrong no ?</p><p>Well, you can help yourself a bit more by helping the compiler.  Put all the possible values in an enum and assign that instead.  Here we are no longer working with strings directly but actual object-like with a type and a strictly controlled set of values.  No typos possible and makes it easier to ensure you cover all the possible return values (in cases where you get more than just &#34;success&#34; or &#34;failure&#34;)</p><p>If you only ever need two cases then a boolean would do just dandy, true = ok, false = fail...</p><p>Yet you can still do better here...</p><p>enter Exceptions</p><p>All this code is basically to check that something is what it&#39;s supposed to be right ?  So you basically have a success case and one or more failure types.</p><p>so instead of returning a value that needs to be checked don&#39;t return anything.  IF all goes well the code executes normally.  If the validation failed then the failure will throw an exception you will have created (ValidationException or something similar) that will be caught by a caller code, could be the direct caller, could be higher up the stack too.  It basically will be caught at a level where something can be done about it.</p><p>Need more validation types ? (just like the enum above) create sub-classes of this ValidationException for each type of problems that needs detection.  This will unclutter your code that deals with the normal case while giving you the means to aggregate the handling code where it matters.</p><p>Long story short, the language offers powerful tools to handle errors like this, embrace them.  You will find your code much easier to read and maintain.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-object-oriented-class-design/'>Java &#8211; Object-Oriented Class Design</a></li><li class="list-group-item"><a href='../java-how-to-test-state-of-the-object/'>Java &#8211; How to test state of the object</a></li><li class="list-group-item"><a href='../java-moving-java-static-variables-into-xml/'>Java &#8211; Moving Java static variables into XML</a></li><li class="list-group-item"><a href='../java-whats-the-best-way-to-merge-two-xml-strings-with-the-same-tag-names/'>Java &#8211; What&#8217;s the best way to merge two XML Strings with the same tag names</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>