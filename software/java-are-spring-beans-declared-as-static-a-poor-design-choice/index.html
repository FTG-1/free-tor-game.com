<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Are Spring beans declared as static a poor design choice &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064936 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064936" class="post-1064936 software type-software status-publish hentry category-software tag-design tag-java tag-object-oriented tag-object-oriented-design tag-spring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Are Spring beans declared as static a poor design choice</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">object-oriented</span><span class="mr-2 badge badge-primary">object-oriented-design</span><span class="mr-2 badge badge-danger">spring</span></p><div class="entry-content"><p>The question is pretty straightforward, I&#39;ll try to explain why I want some explanations.</p><p><em>(All of this is my 1½-year junior Java developer opinion, which may be more than incomplete. Which is why I am asking the question there)</em>.</p><ul><li>It increases the coupling between classes, as some classes need other classes, and so on. Having static beans would mean you call them whenever you want, without them actually interfering in your attributes: it would be like calling utility methods, but they are written elsewhere.</li><li>It is sometimes a nightmare to manage, especially when you have an xml-oriented configuration on a legacy project that you need to manage.</li><li>If you need more dependencies in your class (I have a cute one with something like 26 attributes that I try to cut down to pieces), you would want to cut it down to smaller classes, but those classes may need still a lot of beans to function, so you cut down again. It brings a lot of complexity to the scene.</li></ul><p>I am working on a 70k-ish LOC Java project, and it is my very first experience in the field. I am trying to improve the design of this web-application, and I think I missed the key points of Java beans with Spring.</p><p>So the question is: <em>is using static classes for beans a bad idea / a poor design ? What would be a good one ?</em></p><p>Bonus question: <em>any advice on how to decompose with elegance (elegantly ?) a Spring bean application ?</em></p><p>Thank you</p><hr/><p>PS: I already read about <a href="https://softwareengineering.stackexchange.com/questions/307637/using-prototype-non-spring-managed-beans-in-spring-web-application">this related question</a> which treats more about states of classes/beans and how to avoid it, than staticity of beans as a poor/good design.</p><hr/><p><strong>EDIT</strong></p><p>(Sorry for the delay, couldn&#39;t post code) Here is an example of what can be found, and what made me think about this question:</p><pre><code>// Bean managed in a spring-context.xml
public class HugeMapper  {

    @Autowired
    // Used here only
    private MapperBean    mapperBean;

    @Autowired
    // Used here only
    private ServiceBean   serviceBean;

    @Autowired
    // Used in a couple of classes
    private UtilitaryBean utilitaryBean;

    @Autowired
    // Used in a couple of beans
    private UsefulBean    usefulBean;

    @Autowired
    // Used in nearly half the components
    private OverusedBean  overUsedBean;

    // Code treatment ...
}
</code></pre><p>The question is about the beans that are used in a lot of different places. Making them static would remove the dependency, but I&#39;m not sure about what would be the consequences, and if it is a good/bad design.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Static is not a good idea, for many reasons:</p><ul><li>They are <a href="https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026563#7026563">harder</a> to mock in unit tests</li><li>Permanent memory consumption¹</li><li>Is <a href="https://stackoverflow.com/questions/4002201/why-arent-static-methods-considered-good-oo-practice/4002376#4002376">procedural</a></li><li>And some other <a href="https://softwareengineering.stackexchange.com/questions/98083/cant-i-just-use-all-static-methods/98093#98093">disadvantages</a></li></ul><p>Almost every disadvantage above can also be used to explain why static Spring beans is a bad idea.</p><blockquote><p>It increases the coupling between classes, as some classes need other
 classes, and so on. Having static beans would mean you call them
 whenever you want, without them actually interfering in your
 attributes: it would be like calling utility methods, but they are
 written elsewhere.</p></blockquote><p>If I understand correctly (you not show some code), in this way you are hiding the true complexity of your classes. This reminds me of the Service Locator pattern (an <a href="http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/" rel="nofollow noreferrer">anti-pattern</a> like Singleton, <a href="https://testing.googleblog.com/2008/07/breaking-law-of-demeter-is-like-looking.html" rel="nofollow noreferrer">breaks the Law of Demeter</a> and also <a href="https://stackoverflow.com/questions/4985455/dependency-injection-vs-service-location/4985582#4985582">hide</a> the dependencies). It is a good thing to expose the dependencies of your classes, because this expose better when something really bad is happening on the class dependencies and it is easier to unit test them.</p><blockquote><p>It is sometimes a nightmare to manage, especially when you have an
 XML-Oriented configuration on a legacy project that you need to
 manage.</p></blockquote><p>This is the reason to have annotations nowadays :)</p><blockquote><p>If you need more dependencies in your class (I have a cute one with
 something like 26 attributes that I try to cut down to pieces), you
 would want to cut it down to smaller classes, but those classes may
 need still a lot of beans to function, so you cut down again. It
 brings a lot of complexity to the scene.</p></blockquote><p>I don&#39;t think that breaks a big and complex code in minor peaces add complexity. If it is adding complexity at your case, you are doing this wrong :). I recommend read about <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle" rel="nofollow noreferrer">SRP</a></p><blockquote><p>Bonus question: any advises on how to decompose with elegance
 (elegantly ?) a Spring bean application ?</p></blockquote><p>A good approach for using Spring Beans is described <a href="https://softwareengineering.stackexchange.com/a/366225/172464">here</a>. In general, the best approach is use the Spring Bean constructor to inject the dependencies.</p><p><sup>¹. Not really a problem with Spring beans, because they are Singleton by default.</sup></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-tools-for-managing-a-complicated-project-setup-with-many-frameworks-and-no-documentation/'>Java &#8211; Tools for managing a complicated project setup with many frameworks and no documentation</a></li><li class="list-group-item"><a href='../java-too-object-oriented/'>Java &#8211; &#8220;Too object-oriented&#8221;</a></li><li class="list-group-item"><a href='../java-service-method-bean-as-an-argument-and-mandatory-attributes/'>Java &#8211; Service method, bean as an argument and mandatory attributes</a></li><li class="list-group-item"><a href='../java-which-classes-should-be-autowired-by-spring-when-to-use-dependency-injection/'>Java &#8211; Which classes should be autowired by Spring (when to use dependency injection)</a></li><li class="list-group-item"><a href='../java-using-prototype-non-spring-managed-beans-in-spring-web-application/'>Java &#8211; Using prototype/non-Spring managed beans in Spring Web application</a></li><li class="list-group-item"><a href='../java-are-we-abusing-static-methods/'>Java &#8211; Are we abusing static methods</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>