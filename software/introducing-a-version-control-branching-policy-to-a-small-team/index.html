<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Introducing a version control branching policy to a small team &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073012 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073012" class="post-1073012 software type-software status-publish hentry category-software tag-development-process tag-team-foundation-server tag-version-control"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Introducing a version control branching policy to a small team</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">development-process</span><span class="mr-2 badge badge-info">team-foundation-server</span><span class="mr-2 badge badge-warning">version control</span></p><div class="entry-content"><p>I&#39;m a contractor that has recently started with a firm.</p><p>Team is 3 developers consisting of 2 junior to mid level devs, with another at the same level starting soon, and myself (6 Years xp). For both the existing developers it is their first job out of university/college, and they&#39;ve never had a senior developer overseeing their work before.</p><p>There is no explicit Version control policy. Developers do all the development on the trunk and then deploy to production direct from their development machines. The existing team are not familiar with branching.</p><p>I&#39;m changing all this and introducing CI, TDD test/staging/production servers etc, along with a version control policy to compliment this.</p><p>Source control system is TFS, which i&#39;ve never used before. It&#39;s configured as one giant repository.</p><p>I&#39;ve written down a few pointers for them, but is there anything else i should be adding/ amending, bearing in mind the experience of the team?</p><blockquote><p>Version Control Policy</p><p>Development is done on the trunk</p><p>If a change is estimated to take more than a week then it should be<br /> done on a branch, with regular merges from the trunk into the branch<br /> to stop the two going out of sync.</p><p>Release branches created for production code.  That branch should only<br /> contain stable code.  We can either have one release branch that gets<br /> updated from the trunk once per sprint, or we can make a separate<br /> release branch for each week.</p><p>If a urgent bug fix affecting production code needs to be made, then<br /> it gets made on the release branch, and merged back into the trunk.</p><p>If we adopt the one release branch strategy then the trunk gets merged<br /> into the release branch once per sprint towards the end of the sprint.</p><p>If we adopt the seperate branch per release strategy, then the trunk<br /> NEVER gets merged into the Release branch</p><p>In some scenarios it may be necessary to make the bug fix twice on<br /> different branches, if branches have diverged too much. If we are<br /> doing short sprints then this shouldnâ€™t happen too often.</p></blockquote><hr/><p>I plan to have three servers. Test environment that is always running the latest code in the repo. A staging environment which is running the newest release candidate for staging/testing Release Candidate code and UAT purposes, and the production environment.</p><p>The reason why i plan to do this is that so far the client has only done internal software. The newest project is for a high profile media client, and my feeling is that the team need to adopt a more professional development model than what they do at the moment.</p><p>For example at the moment, a user may phone up the team with a bug report. The devs locate and fix the bug, do a quick test eyeball test on  their own machines and then deploy straight into production. No automated testing or anything.</p><hr/><p>In hindsight i think the feature branch is a step too far and i&#39;ll remove that.</p><p>So essentially it comes down to a) no branching at all) b) a release branch and the trunk, and c) a release branch per release and the trunk.</p><p>I was leaning towards the latter. My initial thought would be that i would have both a release candidate and a release to be live on separate servers(UAT/Production) at the same time, but effectively the trunk is the release candidate at any point in time, so a branch per release is leaning towards insane. My only thought would be if we didn&#39;t want our stakeholders to see development code then we might need a separate release candidate branch, but YAGNI and all that&#8230;..</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>For a team of 3-4 devs, you&#39;re proposing WAY too many branches.</p><p>Every branch you create is additional overhead that comes with a cost (time spent merging, keeping track of what&#39;s where, etc).  You need to make sure that the benefit you get from having a branch outweighs the cost.</p><p>Keep in mind that the only real benefit to a branch is code isolation.  That means you need a concrete reason to want to have the code isolated.</p><p>Having a separate release branch for <em>every</em> sprint is insane.  Why do you need the code from one sprint isolated from the code for the next?  Why not just have a single stable release branch that gets carried forward with each sprint?</p><blockquote><p>If a change is estimated to take more than a week then it should be done on a branch, with regular merges from the trunk into the branch to stop the two going out of sync.</p></blockquote><p>Almost any non-trivial new feature is going to take at least a week in real time after you account for development, developer testing, daily interruptions and other activities, etc.</p><p>Also, what&#39;s a &#34;regular merge&#34;?  Daily?  Weekly?  Every merge you do takes time - you need to make sure the target merge branch builds &amp; runs after your changes.  On a small team, frequent merging is a lot of overhead.</p><p>We have a team of 4 developers working on a 1+ million line codebase and this is how we operate:</p><ul><li>Main branch where all development is done</li><li>One branch per major release (done about once per year)</li></ul><p>The one major rule is:  don&#39;t check in code that doesn&#39;t build.</p><p>That&#39;s it.  Simple, easy to understand, gets the isolation we need (at any time we can create a release build for any version).</p><p>The upsides to having all development work done on one branch:</p><ol><li>Developers are always in-sync with each other.  No painful merges because two developers were off on their own branches for weeks creating incompatible changes.</li><li>Broken builds are found on the same day.  We have a nightly build that runs the latest code on main.  If someone does check in code that doesn&#39;t build for some reason, we will know right away.</li><li>With everyone always working on the same code, in increases the chances of a bug being found sooner rather than later.</li><li>No merge overhead other than targeted fixes to release branches.  On a small team, this is the big one.</li></ol></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../coming-up-with-a-version-control-strategy-for-svn/'>Coming up with a version control strategy for SVN</a></li><li class="list-group-item"><a href='../source-control-roles-and-responsibilities-best-practices/'>Source Control: Roles and Responsibilities &#8211; Best Practices</a></li><li class="list-group-item"><a href='../how-to-avoid-editing-conflicts-repeatedly-when-merging-from-one-to-branch-to-another/'>How to avoid editing conflicts repeatedly when merging from one to branch to another</a></li><li class="list-group-item"><a href='../branching-strategy-for-test-environment/'>Branching Strategy for Test Environment</a></li><li class="list-group-item"><a href='../source-control-branch-design-for-deployed-environments/'>Source control branch design for deployed environments</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>