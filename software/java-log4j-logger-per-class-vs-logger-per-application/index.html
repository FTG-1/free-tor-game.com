<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Log4j logger per class vs logger per application &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069171 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069171" class="post-1069171 software type-software status-publish hentry category-software tag-instance tag-java tag-java-ee tag-logging"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Log4j logger per class vs logger per application</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">instance</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">java-ee</span><span class="mr-2 badge badge-primary">logging</span></p><div class="entry-content"><p>I am stuck at understanding a concept related to Logger creation, especially in the context of Java EE.</p><p>In my experience, I nearly always used one logger per application, with few cases when I needed a specific logger for a specific part of the application. Only in these cases I was creating through my wrapper a new logger. And, if we talk about identifying the class which called the logger, I was doing a simple thing:</p><pre><code>public const String ThisIdentifier = &#34;MyLoggerCallingClass&#34;;
</code></pre><p>And I was passing this as a parameter to the logger method, even if there were some additional keystrokes I needed to do.</p><p>Now I&#39;m facing a conceptual problem:<br /> Why create logger per class, and not one per application.<br /> I have found the following answers:</p><p><a href="https://softwareengineering.stackexchange.com/questions/287896/is-logger-getloggermyclass-class-the-best-way-to-initialise-log4j-loggers">Best way to initialize loggers</a></p><p><a href="https://stackoverflow.com/questions/3143929/why-do-loggers-recommend-using-a-logger-per-class">Why loggers per class recommended</a></p><p>However, if I get this info from <a href="https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html#getLogger%28java.lang.String%29" rel="noreferrer">apache documentation on getLogger</a>:</p><blockquote><p>Retrieve a logger named according to the value of the name parameter. If the named logger already exists, then the existing instance will be returned. Otherwise, a new instance is created.</p></blockquote><p>I understand that if I do the per class way, and let&#39;s say that I have 50 packages in a Java EE application, and 10 classes per package, I will have 500 logger instances in my app!</p><p>I come from a C, C++ and C# perspective, and always in my mind I have the following:<br /> &#34;Use memory sparingly, create instances only as needed, cleanup after yourself, don&#39;t abuse etc&#8230;&#34;</p><p>I don&#39;t know the actual details of the logger creation, and I understand the idea of being able to better filter log results, but can anyone explain me why to go that way and how useful it is in the end, to create instance per class, why waste memory and have many instances, instead of just calling a logger method with a parameter?</p><p><strong>EDIT</strong></p><p>While maybe it&#39;s true, that in general people do not care about the many so called &#34;lightweight&#34; logger instances created, I ended up with my colleagues on the project to create a wrapper class for log4j, that I instance in every class where I want to use logger. This wrapper class contains a reference to a single instance of logger by default</p><pre><code>Logger.getLogger(Wrapperclass.getName())
</code></pre><p>and also the name of the class where this specific logger is called, so to log the logging class name. In the case when I will need specific classes to be logged, I will just change the</p><pre><code>Logger.getLogger(Wrapperclass.getName())
</code></pre><p>to</p><pre><code>Logger.getLogger(Callingclass.getName())
</code></pre><p>rebuild the app and run it.<br /> In my opinion this solution seems more clean and neat.</p><p><strong>EDIT 2:</strong></p><p>Found out <a href="http://logback.qos.ch/reasonsToSwitch.html" rel="noreferrer">this</a>:</p><blockquote><p>Based on our previous work on log4j, logback internals have been re-written to perform about ten times faster on certain critical execution paths. Not only are logback components faster, they have a smaller memory footprint as well</p></blockquote><p>Based on the quote above, in which we can clearly see the phrase containing &#34;smaller memory footprint&#34;, I can make the conclusion that my suspicions weren&#39;t so false. With the team we now take into the consideration the idea of switching to logback if we will be able to achieve the same logging functionality we need and do with log4j.</p><p>Hope that this question helps others make the right decision!</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>There seems to be a mismatch between what you mean by the word &#34;logger&#34; and what the Log4J framework means with &#34;logger&#34;.</p><p>Within the Log4J framework, a logger is a very lean class. It is not much more than a wrapper around the <code>ThisIdentifier</code> that you use and an container for functions that generate logging statements.<br/> All the heavy lifting of the logging happens in the Appenders, Filters and Layouts.</p><p>As stated in the <a href="http://logging.apache.org/log4j/2.x/manual/architecture.html" rel="noreferrer">Log4J architecture</a></p><blockquote><h2>Logger</h2><p>As stated previously, Loggers are created by calling LogManager.getLogger. The Logger itself performs no direct actions. It simply has a name and is associated with a LoggerConfig. It extends AbstractLogger and implements the required methods. As the configuration is modified Loggers may become associated with a different LoggerConfig, thus causing their behavior to be modified.</p></blockquote><p>So, having several hundreds of <code>Logger</code> instances does not put any burden of consequence on your system.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-rules-and-advice-for-logging/'>Java &#8211; Rules and advice for logging</a></li><li class="list-group-item"><a href='../concurrency-pattern-of-logger-in-multithreaded-application/'>Concurrency pattern of logger in multithreaded application</a></li><li class="list-group-item"><a href='../java-logging-in-a-latency-sensitive-system/'>Java &#8211; Logging in a latency sensitive system</a></li><li class="list-group-item"><a href='../php-best-way-to-access-a-logger-across-an-application-website-in-php/'>Php &#8211; Best way to access a logger across an application/website in PHP</a></li><li class="list-group-item"><a href='../in-asp-net-core-how-does-one-resolve-circular-references/'>In ASP.Net Core , how does one resolve circular references</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>