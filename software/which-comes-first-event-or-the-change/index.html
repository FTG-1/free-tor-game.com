<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Which comes first: event or the change &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070328 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070328" class="post-1070328 software type-software status-publish hentry category-software tag-event-sourcing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Which comes first: event or the change</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">event-sourcing</span></p><div class="entry-content"><p>I&#39;ve been researching Event Sourcing, and it seems there are two philosophies hidden within what I&#39;ve read. The core difference is whether actors in the system are <em>proactive</em>, making changes first and publishing events based on what they have done, or <em>reactive</em>, consuming events and updating data based on those events.</p><p>However, the former isn&#39;t really Event <em>Sourcing</em>, right? The events aren&#39;t the source of change, but just a record of change. That&#39;s just an event-based <strong><em>log</em></strong> that can be used to rebuild the data later. When you rebuild the log, you&#39;re using different code than when you executed in the first place; in the original run, you <em>send</em> an event that you <em>read</em> the second time around. On top of all of that, you have to introduce commands to actually trigger those changes, which need to be sent directly to the consumer, causing a tighter binding.</p><p>Meanwhile, the &#34;reactive&#34; style reverses all of those concerns. Since every change is a reaction to an event, there&#39;s basically no difference between listening to the &#34;live&#34; system as it churns on and listening to a replay sometime later. There&#39;s no need for explicit &#34;commands&#34;, because services aren&#39;t told what to do. Rather, they&#39;re in charge of maintaining consistency in the face of the events that occur elsewhere, and of notifying others of their own events. The flip side of this is an inversion of control: instead of knowing about other services/aggregates so you can tell <em>them</em> what to do, you just broadcast your event to the system and let them respond according to their rules.<br /> The only comparative downside I see is that you have to explicitly ignore <em>new</em> messages when replaying <em>old</em> messages, but that can be done with configuration/flags.</p><p>And yet, many guides and products seem to endorse a proactive style. For example, <a href="https://eventstore.com/" rel="noreferrer">Event Store</a> expects events to be divided into streams based on their <em>target</em> &#8211; meaning there is only one target per event, as if you&#39;re either sending it to a single, designated target (which makes it a glorified command) OR because the &#34;target&#34; is really just the source making a record of the action it took.</p><p>There must be a gap in my understanding, but after a week or so of reading I haven&#39;t come across a well-supported explanation for this. I suppose two questions come out of this:</p><ol><li>Which of these two approaches is truly Event Sourcing?</li><li>Are there benefits that the proactive approach has over the reactive approach that I haven&#39;t mentioned here?</li></ol></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Reminder: it is <em>not your fault</em> that you are confused; the literature <em>sucks</em>.</p><blockquote><p>Which of these two approaches is truly Event Sourcing?</p></blockquote><p>&#34;Event sourcing&#34;, as spoken by Event Store, Eventide project, and others, means storing state as a history of events.  The event store replaces the RDBMS that we might normally use to remember our history.  The history, as represented in an event store, is an append only sequence of events that describe how an entity has changed over time.</p><blockquote><p>When you rebuild the log, you&#39;re using different code than when you executed in the first place; in the original run, you send an event that you read the second time around.</p></blockquote><p>Sort of, but not in a way that is significantly different from how we do things in a relational world.</p><p>In the world of an O/RM, how do we remember where we are?  Typically, when new information arrives, we load our own memory from the database, integrate the new information, and then store our new memory into the database (replacing the old).  The old memory is loaded, the new memory is calculated.  We store the new memory, and when we next need it, that memory is loaded.</p><p>With event sourcing, this basic protocol is unchanged - the significant difference is that we don&#39;t replace the old memory, but append new changes to it.</p><p>In Pat Helland&#39;s terms, event sourcing is about <a href="http://cidrdb.org/cidr2005/papers/P12.pdf" rel="noreferrer">data on the inside</a>; how the domain model in the past shares information with the &#34;same&#34; domain model in the future.</p><blockquote><p>the &#34;reactive&#34; style reverses all of those concerns....  There&#39;s no need for explicit &#34;commands&#34;, because services aren&#39;t told what to do</p></blockquote><p>Not a difference worth worrying about.  Messages arrive, the domain model changes, messages depart.  Whether you label those messages as commands or events really doesn&#39;t matter very much</p><ul><li>handle(Event) is a <em>command</em></li><li>CommandReceived is an <em>event</em></li></ul><p>You can introduce semantic distinctions to separate messages that fan-in toward the authority (commands) from those that fan-out from the authority (events), but from the perspective of the domain the interesting bit is the information that the messages contain, and how the domain model changes in response to that information, not which <em>pattern</em> we think best fits the message.</p><p>One idea that may help in all of this is to keep in mind that event sourcing comes from a domain modeling tradition, meaning that we are managing lots of little state machines that have their own private data to track what state they are now in, and their own domain logic to compute what state they should be in next.  Think &#34;tell, don&#39;t ask&#34; -- we feed new information into the domain model, and it decides for itself what state it should now be in.</p><blockquote><p>Does one service tell another what to do, or does the first simply announce what it did and the second reacts?</p></blockquote><p>This is your key confusion right here - this is a question about a communication pattern.  It has nothing to do with <em>event sourcing</em>, which is a data representation pattern.</p><p>The most common (or at least, most commonly approved of -- aka &#34;best practice&#34;) is that services share information with zero or more subscribers; which is to say that the messages are fan-out.  The source service publishes a message, and the subscribers react to it, or not, as they see fit.</p><p>(The primary advantage here being that you can add/remove subscribers without deploying a new copy of the source service).</p><p>The mechanism of exchange of information between services is a separate concern (a separate <a href="https://blog.acolyer.org/2016/09/05/on-the-criteria-to-be-used-in-decomposing-systems-into-modules/" rel="noreferrer">design decision</a>) from the arrangement of information <em>within</em> a service.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../database-should-i-really-need-to-implement-event-sourcing-is-this-case/'>Database &#8211; Should I really need to implement event sourcing is this case</a></li><li class="list-group-item"><a href='../rest-event-sourcing-and-rest/'>Rest &#8211; Event sourcing and REST</a></li><li class="list-group-item"><a href='../persistence-models-for-event-sourcing/'>Persistence models for Event Sourcing</a></li><li class="list-group-item"><a href='../event-sourcing-replaying-and-versioning/'>Event sourcing, replaying and versioning</a></li><li class="list-group-item"><a href='../cqrs-with-an-event-log-and-without-event-sourcing/'>CQRS with an Event Log and without Event Sourcing</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>