<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; How to implement a partial resource rest api &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084581 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084581" class="post-1084581 software type-software status-publish hentry category-software tag-design tag-performance tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; How to implement a partial resource rest api</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">performance</span><span class="mr-2 badge badge-warning">rest</span></p><div class="entry-content"><p>I first posted this question <a href="https://stackoverflow.com/questions/55451041/how-to-implement-a-partial-resource-rest-api">on stackoverflow</a> but I think, it as more it&#39;s place here.</p><p>In order to limit the size of my REST API answers, I want to implement the <a href="https://developers.google.com/drive/api/v3/performance" rel="nofollow noreferrer">Google performance tip</a>: using the <code>fields</code> query string parameter to do partial resources.</p><p>If I have a full answer <code>GET https://myapi.com/v1/users</code></p><pre><code>[
 {
   &#34;id&#34;: 12,
   &#34;first_name&#34;: &#34;Angie&#34;,
   &#34;last_name&#34;: &#34;Smith&#34;,
   &#34;address&#34;: {
          &#34;street&#34;: &#34;1122 Something St.&#34;,
          &#34;city&#34;: &#34;A city&#34;
          ..and so on...
    }
  },
  ... and so on
]
</code></pre><p>I will be able to filter it <code>GET https://myapi.com/v1/users?fields=first_name,address/city</code></p><pre><code>[
  {
   &#34;id&#34;: 12,
   &#34;first_name&#34;: &#34;Angie&#34;,
   &#34;address&#34;: {&#34;city&#34; : &#34;A city&#34;}
  },
  ... and so on
]
</code></pre><p>The concept is pretty easy to understand, but I can&#39;t find an easy way to implement it!</p><p>My API resources are all design the same way:</p><ul><li>use query string parameters for filtering, sorting, paging.</li><li>call a service with that parameters to do a SQL request (only the <code>WHERE</code> condition, the <code>ORDER BY</code> condition and the <code>LIMIT</code> are dynamic)</li><li>use a converter to format data back to JSON</li></ul><p>But when using this new <code>fields</code> parameter, what do I need to do? where do I filter the data?</p><ol><li><p>Do I need to filter only the JSON output? But I will make (in that example) an unwanted JOIN query on address table and fetch unwanted fields in the users table.</p></li><li><p>Do I need to make a dynamic SQL query to fetch exactly the requested fields and add the JOIN only when the end user need it? Then the converter will have to be smart to convert only the available fields in the SQL query.</p></li></ol><p>In my opinion, this second solution will produce a code extremely dynamic, extremely complex and difficult to maintain.</p><p>So, how do you implement such REST API with partial resource feature? What are you best practice in that case?</p><p>(I&#39;m a Java and PHP developer, but I don&#39;t think it&#39;s relevant for that question as I have the same question for the two languages)</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think it&#39;s important to note that google&#39;s recommendation here is about how to make your application more performant when calling google apis</p><p>Google&#39;s apis have a <em>lot</em> of fields and they have many different customers using them for many different reasons. Adding a field filter will save them and the client lots of bandwidth.</p><p>However, the same might not be true for your api.</p><ul><li><p>If your objects are small</p><p>Limiting the fields will have less of an effect on bandwidth and bandwidth might not be your performance bottleneck.</p></li><li><p>If you have few, or control your own clients</p><p>You can customise the endpoint to return exactly the data the client needs without the client having to specify a dynamic list of fields.</p></li><li><p>If the client makes use of cached responses</p><p>Sending all the fields may be preferable to making two or more calls to the same endpoint.</p></li></ul><p>If you do want to go ahead and implement field filtering then, as you point out, you immediately bump into the problem that filtering the fields may well increase the processor demand of your api.</p><p>It will be a case by case problem of whether to filter on the database, output or elsewhere.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../restful-applications-logic-and-cross-resource-operations/'>RESTful applications logic and cross resource operations</a></li><li class="list-group-item"><a href='../rest-the-limit-on-rest-api-resource-levels/'>Rest &#8211;  the limit on REST API resource levels</a></li><li class="list-group-item"><a href='../rest-api-resource-ownership/'>REST API: Resource Ownership</a></li><li class="list-group-item"><a href='../rest-api-handle-partial-nested-objects/'>REST API: Handle &#8220;partial&#8221; nested objects</a></li><li class="list-group-item"><a href='../java-rest-api-and-resource-authorization/'>Java &#8211; Rest API and resource authorization</a></li><li class="list-group-item"><a href='../rest-retrieving-json-and-image-representation-of-a-resource/'>Rest &#8211; Retrieving JSON and image representation of a resource</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>