<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Using Interfaces for Loosely Coupled Code &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069453 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069453" class="post-1069453 software type-software status-publish hentry category-software tag-c tag-dependency-management tag-design-patterns tag-interfaces tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Using Interfaces for Loosely Coupled Code</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">dependency-management</span><span class="mr-2 badge badge-warning">design-patterns</span><span class="mr-2 badge badge-primary">interfaces</span><span class="mr-2 badge badge-danger">object-oriented</span></p><div class="entry-content"><p><strong>Background</strong></p><p>I have a project that depends on the usage of a certain type of hardware device, while it doesn&#39;t really matter who makes that hardware device as long as it does what I need it to do. With that being said, even two devices that are supposed to do the same thing will have differences when they are not made by the same manufacturer. So I am thinking to use an interface to decouple the application from the particular <em>make/model</em> of device involved, and instead have the interface just cover the highest-level functionality. Here is what I am thinking my architecture will look like:</p><ol><li>Define an interface in one C# project <code>IDevice</code>.</li><li>Have a concrete in a library defined in another C# project, that will be used to represent the device.</li><li>Have the concrete device implement the <code>IDevice</code> interface.</li><li>The <code>IDevice</code> interface might have methods like <code>GetMeasurement</code> or <code>SetRange</code>.</li><li>Make the application have knowledge about the concrete, and pass the concrete to the application code that utilizes (<em>not implements</em>) the <code>IDevice</code> device.</li></ol><p>I am pretty sure that this is the right way to go about it, because then I will be able to change out what device is being used without affecting the application (which seems to happen sometimes). In other words, it won&#39;t matter how the implementations of <code>GetMeasurement</code> or <code>SetRange</code> actually work through the concrete (as may differ among manufacturers of the device).</p><p>The only doubt in my mind, is that now both the application, and the device&#39;s concrete class both depend on the library that contains the <code>IDevice</code> interface. But, is that a bad thing?</p><p>I also don&#39;t see how the application won&#39;t need to know about the device, unless the device and <code>IDevice</code> are in the same namespace.</p><p><strong>Question</strong></p><p>Does this seem like the right approach for implementing an interface to decouple the dependency between my application and the device that it uses?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think you&#39;ve got a pretty good understanding of how decoupled software works :)</p><blockquote><p>The only doubt in my mind, is that now both the application, and the device&#39;s concrete class both depend on the library that contains the IDevice interface. But, is that a bad thing?</p></blockquote><p>It doesn&#39;t need to be!</p><blockquote><p>I also don&#39;t see how the application won&#39;t need to know about the device, unless the device and IDevice are in the same namespace.</p></blockquote><p>You can deal with all these concerns with <strong>Project Structure</strong>.</p><p>The way I typically do it:</p><ul><li>Put all my abstract stuff in a <code>Common</code> project.  Something like <code>MyBiz.Project.Common</code>.  Other projects are free to reference it, but it may not reference other projects.</li><li>When I create a concrete implementation of a an abstraction I put it in a separate project.  Something like <code>MyBiz.Project.Devices.TemperatureSensors</code>.  This project will reference the <code>Common</code> project.</li><li>I then have my <code>Client</code> project which is the entrypoint to my application (something like <code>MyBiz.Project.Desktop</code>).  At startup, the application goes through a <strong>Bootstrapping</strong> process where I configure abstraction/concrete-implementation mappings.  I can instantiate my concrete <code>IDevices</code> like <code>WaterTemperatureSensor</code> and <code>IRCameraTemperatureSensor</code> here, or I can configure services like Factories or an IoC container to instantiate the right concrete types for me later on.</li></ul><p>The key thing here is that only your <code>Client</code> project needs to be aware of both the abstract <code>Common</code> project and all the concrete implementation projects.  By confining the abstract-&gt;concrete mapping to your Bootstrap code you&#39;re making it possible for the rest of your application to be blissfully unaware of the concrete types.</p><p>Loosely coupled code ftw :)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-interface-questions-for-using-command-pattern-and-dependency-injection-together/'>C++ &#8211; Interface questions for using Command Pattern and Dependency Injection together</a></li><li class="list-group-item"><a href='../c-designing-interfaces-to-hardware/'>C++ &#8211; Designing interfaces to hardware</a></li><li class="list-group-item"><a href='../c-is-using-interfaces-for-datatypes-an-anti-pattern/'>C# &#8211; Is using interfaces for datatypes an anti-pattern</a></li><li class="list-group-item"><a href='../c-passing-a-serial-port-instance/'>C# &#8211; Passing a Serial Port Instance</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>