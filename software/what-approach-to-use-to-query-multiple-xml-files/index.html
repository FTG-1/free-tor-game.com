<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>What approach to use to query multiple XML files &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074212 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074212" class="post-1074212 software type-software status-publish hentry category-software tag-xml tag-xpath"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">What approach to use to query multiple XML files</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">xml</span><span class="mr-2 badge badge-info">xpath</span></p><div class="entry-content"><p>I&#39;ll be receiving tens of thousands of XML files, which will continue to grow with new files over time. I need to be able to query these files as a whole (like SQL querying all the records in a database). What technologies and/or approaches should I be looking at for this problem?</p><p>I feel like I should be looking into XQuery. I&#39;m not that familiar with it, though.</p><p><strong>UPDATE 1:</strong></p><p>Example queries I might run:</p><ul><li>Return all the product code, product name, product description from all XML files in /folder 1/ where the supplier id = x and store id = y</li><li>Return all the product code and product price from all XML files in /folder 2/ where the supplier id = x and store id = y</li><li>Maybe join the results of the two queries above, joining on product code</li><li>As there may be multiple results per product code for the two queries above, only get the most recent values based on some tag / attribute in the XML</li></ul><p><strong>UPDATE 2:</strong></p><p>It seems like this article suggests that XQuery can be used: <a href="http://www.ibm.com/developerworks/xml/library/x-xquerymaven/?ca=" rel="nofollow">http://www.ibm.com/developerworks/xml/library/x-xquerymaven/?ca=</a>. As I am implementing a LAMP solution, I think there might be XQuery libraries available to PHP. Does this mean that I don&#39;t need an XML database to query loads of XML files?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>If the nature of all your queries allows sequential processing of your XML files, you can do this without an XML database, using either xpath/xslt or XQuery. For example:</p><blockquote><ul><li>Return all the product code, product name, product description from    all XML files in /folder 1/ where the supplier id = x and store id = y</li><li>Return all the product code and product price from all XML files in    /folder 2/ where the supplier id = x and store id = y</li></ul></blockquote><p>These are a very simple xpath expression for any decent xslt processor. You just have to loop over the specific files, load each of them into memory, run an xpath query and collect the results from each file (which xpath does not for you). XQuery seems to allow to collect the results, but see below.</p><blockquote><ul><li>Maybe join the results of the two queries above, joining on product code</li></ul></blockquote><p>This is not easily possible with xpath only (at least not very efficient). From the article you linked to, one can see an example how a join is done by XQuery - without a database - but it needs all XML files to be loaded into main memory (which is quite unrealistic when you have ten thousands of them). If you got all results from the two first two queries, however, you can &#34;join&#34; them by using your host language (in your case PHP), but you have to &#34;program it manually&#34;. A decent XML database however should be capable of solving these problem for you - without loading all files into memory, by proper indexing.</p><p>So this all boils down to the question how many queries you expect, how many of them allow sequential processing, and how many don&#39;t. If you expect less than 5 different queries, I would probably not use a database for it but try to program every non-sequential requirement manually. If you expect more than 100 different queries, and you cannot even foresee how they will look like, then the use of a database is probably appropriate (but YMMV). In the end you have to find out for yourself what suits your needs best.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-storing-data-for-use-on-android-and-windows-applications/'>C# &#8211; Storing data for use on Android and Windows Applications</a></li><li class="list-group-item"><a href='../java-generic-file-parser-design-in-java-using-the-strategy-pattern/'>Java &#8211; Generic file parser design in Java using the Strategy pattern</a></li><li class="list-group-item"><a href='../php-is-theres-a-way-to-speed-up-the-php-code-which-parse-xml-files/'>Php &#8211; Is there&#8217;s a way to speed up the php code which parse XML files</a></li><li class="list-group-item"><a href='../a-good-design-pattern-for-generating-an-excel-xlsx-file-in-code/'>A good design pattern for generating an Excel (xlsx) file in code</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>