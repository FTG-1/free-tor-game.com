<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How to cleanly implement permission based feature access &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1078464 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1078464" class="post-1078464 software type-software status-publish hentry category-software tag-complexity tag-features tag-permissions"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How to cleanly implement permission based feature access</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">complexity</span><span class="mr-2 badge badge-info">features</span><span class="mr-2 badge badge-warning">permissions</span></p><div class="entry-content"><p>I have been tasked with writing an on/off control for features in our product based on who is signed in, in principle with one on/off flag for each feature. Put simply, this is a permission based feature access that can be activated at the user level.</p><p>The problem is that I can see this becoming a complexity nightmare. For example, person A is apart of group G but has special per missions 1, 2, 3 but A is completely different than person B who is apart of Group H who has special permissions 2, 3 and 4 etc etc.</p><p>Managing the permissions is not going to be the hard part : that is just setting a value in the database. The hard part is going to be allowing person A to be able to use feature F if they have permission P. I do not want this to become hundreds of if statements scattered across the code base whose combinations are exponential.</p><p>One solution that I have in mind is to separate the feature from the permission by having a control layer right above the feature that everything else uses, similar to writing a library and using a scripting language for the control structures. This would separate the if/else statements from the actual feature, but the problem is that they still exist, and their combinations are still there.</p><p>Do you know of any elegant solutions to this problem or ones similar to it?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><strong>1.Organize the permissions and their control</strong></p><p>Indeed, if you define individual feature access permissions, you will have, as in <a href="https://www.martinfowler.com/articles/feature-toggles.html" rel="nofollow noreferrer">feature toggles</a>, an <code>if</code>-clause in each feature to check if the user has the right permission.</p><p>If you abstract the feature from the permission, for example by using a level of indirection, such as a feature group (e.g. one feature belongs to a configurable group) or an autorisation profile (e.g. several user belongs to one profile, which has several feature permissions), you will still need an if clause for each feature.</p><p>In order to make this easy to handle, you should in anyway encapsulate the permission check in a permission object.  This would allow you to implement the link between the feature and the user with any of the above mentioned strategy, without having to change the code:</p><pre><code>user.permission(&#34;feature_X&#34;).mandatory_check(); // if needed, throws a permission exception 
                                                // to be catched at right level. 
</code></pre><p>or</p><pre><code>if (user.permission(&#34;feature_Y&#34;).optional_check() ) {
   ...                                         // execute optional feature 
}                                              // do nothing if access is not granted
</code></pre><p><strong>2.Control features access upfront</strong></p><p>If the features are independent functions, you could control access upfront.</p><p>This means that the UI shall ensure that user can only invoke fonctions and commands for which the user has permission.  This allows to isolate permission controls in your architecture.  The various feature will then not have to implement additional checks.</p><p>Unfortunately, this will not work if the feature is optional, i.e. the user can invoke a function, and the function is executed differently if the feature is there or not.</p><p><strong>Manage features as a strategy</strong></p><p>This approach uses runtime <a href="http://www.oodesign.com/strategy-pattern.html" rel="nofollow noreferrer">strategies</a>.  The strategy either invokes a feature or nothing.  The <code>Context</code> would in this case be a kind of user profile object that is initialized at login.  For each feature there would be a strategy (this could remain flexible, by using an associative container such as a feature map).  The strategies would be initialized depending on the user permissions.</p><p>Later on, when the different functions of the software are executed, they would use the relevant strategy (e.g. either an object that will execute the right feature, or an empty strategy object that does nothing).</p><p>This approach seems rather elegant. However, instead of adding an <code>if</code> in the code of each feature, it would require to implement each feature as a self-contained strategy, which might be extremely challenging.</p><p><strong>So what ?</strong></p><p>Personally, even if the second seems more elegant, I&#39;d go for option 1: this is much more flexible.  Proper encapsulation of the permission can reduce the permission control in the feature to a single statement.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-filesystem-like-permissions-for-c-type-members/'>Object-oriented &#8211; Filesystem like permissions for C++ type-members</a></li><li class="list-group-item"><a href='../design-how-to-handle-user-permissions-across-a-system/'>Design: How to handle user permissions across a system</a></li><li class="list-group-item"><a href='../role-vs-permission-based-access-control/'>Role vs Permission Based Access Control</a></li><li class="list-group-item"><a href='../a-suggested-roadmap-towards-implementation-of-a-simple-attribute-based-access-control-abac/'>A suggested roadmap towards implementation of a simple Attribute-based access control (ABAC)</a></li><li class="list-group-item"><a href='../how-to-efficiently-pass-permissions-that-control-view-and-access-of-specific-front-end-elements-from-backend-to-the-spa-using-jwt/'>How to efficiently pass permissions that control view and access of specific front-end elements from backend to the SPA using JWT</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>