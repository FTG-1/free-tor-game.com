<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; A Web application as a REST API client: how to handle resource identifiers &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064975 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064975" class="post-1064975 software type-software status-publish hentry category-software tag-rest tag-web-applications"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; A Web application as a REST API client: how to handle resource identifiers</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">rest</span><span class="mr-2 badge badge-info">web-applications</span></p><div class="entry-content"><p>Several concepts related to REST conflict in my head when I try implementing it.</p><p>I have a REST-ful back-end API system that holds the business logic, and a web application that provides the UI. From various resources about REST (particularly, <a href="http://rads.stackoverflow.com/amzn/click/0596805829">REST in Practice: Hypermedia and Systems Architecture</a>) I know that I should not expose raw identifiers of my entities, but rather return hyperlinks with <code>rel=&#34;self&#34;</code>.</p><p>Consider the example. The REST api has a resource that returns a person:</p><pre><code>&lt;Person&gt;
  &lt;Links&gt;
    &lt;Link rel=&#34;self&#34; href=&#34;http://my.rest.api/api/person/1234&#34;/&gt;
  &lt;/Links&gt;
  &lt;Pets&gt;
    &lt;Link rel=&#34;pet&#34; href=&#34;http://my.rest.api/api/pet/678&#34;/&gt;
  &lt;/Pets&gt;
&lt;/Person&gt;
</code></pre><p>The problem arises with the web application. Let&#39;s assume it returns a page that contains a hyperlink to browsers:</p><pre><code>&lt;body class=&#34;person&#34;&gt;
  &lt;p&gt;
    &lt;a href=&#34;http://my.web.app/pet/???????&#34; /&gt;
  &lt;/p&gt;
&lt;/body&gt;
</code></pre><p>What should I put into the <code>href</code> attribute? How do I keep the API entity URL in the web application to be able to get the entity when a user opens the target page?</p><p>The requirements seem conflicting:</p><ol><li>The hyperlink <code>href</code> should lead to the web application because it is the system hosting the UI</li><li>The <code>href</code> should have some id of the entity because the web app must be able to address the entity when the target page opens</li><li>The web app should not parse/construct REST URLs beacuse it&#39;s not REST-ful, The mentioned book says</li></ol><blockquote><p>URIs should be opaque to consumers. Only the issuer of the URI knows how to interpret it and map it to a resource.</p></blockquote><p>So, I cannot just take <code>1234</code> from the API response URL because as a RESTful client I should treat it as if it was something like <code>http://my.rest.api/api/AGRIDd~ryPQZ^$RjEL0j</code>. On the other hand, I must give some URL that leads to my web app and is enough for the app to somehow restore the API&#39;s original URL and use that URL to access the API resources.</p><p>The simplest way is probably just using the API URLs of resources as their string identifiers. But web page urls like <code>http://my.web.app/person/http%3A%2F%2Fmy.rest.api%2Fapi%2Fperson%2F1234</code> are ugly.</p><p>It all seems quite easy for a desktop app or a single-page javascript app. Since they live continuously, they can just keep the URLs in memory together with the service objects for the application lifetime and use them when necessary.</p><p>With a web app I can imagine several approaches, but all seem weird:</p><ol><li>Replace the host in the API URLs and keep the result only. The huge downside is that it requires the web application to handle whatever URL the API generates, meaning monstrous coupling. Moreover, it&#39;s not RESTful again, because my web app starts interpreting the URLs.</li><li>Expose the raw ids in the REST API together with the links, use them to build Web App&#39;s URLs, and then use the ids on the web app server to find the required resources in the API. This is better, but will affect the web app server performance because the web app will have to go through the REST service navigation issuing a chain of get-by-id requests of some form to handle any request from a browser. For a somewhat nested resource this might be costly.</li><li>Store all <code>self</code> URLs returned by the api in a persistent (DB?) mapping on the web app server. Generate some ids for them, use the ids to build the web app page URLs and to get the URLs of the REST service resources. I.e. I keep the <code>http://my.rest.api/pet/678</code> URL somewhere with a new key, say <code>3</code>, and generate the web page URL as <code>http://my.web.app/pet/3</code>. This looks like a HTTP Cache implementation of some sort. I don&#39;t know why, but it seems weird to me.</li></ol><p>Or Does it all mean that RESTful APIs cannot serve as backends for web applications?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><strong>Edited to address question updates, previous answer removed</strong></p><p>Looking over your changes to your question I think I understand the problem you are facing a bit more. As there is no field that is an identifier on your resources (just a link) you have no way to refer to that specific resource within your GUI (i.e. a link to a page describing a specific pet).</p><p>The first thing to determine is if a pet ever makes sense without an owner. If we can have a pet without any owner then I would say we need some sort of unique property on the pet that we can use to refer to it. I do not believe this would violate not exposing the ID directly as the actual resource ID would still be tucked away in a link that the REST client wouldn&#39;t parse. With that in mind our pet resource may look like:</p><pre><code>&lt;Entity type=&#34;Pet&#34;&gt;
    &lt;Link rel=&#34;self&#34; href=&#34;http://example.com/pets/1&#34; /&gt;
    &lt;Link rel=&#34;owner&#34; href=&#34;http://example.com/people/1&#34; /&gt;
    &lt;UniqueName&gt;Spot&lt;/UniqueName&gt;
&lt;/Entity&gt;
</code></pre><p>We can now update the name of that pet from Spot to Fido without having to mess with any actually resource IDs throughout the application. Likewise we can refer to that pet in our GUI with something like:</p><blockquote><p><a href="http://example.com/GUI/pets/Spot" rel="nofollow">http://example.com/GUI/pets/Spot</a></p></blockquote><p>If the pet does not make any sense without an owner (or pets are not allowed in the system without an owner) then we can use the owner as part of the &#34;identity&#34; of the pet in the system:</p><blockquote><p><a href="http://example.com/GUI/owners/John/pets/1" rel="nofollow">http://example.com/GUI/owners/John/pets/1</a> (first pet in the list for John)</p></blockquote><p>One small note, if both Pets and People can exist separate of each-other I would not make the entry point for the API the &#34;People&#34; resource. Instead I would create a more generic resource that would contain a link to People and Pets. It could return a resource that looks like:</p><pre><code>&lt;Entity type=&#34;ResourceList&#34;&gt;
    &lt;Link rel=&#34;people&#34; href=&#34;http://example.com/api/people&#34; /&gt;
    &lt;Link rel=&#34;pets&#34; href=&#34;http://example.com/api/pets&#34; /&gt;
&lt;/Entity&gt;
</code></pre><p>So by only knowing the first entry point into the API and not processing any of the URLs to figure out system identifiers we can do something like this:</p><p>User logs into the application. The REST client accesses the entire list of people resources available which may look like:</p><pre><code>&lt;Entity type=&#34;Person&#34;&gt;
    &lt;Link rel=&#34;self&#34; href=&#34;http://example.com/api/people/1&#34; /&gt;
    &lt;Pets&gt;
        &lt;Link rel=&#34;pet&#34; href=&#34;http://example.com/api/pets/1&#34; /&gt;
        &lt;Link rel=&#34;pet&#34; href=&#34;http://example.com/api/pets/2&#34; /&gt;
    &lt;/Pets&gt;
    &lt;UniqueName&gt;John&lt;/UniqueName&gt;
&lt;/Entity&gt;
&lt;Entity type=&#34;Person&#34;&gt;
    &lt;Link rel=&#34;self&#34; href=&#34;http://example.com/api/people/2&#34; /&gt;
    &lt;Pets&gt;
        &lt;Link rel=&#34;pet&#34; href=&#34;http://example.com/api/pets/3&#34; /&gt;
    &lt;/Pets&gt;
    &lt;UniqueName&gt;Jane&lt;/UniqueName&gt;
&lt;/Entity&gt;
</code></pre><p>The GUI would loop through each resource and print out a list item for each person using the UniqueName as the &#34;id&#34;:</p><pre><code>&lt;a href=&#34;http://example.com/gui/people/1&#34;&gt;John&lt;/a&gt;
&lt;a href=&#34;http://example.com/gui/people/2&#34;&gt;Jane&lt;/a&gt;
</code></pre><p>While doing this it could also process each link that it finds with a rel of &#34;pet&#34; and get the pet resource such as:</p><pre><code>&lt;Entity type=&#34;Pet&#34;&gt;
    &lt;Link rel=&#34;self&#34; href=&#34;http://example.com/api/pets/1&#34; /&gt;
    &lt;Link rel=&#34;owner&#34; href=&#34;http://example.com/api/people/1&#34; /&gt;
    &lt;UniqueName&gt;Spot&lt;/UniqueName&gt;
&lt;/Entity&gt;
</code></pre><p>Using this it can print a link such as:</p><pre><code>&lt;!-- Assumes that a pet can exist without an owner --&gt;
&lt;a href=&#34;http://example.com/gui/pets/Spot&#34;&gt;Spot&lt;/a&gt;
</code></pre><p>or</p><pre><code>&lt;!-- Assumes that a pet MUST have an owner --&gt;
&lt;a href=&#34;http://example.com/gui/people/John/pets/Spot&#34;&gt;Spot&lt;/a&gt;
</code></pre><p>If we go with the first link and assume that our entry resource has a link with a relation of &#34;pets&#34; the control flow would go something like this in the GUI:</p><ol><li>Page is opened and the pet Spot is requested.</li><li>Load the list of resources from the API entry point.</li><li>Load the resource that is related with the term &#34;pets&#34;.</li><li>Look through each resource from the &#34;pets&#34; response and find one that matches Spot.</li><li>Display the information for spot.</li></ol><p>Using the second link would be a similar chain of events with the exception being that <strong>People</strong> is the entry point to the API and we would first get a list of all people in the system, find the one that matches, then find all pets that belong to that person (using the rel tag again) and find the one that is named Spot so we can display the specific information related to it.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../web-development-two-way-data-synchronization-between-web-application-and-rest-api-server/'>Web-development &#8211; Two way data synchronization between web application and REST API server</a></li><li class="list-group-item"><a href='../rest-decoupling-rest-api-and-frontend-web-application/'>Rest &#8211; Decoupling REST API and frontend web application</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>