<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Design Pattern for Library Wrapping Extern Methods &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1086012 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1086012" class="post-1086012 software type-software status-publish hentry category-software tag-c tag-design-patterns tag-extension-method"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Design Pattern for Library Wrapping Extern Methods</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">extension-method</span></p><div class="entry-content"><p>I am working to create a C# library that wraps a  C DLL to integrate with our test system. The C DLL has probably close to 100 functions that can be accessed and all from the same DLL. I don&#39;t need all functions wrapped at this time, but I want to ensure I am setup in a direction that makes implementing everything maintainable.</p><p>The DLL &#39;groups&#39; many of its functions under different purposes to help create separation. My plan was to create a class that is the main access point that contains generic functions and then create separate classes that create extension methods for the generic class.</p><p>Lets say my &#39;groups&#39; are:</p><ul><li>Generic</li><li>Acquisition</li><li>Selection</li><li>Interaction</li><li>Utilities</li></ul><p>I would then create my main class</p><pre><code>public class BaseClass
{
    // Generic methods
}
</code></pre><p>Then the other groups would each be their own static extension class:</p><pre><code>public static class AcquisitionClassExtensions
{
    public static int AcquisitionMethod1(this BaseClass b)
    {
        // Access DLL
    }
}
</code></pre><p>And continue for the other groups. This would let me keep the BaseClass as the main object class that the DLL would be interacted with.</p><p>The user would still see a huge list of methods when viewing intellisense, but from a project maintainability I can keep things separate. I am sure i would run in to problems if one of the extension methods ends of needing some sort of state tracked, but that is minimal.</p><p>Is there a better way i could approach this or am i worrying about nothing?</p><p>Clarity Edit:</p><p>The generic group or <code>BaseClass</code> contains the basic connection access to the hardware system that the DLL is for, and that would maintain state. The other groups are special operations that can be performed on the hardware. The goal being if a new set of functionality is added it can be added with the extension methods like the other groupings.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I suppose that when you are speaking of adding extension methods, you are thinking of enriching the functionality of the C library.  I would advise against that, because a collection of 100 methods is not an object-oriented interface, and as such it will most probably <em>not</em> be amenable to extension.</p><p>Now, the concept of object-oriented programming is not unknown to C programmers; in fact, many, if not most, systems written in C do have some concept of objects, they just do it in their own way which might not be readily recognizable. For example:</p><ul><li><p><code>&lt;stdio.h&gt;</code> files are, in a sense, an object-oriented construct.  The object in this case is a <code>struct</code> called <code>FILE</code>.</p></li><li><p><code>&lt;fcntl.h&gt;</code> files are, in a sense, an object-oriented construct.  The object in this case is hidden behind an <code>int</code> handle.</p></li><li><p>In the Windows API there is a multitude of objects, also hidden behind various different types of handles, the most famous of which is <code>HWND</code>.</p></li></ul><p>I do not know whether the C library that you are using has any kind of object-oriented notion like the above, but many chances are that it does.  If it does not, then I guess there is nothing special you can do, proceed the way you were planning.  But if it does, then the design pattern that you probably need here is <strong><em>The Wrapper</em></strong>.</p><p>So, what you should do, if possible, is detect what object-oriented entities are utilized by your library, and introduce a C# class for each one of them.  If you were creating a wrapper for <code>&lt;fcntl.h&gt;</code>, you would be creating a <code>class File</code> which contains a single member, <code>private readonly int handle</code> and offers a bunch of methods that delegate to the native functions like <code>read()</code>, <code>write()</code>, etc. passing them the <code>int</code> handle contained within the object.</p><p>Then, you would enrich <em>those</em> classes with additional functionality, (either by inheritance or by composition,) instead of extending the native-interfacing class.  The best thing to do with the native-interfacing class is to keep it as short as possible, and hidden.  (&#34;internal&#34; to the assembly that contains it.)</p><p>For more information, see:</p><ul><li><p><a href="https://en.wikipedia.org/wiki/Wrapper_library" rel="nofollow noreferrer">Wikipedia: Wrapper Library</a></p></li><li><p><a href="https://stackoverflow.com/questions/889160/what-is-a-wrapper-class">Stackoverflow: What is a wrapper class?</a></p></li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-manager-container-class-vs-static-class-methods/'>C# &#8211; Manager/Container class vs static class methods</a></li><li class="list-group-item"><a href='../java-design-pattern-for-object-conversion-java/'>Java &#8211; Design pattern for object conversion (java)</a></li><li class="list-group-item"><a href='../c-force-derived-class-to-implement-static-method-c/'>C# &#8211; Force Derived Class to Implement Static Method C#</a></li><li class="list-group-item"><a href='../c-advantages-of-using-dll-files-over-linking-cs-files-to-projects-for-the-own-generic-helper-classes-extension-methods/'>C# &#8211; Advantages of using .dll files over linking .cs files to projects (for the own generic helper classes / extension methods)</a></li><li class="list-group-item"><a href='../c-interface-extension-method-returning-the-interface-type-in-c/'>C# &#8211; Interface extension method returning the interface type in C#</a></li><li class="list-group-item"><a href='../c-how-to-improve-a-pattern-enum-class-with-methods/'>C++ &#8211; How to improve a pattern &#8216;enum class with methods&#8217;</a></li><li class="list-group-item"><a href='../c-extension-methods-vs-static-class-methods/'>C# &#8211; Extension methods vs. Static Class Methods</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>