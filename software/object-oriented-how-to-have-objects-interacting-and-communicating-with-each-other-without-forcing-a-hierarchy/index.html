<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; How to have objects interacting and communicating with each other without forcing a hierarchy &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069832 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069832" class="post-1069832 software type-software status-publish hentry category-software tag-architecture tag-c tag-design-patterns tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; How to have objects interacting and communicating with each other without forcing a hierarchy</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">design-patterns</span><span class="mr-2 badge badge-primary">object-oriented</span></p><div class="entry-content"><p>I hope these ramblings will make my question clear — I&#39;d totally understand if they wont, though, so let me know if that&#39;s the case, and I&#39;ll try making myself clearer.</p><p>Meet <a href="https://bitbucket.org/vvye/boxpong" rel="noreferrer">BoxPong</a>, a very simple game I made to get acquainted with object-oriented game development. Drag the box to control the ball and collect yellow things.<br /> Making BoxPong helped me formulate, among other things, a fundamental question: <strong>how can I have objects that interact with each other without having to &#34;belong&#34; to each other?</strong> In other words, is there a way for objects to not be hierarchical, but instead coexist? (I&#39;ll go into further detail below.)</p><p>I suspect the problem of objects coexisting is a common one, so I hope there&#39;s an established way to solve it. I don&#39;t want to reinvent the square wheel, so I guess the ideal answer I&#39;m looking for is &#34;here&#39;s a design pattern that&#39;s commonly used to solve your kind of problem.&#34;</p><p>Especially in simple games like BoxPong, it&#39;s clear that there are, or should be, a handful of objects coexisting on the same level. There&#39;s a box, there&#39;s a ball, there&#39;s a collectible. All I can express in object-oriented languages, though — or so it seems — are strict <em>HAS-A</em> relationships. That&#39;s done through member variables. I can&#39;t just start off the <code>ball</code> and let it do its thing, I need it to permanently <em>belong</em> to another object. I&#39;ve set it up so that the main game object <em>has</em> a box, and the box in turn <em>has</em> a ball, and <em>has</em> a score counter. Each object also has an <code>update()</code> method, which calculates position, direction etc., and I go a similar way there: I call the main game object&#39;s update method, which calls the update methods of all its children, and they in turn call the update methods of all <em>their</em> children. This is the only way I can see to make an object-oriented game, but I feel it&#39;s not the ideal way. After all, I wouldn&#39;t exactly think of the ball as belonging to the box, but rather as being on the same level and interacting with it. I suppose that can be achieved by turning all game objects into member variables of the main game object, but I don&#39;t see that solving anything. I mean&#8230; leaving aside the obvious clutter, how would there be a way for the ball and the box to <em>know each other</em>, that is, to interact?</p><p>There&#39;s also the issue of objects needing to pass information between each other. I have quite a bit of experience writing code for the SNES, where you have access to practically the entire RAM all the time. Say you&#39;re making a custom enemy for <em>Super Mario World</em>, and you want it to remove all of Mario&#39;s coins, then just store zero to address $0DBF, no problem. There&#39;s no limitations saying enemies can&#39;t access the player&#39;s status. I guess I&#39;ve been spoiled by this freedom, because with C++ and the like I often find myself wondering how to make a value accessible to some other objects (or even global).<br /> Using the example of BoxPong, what if I wanted the ball to bounce off the edges of the screen? <code>width</code> and <code>height</code> are properties of the <code>Game</code> class, and I would need the <code>ball</code> to have access to them. I could pass these kinds of values on (either through constructors or the methods where they&#39;re needed), but that just screams bad practice to me.</p><p>I guess my main problem is that I need objects to know each other, but the only way I can see to do that is strict hierarchy, which is ugly and impractical.</p><p>I&#39;ve heard of &#34;friend classes&#34; on C++ and kinda know how they work, but if they&#39;re the end-all solution, then how come I don&#39;t see <code>friend</code> keywords poured all over every single C++ project, and how come the concept doesn&#39;t exist in every OOP language? (The same goes for function pointers, which I&#39;ve just recently learned of.)</p><p>Thanks in advance for answers of any kind — and again, if there&#39;s a part that doesn&#39;t make sense to you, do let me know.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>In general, it turns out very badly if objects of the same level know about each other. Once objects know about each other they are tied, or <strong><em>coupled</em></strong> to each other. This makes them hard to change, hard to test, hard to maintain.</p><p>It works out much better if there is some object &#34;above&#34; that knows about the two and can set the interactions between them. The object that knows about the two peers can tie them together via dependency injection or via events or via message passing (or any other of decoupling mechanisms). Yes, that leads to a bit of an artificial hierarchy, but it&#39;s far better than the spaghetti mess that you get when things just interact willy-nilly. That is only more important in C++, since you need something to own the lifetime of the objects too.</p><p>So in short, you can do it by just having objects side by side everywhere tied together by ad hoc access, but it&#39;s a bad idea. The hierarchy provides order and clear ownership. The main thing to remember is that objects in code are not necessarily objects in real life (or even the game). If the objects in the game don&#39;t make a good hierarchy, a different abstraction may be better.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-iterating-over-objects-of-a-specific-class-in-a-container-of-polymorphic-base-objects/'>C++ &#8211; Iterating over objects of a specific class in a container of polymorphic base objects</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>