<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Agile &#8211; How to rollback rejected features by QA in a Continuous Delivery scenario &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076743 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076743" class="post-1076743 software type-software status-publish hentry category-software tag-agile tag-continuous-integration tag-continuous-delivery tag-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Agile &#8211; How to rollback rejected features by QA in a Continuous Delivery scenario</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">agile</span><span class="mr-2 badge badge-info">continuous integration</span><span class="mr-2 badge badge-warning">continuous-delivery</span><span class="mr-2 badge badge-primary">testing</span></p><div class="entry-content"><p>As I am looking more and more into Continuous Delivery for our organisation, I struggle to understand how we can effectively incorporate manual QA testing before a release is pushed out into production.</p><p>I have found multiple approaches, such as the <a href="http://dymitruk.com/blog/2012/02/05/branch-per-feature/" rel="noreferrer">branch-per-feature</a> one explained by Adam Dymitruk or git-flow and the likes, which all seem to include a lot of manual work to get things setup each sprint or perform rollback operations.</p><p>I&#39;ll try to explain my issue by given an example.</p><p>Most CD documents outline the &#34;happy&#34; path flow as follows:</p><pre><code>develop -&gt; CI build -&gt; deploy to QA -&gt; test on QA -&gt; promote to Production
</code></pre><p>This is easy enough to understand and works fine if there are no issues. But let&#39;s assume the following workflow which requires manual testing before a deploy to production is authorized: developer 1 works on feature A, developer 2 works on feature B. I use the name features, but I don&#39;t necessarily mean this in the broad range of a feature which could be contained by using feature toggles. Just some work.</p><p>developer 1 finishes his work, merges everything into master &#8211; or the equivalent release branch -, triggers the build which is deployed into QA. QA starts testing. During QA tests, developer 2 finishes his work, merges into master, triggers the build. QA then rejects feature A. Thus, the release from developer 1 cannot continue. At this point the entire process halts. As long as feature A is not ready, feature B cannot be tested because it also contains the rejected code from feature A.</p><p>And this is the part which I don&#39;t really understand how to fix in an easy, automated way. How can we effectively rollback feature A without complex manual interventions? How do people do this? Surely this must be an issue everyone faces, but none of the books or schematics I&#39;ve read so far seem to really address this issue.</p><p>Taking it one step further. <a href="https://guides.github.com/introduction/flow/" rel="noreferrer">GitHub flow</a> seems to suggest to deploy the feature branch into production, and rollback if a production issue occurs. That might work in a single developer single tester scenario, but what happens if multiple features are signed of by multiple testers at the same time?</p><p>developer 1 starts his feature, branches of master, starts working, pushes into master, QA 1 tests. At the same time, developer 2 went through the same process and QA 2 tests his feature build. Given the schematic, feature A does not contain feature B and feature B does not contain feature A. QA 1 signs off, feature A goes into production. QA 2 signs off, feature B goes into production. But feature A is lost. It&#39;s in master, yes, after the deploy it had been merged, but it won&#39;t get back into production until feature C gets deployed.</p><p>How would GitHub flow effectively work in larger teams? Has anyone some practical examples on this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>When a code change A is rejected, don&#39;t think necessarily in terms of &#34;rollback feature A by undoing the merge using SCCS&#34;. Think in terms of &#34;adding a new change to the code which fixes the defects found by QA&#34;.</p><p>Depending on the issue, this can mean:</p><ul><li><p>fixing a bug immediately, but leaving the code of A in master</p></li><li><p>disabling the functionality added by A (by deactivating a feature entry point, maybe by utilizing a &#34;feature toggle&#34;), until the issues can be fixed, but still leaving the related code in master</p></li><li><p>adding changes to the code which effectively remove the code changes of A from the master - but in a manner this does not interfer with later changes like B</p></li></ul><p>The third bullet point can often, but not necessarily, mean to let the developer (and not the QA team by some magic automatism) use the SCCS and revert the code changes of A. If this rollback shows no collision with B, fine, if there is a collision, there might be some manual work involved (comparable to the manual work when A and B were integrated one after another).</p><p>And yes, picking the right strategy is a manual decision, and it will involve some time and manual work - this is not a fully &#34;automated way&#34;, but it does also not need &#34;complex manual intervention&#34; every time it happens. In reality, the range of an issue fix or rollback goes from &#34;trivial&#34; to &#34;complex&#34;. When aiming for continous delivery, however, one should strive to have the trivial rollbacks happen much more frequently than the complex ones.</p><p>The best approach for this is probably to pick features for parallel development in a way it makes it unlikely they need to touch the same part of the code base. Furthermore, there should be as many automated tests as possible. So the devs can run these tests during feature development before their code reaches &#34;master&#34;. That should prevent frequent show-stoppers during QA.</p><p>Now, let us apply these recommendations to your scenario:</p><blockquote><p>As long as feature A is not ready, feature B cannot be tested because it also contains the rejected code from feature A.</p></blockquote><p>But why not? When A and B were eligible for parallel development, they should be mostly independent from each other and so eligible for independent testing, which means B can in most cases be tested even if the issues with A are not fixed. Lets say QA reports a serious bug from A which was missed by the automated tests. The fact the automated tests did not fail should mean at least the application should not be completely unusable, so they can start with the tests of B. They know master cannot be delivered to production as long as the issue with A is not fixed, but during the test of B, there should be enough time to fix or rollback A in the one of the 3 ways I mentioned above.</p><p>Of course, one has to make a decision what the quickest way is to remove the issue with A and make the code &#34;production-ready&#34; again. So when the test of B is done, a fix for the issue with A should be already available (or at least soon), so QA can approve that the issue is gone now (either with the functionality from A now or not).</p><p>Looking at the timeline, after each test cycle your &#34;master&#34; can switch between two main states: either it has <em>&#34;known defects&#34;</em>, or there are <em>&#34;no known defects any more&#34;</em>. Whenever it reaches the state &#34;no known defects&#34;, you can deploy to production. To make continous deployment work, one has to plan the feature slices in a way the state <em>&#34;no known defects any more&#34;</em> is reached as frequent as possible. The key here is to</p><ul><li><p>make the individual feature slices like &#34;A&#34; and &#34;B&#34; from above as small as possible</p></li><li><p>pick feature slices for parallel development as independent as possible</p></li><li><p>plan for reverting or disabling a feature slice in a very quick and smooth way in case it contains a bug which prevents the delivery to production</p></li></ul><p>In a bigger team (maybe a dozen or more developers), when you notice you reach the state &#34;no known defects&#34; too seldom because of the constant checkins to master, you can also consider to use an additional &#34;pre-production&#34; (or &#34;staging&#34;) branch where only features are integrated which were approved by QA on the master branch. However, this does not come for free, you need another person doing the integrations on &#34;pre-production&#34;, another QA step on &#34;pre-production&#34; to check the integrations itself did not introduce a bug, and additional administrative overhead for managing the pre-production environment.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../a-good-workflow-to-start-with-continuous-delivery/'>A good workflow to start with Continuous Delivery</a></li><li class="list-group-item"><a href='../gitflow-model-with-uat-releases-is-too-chaotic-how-to-simplify/'>Gitflow model with UAT releases is too chaotic, how to simplify</a></li><li class="list-group-item"><a href='../agile-how-to-we-only-include-ready-to-be-released-features-in-our-production-releases-every-other-week/'>Agile &#8211; How to we only include ready-to-be-released features in our production releases every other week</a></li><li class="list-group-item"><a href='../git-package-and-version-strategies-in-a-multi-repository-environment/'>Git &#8211; package and version strategies in a multi repository environment</a></li><li class="list-group-item"><a href='../git-flow-w-vsts-build-pipelines/'>Git Flow w/ VSTS Build Pipelines</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>