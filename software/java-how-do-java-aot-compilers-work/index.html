<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; How do Java AOT compilers work &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066799 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066799" class="post-1066799 software type-software status-publish hentry category-software tag-aot tag-compiler tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; How do Java AOT compilers work</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">aot</span><span class="mr-2 badge badge-info">compiler</span><span class="mr-2 badge badge-warning">java</span></p><div class="entry-content"><p>There are a few number of tools out there (<a href="http://www.excelsior-usa.com/articles/java-to-exe.html#aot">Excelsior JET</a>, etc.) that claim to transform Java app&#39;s into native executables (<code>*.exe</code>). However it is my <em>understanding</em> that these tools are really just creating native wrappers that invoke/execute <code>java</code> from a shell or command-line.</p><p>If that understanding is incorrect, I don&#39;t see how it could be. If a running JVM (<code>java</code> process) is essentially a high performance interpreter, loading bytecode from Java classfiles on the fly, then I don&#39;t see how a Java app (a collection of bytecode files that serve as input to a JVM) could ever be truly converted into an executable.</p><p>This is because the JVM process is <em>already</em> a native executable that takes sets of bytecode files as input. To merge those bytecode files and the JVM process into a single, unified native executable doesn&#39;t seem possible without completely rewriting the JVM and de-railing from the JVM specification.</p><p>So I ask: how do these tools <em>actually</em> &#34;transform&#34; Java class files into a native executable, or do they?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>All programs have a runtime environment. We tend to forget this, but its there. Standard lib for C that wraps system calls to the operating system.  Objective-C has its runtime that wraps all of its message passing.</p><p>With Java, the runtime is the JVM.  Most of the Java implementations that people are familiar with are similar to the HotSpot JVM which is a byte code interpreter and JIT compiler.</p><p>This doesn&#39;t have to be the only implementation. There is absolutely nothing saying you can&#39;t build a standard lib-esque runtime for Java and compile the code to native machine code and run that within the runtime that handles calls for new objects into mallocs and file access into system calls on the machine. And thats what the Ahead Of Time (AOT rather than JIT) compiler does.  Call that runtime what you will... you could call it a JVM implementation (and it <em>does</em> follow the JVM specification) or a runtime environment or standard lib for Java. Its there and it does essentially the same thing.</p><p>It could be done either by reimplementing <code>javac</code> to target the native machine (that&#39;s kind of what <a href="https://gcc.gnu.org/java/">GCJ</a> did).  Or it could be done with translating the byte code generated by <code>javac</code> into machine (or byte) code for another machine - that&#39;s what Android does.  Based on <a href="https://gcc.gnu.org/java/">Wikipedia</a> that&#39;s what Excelsior JET does too (&#34;The compiler transforms the portable Java byte code into optimized executables for the desired hardware and operating system (OS)&#34;), and the same is true for <a href="http://robovm.org/">RoboVM</a>.</p><p>There are additional complications with Java that means this is <em>very</em> hard to do as an exclusive approach. Dynamic loading of classes (<code>class.forName()</code>) or <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html">proxied objects</a> require dynamics that AOT compilers do not easily provide and so their respective JVMs must also include either a JIT compiler (Excelsior JET) or an interpreter (GCJ) to handle classes that couldn&#39;t be precompiled into native.</p><p>Remember, the <a href="https://docs.oracle.com/javase/specs/jvms/se7/html/">JVM is a specification</a>, <a href="http://en.wikipedia.org/wiki/List_of_Java_virtual_machines">with many implementations</a>.  The C standard library is <a href="http://en.wikipedia.org/wiki/C_standard_library">also a specification</a> with many different implementations.</p><p>With Java8, a fair bit of work has been done on AOT compilation. At best, one can only summarize AOT in general within the confines of textbox.  However, in the JVM Language Summit for 2015 (August of 2015), there was a presentation: <a href="https://www.youtube.com/watch?v=Xybzyv8qbOc">Java Goes AOT</a> (youtube video).  This video is 40 minutes long and goes into many of the deeper technical aspects and performance benchmarks.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-monitoring-c-applications/'>Java &#8211; Monitoring C++ applications</a></li><li class="list-group-item"><a href='../java-is-it-viable-to-make-a-port-from-a-c-application-to-java-through-llvm/'>Java &#8211; Is it viable to make a port from a C++ application to Java through LLVM</a></li><li class="list-group-item"><a href='../java-cross-compiling-java-app-to-run-directly-on-arm/'>Java &#8211; Cross-compiling Java app to run directly on ARM</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>