<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Php &#8211; Which would be a better way to load data via ajax &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080836 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080836" class="post-1080836 software type-software status-publish hentry category-software tag-ajax tag-php tag-sql tag-theory"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Php &#8211; Which would be a better way to load data via ajax</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">ajax</span><span class="mr-2 badge badge-info">PHP</span><span class="mr-2 badge badge-warning">sql</span><span class="mr-2 badge badge-primary">theory</span></p><div class="entry-content"><p>I am using google maps and returning html/lat/long from my MySQL database</p><h2>Currently</h2><ol><li>A user picks a business category e.g; &#34;Video Production&#34;.</li><li>an ajax call is sent to a CodeIgniter controller</li><li>the Controller then queries the db, and returns the following data via JSON<ol><li>Lat/Long of the marker</li><li>HTML for the popup window</li><li>this is approximately 34 rows in the database across two tables per business</li></ol></li><li>the ajax call receives this data and then plots the marker along with the html onto the map</li></ol><p>The data that is returned from the controller is one big json object&#8230; This is done for all businesses that exist in the Video Production category (currently approx 40 businesses). As you can see, pulling this data for multiple categories (100s of businesses) can get very very taxing on the server.</p><h2>My question is</h2><p>Would it be more beneficial to modify the process flow as such:</p><ol><li>a user picks a business category e.g; &#34;Video Production&#34;.</li><li>an ajax call is sent to a CodeIgniter controller</li><li>the controller then queries the database for the location base information<ol><li>lat/long</li><li>level (used to change marker icon color)</li><li>This would be a single row per business with several columns</li></ol></li><li>the ajax call receives this data and then plots the marker on the map</li><li>when the user clicks a marker an ajax call is sent to a CodeIgniter Controller</li><li>the controller queries the database for the HTML and additional data based on business_id</li></ol><p>and if not, what are some better suggestions to this problem?</p><p><strong>In summary this means rather than including the HTML and additional data along for each business, only submitting minimal location information and then re-query for that information when each business marker is clicked.</strong></p><h2>Potential Downsides</h2><ol><li>longer load times when a user clicks a marker icon</li><li>more code??</li><li>more queries to the database</li></ol></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Unless you notice that this is causing some sort of performance issue, I would <strong>leave as is</strong>.</p><p>Generally, network round trips are the slowest item, and should be minimized as much as possible.  I would only worry about such an optimization once you get to the point where there is an observable performance issue.  Without profiling, it is impossible to tell which method will be truly faster, and it could be different for each user.  JSON is a fairly terse format,  and a lot of stuff can be condensed.</p><p>Also, if you do find that performance is an issue, you might want to look into client side templating (such as <a href="http://knockoutjs.com/" rel="nofollow">KnockoutJS</a>, jQuery templates, Handlebars, Mustache, ...) for the popup window, assuming that the content is based off of a template.  This may allow you to minimize the data sent.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/does-business-logic-really-belong-on-the-server/'>Does business logic really belong on the server</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/php-chain-of-command-responsibility-pattern-for-the-simple-api-a-good-idea/'>Php &#8211; Chain-of-Command/Responsibility pattern for the simple API. A good idea</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/php-web-application-structure-review/'>Php &#8211; Web application structure review</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/avoid-initial-ajax-call-for-loading-data/'>Avoid Initial AJAX Call for Loading Data</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/single-page-app-vs-multi-page-application/'>Single page app vs multi page application</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>