<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Javascript &#8211; Is it a bad idea to return different data types from a single function in a dynamically typed language &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1065100 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1065100" class="post-1065100 software type-software status-publish hentry category-software tag-dynamic-typing tag-javascript tag-static-typing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Javascript &#8211; Is it a bad idea to return different data types from a single function in a dynamically typed language</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">dynamic-typing</span><span class="mr-2 badge badge-info">javascript</span><span class="mr-2 badge badge-warning">static-typing</span></p><div class="entry-content"><p>My primary language is statically typed (Java).  In Java, you have to return a single type from every method.  For example, you can&#39;t have a method that conditionally returns a <code>String</code> or conditionally returns an <code>Integer</code>.  But in JavaScript, for example, this is very possible.</p><p>In a statically typed language I get why this is a bad idea.  If every method returned <code>Object</code> (the common parent all classes inherit from) then you and the compiler have no idea what you&#39;re dealing with.  You&#39;ll have to discover all your mistakes at run time.</p><p>But in a dynamically typed language, there may not even be a compiler.  In a dynamically typed language, it&#39;s not obvious to me why a function that returns multiple types is a bad idea.  My background in static languages makes me avoid writing such functions, but I fear I&#39;m being close minded about a feature that could make my code cleaner in ways I can&#39;t see.</p><hr/><p><strong>Edit</strong>: I&#39;m going to remove my example (until I can think of a better one).  I think it&#39;s steering people to reply to a point I am not trying to make.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>By contrast to other answers, there are cases where returning different types is acceptable.</p><p><strong>Example 1</strong></p><pre><code>sum(2, 3) → int
sum(2.1, 3.7) → float
</code></pre><p>In some statically typed languages, this involves overloads, so we can consider that there several methods, each one returning the predefined, fixed type. In dynamic languages, this may be the same function, implemented as:</p><pre><code>var sum = function (a, b) {
    return a + b;
};
</code></pre><p>Same function, different types of return value.</p><p><strong>Example 2</strong></p><p>Imagine you get a response from an OpenID/OAuth component. Some OpenID/OAuth providers may contain more information, such as the age of the person.</p><pre><code>var user = authProvider.findCurrent();
// user is now:
// {
//     provider: &#39;Facebook&#39;,
//     name: {
//         firstName: &#39;Hello&#39;,
//         secondName: &#39;World&#39;,
//     },
//     email: &#39;hello.world@example.com&#39;,
//     age: 27
// }
</code></pre><p>Others would have the minimum, would it be an email address or the pseudonym.</p><pre><code>var user = authProvider.findCurrent();
// user is now:
// {
//     provider: &#39;Google&#39;,
//     email: &#39;hello.world@example.com&#39;
// }
</code></pre><p>Again, same function, different results.</p><p>Here, the benefit of returning different types is especially important in a context where you don&#39;t care about types and interfaces, but what objects actually contain. For example, let&#39;s imagine a website contains mature language. Then the <code>findCurrent()</code> may be used like this:</p><pre><code>var user = authProvider.findCurrent();
if (user.age || 0 &gt;= 16) {
    // The person can stand mature language.
    allowShowingContent();
} else if (user.age) {
    // OpenID/OAuth gave the age, but the person appears too young to see the content.
    showParentalAdvisoryRequestedMessage();
} else {
    // OpenID/OAuth won&#39;t tell the age of the person. Ask the user himself.
    askForAge();
}
</code></pre><p>Refactoring this into code where every provider will have its own function which will return a well-defined, fixed type would not only degrade the code base and cause code duplication, but also will not bring any benefit. One may end up doing horrors like:</p><pre><code>var age;
if ([&#39;Facebook&#39;, &#39;Yahoo&#39;, &#39;Blogger&#39;, &#39;LiveJournal&#39;].contains(user.provider)) {
    age = user.age;
}
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../is-static-typing-worth-the-trade-offs/'>Is static typing worth the trade-offs</a></li><li class="list-group-item"><a href='../can-static-and-dynamically-typed-languages-be-seen-as-different-tools-for-different-types-of-jobs/'>Can static and dynamically typed languages be seen as different tools for different types of jobs</a></li><li class="list-group-item"><a href='../java-limitations-of-polymorphism-in-statically-typed-languages/'>Java &#8211; Limitations of Polymorphism in statically typed languages</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>