<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>When to use an associative table instead of 1 foreign key &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082158 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082158" class="post-1082158 software type-software status-publish hentry category-software tag-database-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">When to use an associative table instead of 1 foreign key</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">database-design</span></p><div class="entry-content"><p>There are plenty of examples of both <code>associative table</code> and <code>one foreign key</code> designs out there, but I can&#39;t find clear any explanation of when should each of them be preferred.</p><p>For example let&#39;s assume my database needs to store the following information about people: first name, last name, address. I have 2 options of implementing this:</p><h2>Option 1: associative table</h2><pre><code>Table: person
+----+------------+-----------+
| id | first_name | last_name |
+----+------------+-----------+

Table: address
+----+---------+-------+------+-----+-----+
| id | country | state | city | zip | etc |
+----+---------+-------+------+-----+-----+

Table: join_person_address
+-----------+------------+
| person_id | address_id |
+-----------+------------+
(both columns are foreign keys)
</code></pre><h2>Option 2: one foreign key (in this case in the <code>address</code> table)</h2><pre><code>Table: person
+----+------------+-----------+
| id | first_name | last_name |
+----+------------+-----------+

Table: address
+----+---------+-------+------+-----+-----+-----------+
| id | country | state | city | zip | etc | person_id |
+----+---------+-------+------+-----+-----+-----------+
(person_id is a foreign key)
</code></pre><h1>What I learned so far</h1><p>Associative tables are always used for many-to-many relationships.</p><p>One foreign key design may create situations that don&#39;t make sense for the data model (as in the example above &#8211; making an address reference a person when the address is the person&#39;s property and not the other way around, and making the person reference the address limits it to referencing only one address).</p><p>One foreign key design can be sufficient for one-to-one and one-to-many relationships but sometimes it may become required to change some relationships unexpectedly, so using a single foreign key design can be risky.</p><p><strong>Conclusion:</strong> always use associative tables unless you can guarantee that the type of relationship won&#39;t ever change AND using one foreign key makes sense for the data model. Or to stay on the safe side: always use associative tables unless there is a really good reason not to.</p><h1>The question</h1><p>Based on what should I decide which option to use? (not specifically for the person-address relationship, that&#39;s just an example)<br /> And why? (what are the advantages and disadvantages)</p><p>Is what I learned so far correct or did I get this wrong?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The choice between the 2 cases you listed is not optional. Each one serves a different purpose. The use of FKs comes from mapping <em>requirements</em> to the data model. It is not a pure design decision.</p><p>Your first example, is correct when you know that the same address information will be used by more than one person in your database. For example, if you are building a school database, there is a good chance that 2 students live in the same house. In such a case, you have to use a m-m relationship.</p><p>Your second case, is correct when you know that a person could have more than address (maybe over the application time), but no two addresses are exactly the same. In some cases this could cause duplication since you can&#39;t guarantee that address 2 is different from address 1, the &#34;ect.&#34; stuff may contain text that can be re-worded but still gives correct real meaning.</p><p>This second case, is also similar to the famous &#34;invoice - detail line&#34; case. There is no value in modeling such a case with an Associative Table.</p><p>About the <em>conclusion</em> you have listed about using associative tables: An Associative Table is an approach to overcome some RDBMS inability to implicitly represent Many-to-Many relationships.</p><p>When to use this approach depends on the nature of the data and the business requirements. It is &#34;wrong&#34; to use an Associative table when you don&#39;t have to, because it makes the database open for logical errors, and introduce unnecessary complexity.</p><p>It is also &#34;wrong&#34; to use 1-M when you don&#39;t care about more than one occurrence. In your case, if you only care about 1 address, you would still have a 1-M but with a maximum of 1 occurrence at the many side (not trivial to enforce), or you may have the Person table and Address table all in one table in the database (makes sense sometimes, purists hate it).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../database-naming-convention-for-associative-entity/'>Database &#8211; Naming convention for associative entity</a></li><li class="list-group-item"><a href='../over-normalization-in-database/'>Over normalization in database</a></li><li class="list-group-item"><a href='../how-to-represent-an-optional-to-optional-relationship-in-a-database/'>How to represent an optional-to-optional relationship in a database</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>