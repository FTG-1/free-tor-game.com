<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211;  the advantage of &#8216;SwingUtilities.invokeLater()&#8217; method &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067551 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067551" class="post-1067551 software type-software status-publish hentry category-software tag-java tag-multithreading tag-swing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211;  the advantage of &#8216;SwingUtilities.invokeLater()&#8217; method</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">multithreading</span><span class="mr-2 badge badge-warning">swing</span></p><div class="entry-content"><p>For the below sample GUI program using javax.swing,</p><pre><code>public class UnResponsiveUI extends JFrame{
    
    
    private boolean stop = false;
    private JTextField tfCount;
    private int count = 1;
    
    /* Constructor to setup the GUI components */
    public UnResponsiveUI(){
        Container cp = this.getContentPane();
        cp.setLayout(new FlowLayout(FlowLayout.CENTER, 10, 10));
        cp.add(new JLabel(&#34;Counter&#34;));
        tfCount = new JTextField(count + &#34;&#34;, 10);
        tfCount.setEditable(false);
        cp.add(tfCount);
        
        JButton btnStart = new JButton(&#34;Start Counting&#34;);
        cp.add(btnStart);
        btnStart.addActionListener(new ActionListener(){
            @Override
            public void actionPerformed(ActionEvent e) {
                stop = false;
                for (int i = 0; i &lt; 100000; ++i) {
                   if (stop) break;  // check if STOP button has been pushed,
                                     //  which changes the stop flag to true
                   tfCount.setText(count + &#34;&#34;);
                   ++count;
                }
            }
        });
        
        JButton btnStop = new JButton(&#34;Stop Counting&#34;);
        cp.add(btnStop);
        btnStop.addActionListener(new ActionListener(){
            @Override
             public void actionPerformed(ActionEvent evt) {
                stop = true;  // set the stop flag
             }
        });
        
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setTitle(&#34;Counter&#34;);
        setSize(300, 120);
        setVisible(true);
    }
    
    public static void main(String[] args){
        /*SwingUtilities.invokeLater(new Runnable(){
            public void run() {
                new UnResponsiveUI();  // Let the constructor do the job
             }
        });*/
        
        /* new UnResponsiveUI(); */ 
        
        System.out.println(&#34;main thread exits&#34;);
        
    }
    
}
</code></pre><p>In first scenario, After debugging the constructor invoked from main() as <code>new UnResponsiveUI();</code>,  Following is the observation wrt number of threads get launched:</p><blockquote><p><em>1. The main() method starts in the &#34;main&#34; thread.</em></p><p><em>2. A new thread &#34;AWT-Windows&#34; (Daemon thread) is started when we step-into the constructor &#34;new UnresponsiveUI()&#34; (because of the &#34;extends JFrame&#34;).</em></p><p><em>3. After executing &#34;setVisible(true)&#34;, another two threads are created &#8211; &#34;AWT-Shutdown&#34; and &#34;AWT-EventQueue-0&#34; (i.e., the EDT).</em></p><p><em>4. The &#34;main&#34; thread exits after the main() method completes. A new thread called &#34;DestroyJavaVM&#34; is created.</em></p><p><em>5. At this point, there are 4 threads running &#8211; &#34;AWT-Windows&#34;, &#34;AWT-Shutdown&#34; and &#34;AWT-EventQueue-0 (EDT)&#34; and &#34;DestroyJavaVM&#34;.</em></p><p><em>6. Clicking the START button invokes the actionPerformed() in the EDT.</em></p></blockquote><p>In second scenario, After debugging the constructor from main() invoked as,</p><pre><code>SwingUtilities.invokeLater(new Runnable(){
            public void run() {
                new UnResponsiveUI();  // Let the constructor do the job
             }
        });
</code></pre><p>Following is observation wrt number of threads get launched but at different time instances:</p><blockquote><p><em>1. The main() method is started in the &#34;main&#34; thread.</em></p><p><em>2. The JRE&#39;s windowing subsystem, via <code>SwingUtilities.invokeLater()</code>, starts 3 threads at a time: &#34;AWT-Windows&#34; (daemon thread), &#34;AWT-Shutdown&#34; and &#34;AWT-EventQueue-0&#34;. The &#34;AWT-EventQueue-0&#34; is known as the Event-Dispatching Thread (EDT), which is the one and only thread responsible for handling all the events (such as clicking of buttons) and refreshing the display to ensure thread safety in GUI operations and manipulating GUI components.</em></p><p><em>3. Then we step-into the constructor <code>UnresponsiveUI()</code>to run on the Event-Dispatching thread (created via <code>invokeLater()</code>), after all the existing events have been processed.</em></p><p><em>4. The &#34;main&#34; thread exits after the main() method completes.</em></p><p><em>5. A new thread called &#34;DestroyJavaVM&#34; is created.</em></p></blockquote><p>So, In above two scenarios, The total number of threads getting created are same, but at different time instance and run GUI constructor on same EDT.</p><p>From this <a href="https://stackoverflow.com/questions/7217013/java-event-dispatching-thread-explanation">query</a>, i learnt that: &#34;If you didn&#39;t use invokeLater and instead you just updated the ui directly you might have a race condition and undefined behavior could occur.&#34;</p><p>My question:</p><p>What is the advantage of using <code>SwingUtilities.invokeLater()</code> method? Because in second scenario, launching EDT before stepping-into constructor did not add any value.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Using SwingUtilities.invokeLater() is not merely advantageous, it&#39;s essential, but to understand why you need to understand Swing&#39;s threading model.</p><p>Updates to the GUI, via Swing, must occur on the Event Dispatch Thread (EDT), and code that does anything else (e.g. accessing some resource such as a database) should use one or more other threads.</p><p>invokeLater() enables these other threads to update the GUI with their results, in the EDT, e.g. showing the result of a database query.</p><p>invokeLater() is named this way to make it obvious that it is asynchronous in invoking the Runnable object you give to it, since the EDT may be busy at the time - it&#39;s not that you explicitly <strong><em>want</em></strong> it to happen later.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../what-are-the-best-practices-of-java-swing-development/'>What are the best practices of Java Swing development</a></li><li class="list-group-item"><a href='../java-why-doesnt-swing-look-native-out-of-the-box/'>Java &#8211; Why doesn&#8217;t Swing look native out of the box</a></li><li class="list-group-item"><a href='../java-the-difference-advantage-of-doing-double-assignment/'>Java &#8211;  the difference/ advantage of doing double assignment</a></li><li class="list-group-item"><a href='../java-why-does-java-time-have-methods-for-creating-objects-instead-of-just-constructors/'>Java &#8211; Why does java.time have methods for creating objects instead of just constructors</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>