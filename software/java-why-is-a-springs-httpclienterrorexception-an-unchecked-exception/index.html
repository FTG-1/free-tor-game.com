<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Why is a Spring&#8217;s HttpClientErrorException an unchecked exception &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066746 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066746" class="post-1066746 software type-software status-publish hentry category-software tag-exceptions tag-java tag-spring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Why is a Spring&#8217;s HttpClientErrorException an unchecked exception</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">exceptions</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">spring</span></p><div class="entry-content"><p>Oracle <a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html" rel="noreferrer">summarises the purpose of unchecked exceptions</a> as:</p><blockquote><p>The next question might be: &#34;If it&#39;s so good to document a method&#39;s API, including the exceptions it can throw, why not specify runtime exceptions too?&#34; Runtime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small.</p></blockquote><p>Ok, so unchecked exceptions are for any errors caused by programmer error. Sure.</p><p>Spring&#39;s <a href="http://docs.spring.io/autorepo/docs/spring-framework/3.2.6.RELEASE/javadoc-api/org/springframework/web/client/HttpClientErrorException.html" rel="noreferrer">documentation for the HttpClientErrorException</a> (which extends RuntimeException) says the exception is for:</p><blockquote><p>Exception thrown when an HTTP 4xx is received.</p></blockquote><p>I can&#39;t see that this is a &#39;programmer error&#39; exception.</p><p>In the scenario I&#39;m testing, I&#39;m making a query to a Spring RestTemplate, but the server it&#39;s querying may be down, and return a 404. This seems like a perfectly normal state of affairs, not a programming error.</p><p>Am I perhaps interacting with the Spring Framework incorrectly (ie. I should be detecting the 404 before using the RestTemplate?) or is there something else I&#39;m not considering?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think you are doing well.</p><p>See it from this point of view. <a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html" rel="nofollow noreferrer">Unchecked Exceptions - Controversy</a>.</p><blockquote><p>If a client can reasonably be expected to recover from an exception,
make it a checked exception. If a client cannot do anything to recover
from the exception, make it an unchecked exception.</p></blockquote><p>It&#39;s a <em>handicap</em> due to the above premise. <strong>Spring Rest Client doesn&#39;t expect to recover itself from a 404</strong> so it delegates the decision of handling the error to upper layers.</p><p>It&#39;s your system&#39;s responsibility to decide what to do with 4xx or 5xx errors. The way to don&#39;t compromise the whole Spring Web and core architecture with useless <code>try/catch/final blocks</code> and refactor countless components adding the <code>throw</code> to signatures is typing  exceptions  as<code>RuntimeExceptions</code>.</p><p>In consequence, <em>Spring</em> user is involved in such eventuality. Spring delegate to us to <em>take care</em> and recover from these errors, or let them go (like they do) up to the next layers... And so on...</p><p>To your question</p><blockquote><p>ie. Should I be detecting the 404 before using the RestTemplate?</p></blockquote><p>It depends on what you need to do when the integration fails. I would suggest taking a look to fault tolerance patterns such as Circuit Breaker. This is a fairly known one, but there&#39;re <a href="https://github.com/resilience4j/resilience4j" rel="nofollow noreferrer">more</a>. Some times, the best you can do is let the exception go.</p><p>Finally, worth mention Spring&#39;s <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#setErrorHandler-org.springframework.web.client.ResponseErrorHandler-" rel="nofollow noreferrer"><code>ErrorHandlers</code></a> what let you handle errors in a more greaceful way. You can overwrite the method <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#handleResponse-java.net.URI-org.springframework.http.HttpMethod-org.springframework.http.client.ClientHttpResponse-" rel="nofollow noreferrer"><code>handleResponse</code></a> too.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../checked-vs-unchecked-vs-no-exception-a-best-practice-of-contrary-beliefs/'>Checked vs Unchecked vs No Exception&#8230; A best practice of contrary beliefs</a></li><li class="list-group-item"><a href='../java-logging-exception-in-multi-tier-application/'>Java &#8211; Logging Exception in multi-tier application</a></li><li class="list-group-item"><a href='../should-service-layer-catch-all-dao-exceptions-and-wrap-them-as-service-exceptions/'>Should service layer catch all dao exceptions and wrap them as service exceptions</a></li><li class="list-group-item"><a href='../java-exception-versus-return-code-in-dao-pattern/'>Java &#8211; Exception versus return code in DAO pattern</a></li><li class="list-group-item"><a href='../java-handling-validation-exception-responses-in-rest-ful-app/'>Java &#8211; Handling validation/exception responses in rest-ful app</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>