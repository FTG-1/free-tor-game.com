<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Referential transparency &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066916 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066916" class="post-1066916 software type-software status-publish hentry category-software tag-functional-programming tag-imperative-programming"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Referential transparency</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">functional programming</span><span class="mr-2 badge badge-info">imperative-programming</span></p><div class="entry-content"><p>I have seen that in imperative paradigms</p><p>f(x)+f(x)</p><p>might not be the same as:</p><p>2*f(x)</p><p>But in a functional paradigm it should be the same. I have tried to implement both cases in Python and <a href="http://en.wikipedia.org/wiki/Scheme_(programming_language)">Scheme</a>, but for me they look pretty straightforward the same.</p><p>What would be an example that could point out the difference with the given function?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Referential transparency, referred to a function, indicates that you can determine the result of applying that function only by looking at the values of its arguments. You can write referentially transparent functions in any programming language, e.g. Python, Scheme, Pascal, C.</p><p>On the other hand, in most languages you can also write non referentially transparent functions. For example, this Python function:</p><pre><code>counter = 0

def foo(x):
  global counter

  counter += 1
  return x + counter
</code></pre><p>is not referentially transparent, in fact calling</p><pre><code>foo(x) + foo(x)
</code></pre><p>and</p><pre><code>2 * foo(x)
</code></pre><p>will produce different values, for any argument <code>x</code>. The reason for this is that the function uses and modifies a global variable, therefore the result of each invocation depends on this changing state, and not only on the function&#39;s argument.</p><p>Haskell, a purely functional language, strictly separates <em>expression evaluation</em> in which <em>pure functions</em> are applied and which is always referentially transparent, from <em>action execution</em> (processing of special values), which is not referentially transparent, i.e. executing the same action can have each time a different result.</p><p>So, for any Haskell function</p><pre><code>f :: Int -&gt; Int
</code></pre><p>and any integer <code>x</code>, it is always true that</p><pre><code>2 * (f x) == (f x) + (f x)
</code></pre><p>An example of an action is the result of the library function <code>getLine</code>:</p><pre><code>getLine :: IO String
</code></pre><p>As a result of expression evaluation, this function (actually a constant) first of all produces a pure value of type <code>IO String</code>. Values of this type are values like any other: you can pass them around, put them in data structures, compose them using special functions, and so on. For example you can make a list of actions like so:</p><pre><code>[getLine, getLine] :: [IO String]
</code></pre><p>Actions are special in that you can tell the Haskell runtime to execute them by writing:</p><pre><code>main = &lt;some action&gt;
</code></pre><p>In this case, when your Haskell program is started, the runtime walks through the action bound to <code>main</code> and <em>executes</em> it, possibly producing side-effects. Therefore, action execution is not referentially transparent because executing the same action two times can produce different results depending on what the runtime gets as input.</p><p>Thanks to Haskell&#39;s type system, an action can never be used in a context
where another type is expected, and vice versa. So, if you want to find the length of a string you can use the <code>length</code> function:</p><pre><code>length &#34;Hello&#34;
</code></pre><p>will return 5. But if you want to find the length of a string read from the terminal, you cannot write</p><pre><code>length (getLine)
</code></pre><p>because you get a type error: <code>length</code> expects an input of type list (and a String is, indeed, a list) but <code>getLine</code> is a value of type <code>IO String</code> (an action). In this way, the type system ensures that an action value like <code>getLine</code> (whose execution is carried out outside the core language and which may be non-referentially transparent) cannot be hidden inside a non-action value of type <code>Int</code>.</p><p><strong>EDIT</strong></p><p>To answer exizt question, here is a small Haskell program that reads a line from the console and prints its length.</p><pre><code>main :: IO () -- The main program is an action of type IO ()
main = do
          line &lt;- getLine
          putStrLn (show (length line))
</code></pre><p>The main action consists of two subactions that are executed sequentially:</p><ol><li><code>getline</code> of type <code>IO String</code>,</li><li>the second is constructed by evaluating the function <code>putStrLn</code> of type <code>String -&gt; IO ()</code> on its argument.</li></ol><p>More precisely, the second action is built by</p><ol><li>binding <code>line</code> to the value read by the first action,</li><li>evaluating the pure functions <code>length</code> (compute length as an integer) and then <code>show</code> (turn the integer into a string),</li><li>building the action by applying function <code>putStrLn</code> to the result of <code>show</code>.</li></ol><p>At this point, the second action can be executed. If you have typed &#34;Hello&#34;, it will print &#34;5&#34;.</p><p>Note that if you get a value out of an action using the <code>&lt;-</code> notation, you can only use that value inside another action, e.g. you cannot write:</p><pre><code>main = do
          line &lt;- getLine
          show (length line) -- Error:
                             -- Expected type: IO ()
                             --   Actual type: String
</code></pre><p>because <code>show (length line)</code> has type <code>String</code> whereas the do notation requires that an action (<code>getLine</code> of type <code>IO String</code>) be followed by another action (e.g. <code>putStrLn (show (length line))</code> of type <code>IO ()</code>).</p><p><strong>EDIT 2</strong></p><p>Jörg W Mittag&#39;s definition of referential transparency is more general than mine (I have upvoted his answer). I have used a restricted definition because the example in the question focuses on the return value of functions and I wanted to illustrate this aspect. However, RT in general refers to the meaning of the whole program, including changes to global state and interactions with the environment (IO) caused by evaluating an expression. So, for a correct, general definition, you should refer to that answer.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/differences-between-imperative-language-and-functional-language-debuggers/'>Differences between imperative-language and functional-language debuggers</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/side-effects-breaking-referential-transparency/'>Side Effects Breaking Referential Transparency</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/what-makes-functional-programming-languages-declarative-as-opposed-to-imperative/'>What makes functional programming languages declarative as opposed to Imperative</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/what-are-the-benefits-of-referential-transparency-to-a-programmer/'>What are the benefits of referential transparency to a programmer</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>