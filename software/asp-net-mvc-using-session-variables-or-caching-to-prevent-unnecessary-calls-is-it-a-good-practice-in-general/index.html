<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>ASP.NET MVC &#8211; Using Session Variables or Caching to prevent unnecessary calls. Is it a good practice in general &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076641 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076641" class="post-1076641 software type-software status-publish hentry category-software tag-asp-net tag-asp-net-mvc tag-caching tag-web-applications"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">ASP.NET MVC &#8211; Using Session Variables or Caching to prevent unnecessary calls. Is it a good practice in general</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">asp.net</span><span class="mr-2 badge badge-info">asp.net-mvc</span><span class="mr-2 badge badge-warning">caching</span><span class="mr-2 badge badge-primary">web-applications</span></p><div class="entry-content"><p>I have an application that consists of multiple sections of which each section will need to load data from various API calls.</p><p>Now I&#39;m thinking of taking advantage of Session variables(or caching) to store some data based on User ID so that in case of a user reloads the page continuously it would prevent unnecessary calls (except of course in certain cases where the data needs real time update).</p><p>This is my first time building a complex web application and I was wondering what would be a good practice to prevent the application from getting overloaded with unnecessary calls.</p><p>Thanks for any advice.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Your instinct about caching frequent calls is correct. While its very hard to predict future performance problems, you can plan ahead with a caching strategy now to make it easier to adjust your site on the fly later when you get some real traffic. There&#39;s two kinds of caching in ASP.NET that will give you some immediate benefits without being too hard to use: Session storage and Application Caching.</p><p><strong>Session Storage</strong> essentially caches an object locally (kinda) on the user&#39;s computer for the duration of their session on your site. An object stuck into session for a given user is not generally available to the system unless its in the context of that user posting something to the server. So its a natural fit for stuff like the logged in user&#39;s details. You can store something like a User class for the current user in session, to avoid having to go look up their username/email/dob/etc from the database on each pageload, if for example you render that info on every screen. Session object are easy to create and retrieve as they are just listed by a key:</p><pre><code>// Set up a session obj
Session[&#34;LoggedInUserDetail&#34;] = new LoggedInUserDetail(&#34;Greg Smith&#34;, &#34;gsmith&#34;, &#34;admin&#34;);

// On future pageloads, fetch the object out of session
var loggedInUser = Session[&#34;LoggedInUserDetail&#34;] as LoggedInUserDetail;
if (loggedInUser == null)
    // handle logged out user here
else 
    // render user details here.
</code></pre><p><strong>Application Caching</strong> is like session, but instead of the object being stored on the client, they are stored on the server. One example of why you would use this instead of session would be for something like an expensive database call that every user will need but isn&#39;t tailored to each user. Like perhaps a large entity that&#39;s expensive to fetch from the database. You can write code such that the first user who requests this object waits for it to come from the database, but all future requests from either that user or different users will be able to get that object from memory instead of the database. Application Caching looks very similar to Session Storage, but you can tell the app how long to hold onto the object too, among other things. Here&#39;s a method that pulls a Widget object into cache and returns it on subsequent calls.</p><pre><code>public Widget GetWidgetFromCache(int widgetParam)
{
    var keyName = &#34;CachedWidget&#34;;
    var widgetFromCache = HttpContext.Current.Cache[keyName] as Widget;
    if (widgetFromCache != null)
        return widgetFromCache;

    // expensive call here
    var widgetFromDbase = SQLFactory.GetExpensiveWidget(widgetParam); 

    // put it into cache and return it.
    HttpContext.Current.Cache.Insert(keyName, widgetFromDbase, null, DateTime.Now.AddHours(1), Cache.NoSlidingExpiration);
    return widgetFromDbase;
}
</code></pre><p>With these two techniques, you can radically improve the performance of your app. You&#39;ll just have to understand that you can be working with slightly &#39;stale&#39; data if its cached, and adjust your app accordingly. Having helper methods to help remove items from the cache when needed also helps. Give me a shout in the comments if you need help with that.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../javascript-using-backbone-js-with-asp-net-mvc/'>Javascript &#8211; Using Backbone.js with ASP.Net MVC</a></li><li class="list-group-item"><a href='../idea-to-develop-a-caching-server-between-iis-and-sql-server/'>Idea to develop a caching server between IIS and SQL Server</a></li><li class="list-group-item"><a href='../how-to-cache-data-that-rarely-changes/'>How to cache data that rarely changes</a></li><li class="list-group-item"><a href='../asp-net-mvc-static-class-and-background-worker/'>ASP.net MVC static class and background worker</a></li><li class="list-group-item"><a href='../c-is-it-good-practice-to-save-an-entire-viewmodel-in-session-c-asp-net-mvc/'>C# &#8211; Is it good practice to save an entire ViewModel in Session (C# ASP.NET MVC)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>