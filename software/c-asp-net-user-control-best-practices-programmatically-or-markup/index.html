<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; ASP.NET user control best practices, programmatically or markup &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067967 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067967" class="post-1067967 software type-software status-publish hentry category-software tag-asp-net tag-c tag-webforms"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; ASP.NET user control best practices, programmatically or markup</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">asp.net</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">webforms</span></p><div class="entry-content"><p>I&#39;ve just started an internship with a company whose main product is an ASP.NET web forms. My related experience so far has been with Java and front end web development. My current task is to make their site responsive and more accessible for various users.</p><p>Currently I&#39;m struggling to make sense of how each HTML page is generated. All of the user controls are programmatically generated from code behind .ascx.cs files and there is no markup in any of the .ascx files themselves.</p><p>I was wondering if this is standard practice? And are there any tools I can use to get a clearer picture of what each part generates?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>***Edited</p><p>I am editing here because I did not really answer you question: ASP.NET was created around 14 years ago, when AJAX and DOM manipulation where in their infancy. The idea was to create controls and drag and drop them on a form. The controls would be part of a tree under the web form.</p><p>Anyway, At that time, ASP.NET fit the bill for 90% of projects, it had never been easier to create a web app then it had become with ASP.NET. Now it is 2015, and things have changed drastically over the years, namely, AJAX is everywhere.</p><p>One of the issues with ASP.NET is that it generates unique IDs for each control based on where the control fit in its page&#39;s control hierarchy. It also saves a pages encrypted ViewState, the state of all its controls, in a separate form field. So if you change the DOM drastically, when the pages tries to restore it&#39;s view state, it will error out, because the page is no longer the same state as it was when the view state was captured.</p><p>For example a generated id of &#34;somepage_control_othercontrol&#34; could be used by the asp.net page to find a control that is nested within its page and and restore its current view state, without having to do it manually. So, to sum it up, the best practice at the time was to reuse nested controls and there xml representations in the markup, for example, <code>&lt;asp:TextBox /&gt;</code>.</p><p>If you want to use ASP.NET how it was designed to be used, use nested User Controls and Server Controls and try not to mess with the DOM too much.</p><p>If you are going do a lot of DOM manipulations via javascript, don&#39;t mind pulling post parameters into variables manually, don&#39;t care whether a control automatically repopulates with it&#39;s last value after a post, want to determine your own input control names, then you can use straight HTML aspx file with no server controls and turn off ViewState on your page, but for most pages you will doing a lot more work that the framework would normally do for you.</p><p>***End Edit</p><p>I have not done non MVC asp.net development now for several years, but the best way that I know of to understand how User Controls are generated is to understand the Page Execution and Control Execution Lifecycles<img src="../../../i.stack.imgur.com/Z9psP.png" alt="enter image description here"/> and the events that render them.</p><p>See <a href="https://msdn.microsoft.com/en-us/library/ms178472.aspx" rel="noreferrer">https://msdn.microsoft.com/en-us/library/ms178472.aspx</a></p><p><a href="https://msdn.microsoft.com/en-us/library/aa719775(v=vs.71).aspx" rel="noreferrer">https://msdn.microsoft.com/en-us/library/aa719775(v=vs.71).aspx</a></p><p><a href="https://msdn.microsoft.com/en-us/library/ms178472(v=vs.85).aspx" rel="noreferrer">https://msdn.microsoft.com/en-us/library/ms178472(v=vs.85).aspx</a></p><p><a href="http://www.codeproject.com/Articles/457647/Understanding-ASP-NET-Application-and-Page-Life-Cy" rel="noreferrer">http://www.codeproject.com/Articles/457647/Understanding-ASP-NET-Application-and-Page-Life-Cy</a></p><p>PreInit All the Dynamic Controls, Master pages, Profiles and themes should be set in this event.</p><p>Init    This should be used to set the initial value of the Control properties.</p><p>InitComplete    This should be used to have custom ViewState data. This is the first place where ViewState has been loaded and can be changed.</p><p>Preload This can be used to set the properties of the controls.</p><p>Load    All the Database connections and Data Binding can be performed here. Before this event finishes up all the validations will be done. Once the event is finished, the events for all the controls will execute before calling the next event in this list.</p><p>LoadComplete    This event can be used for activities on controls that require them to be fully loaded.s</p><p>PreRender   This is the last page where the visual properties of the controls can be changed before getting them displayed on the page.</p><p>PreRenderComplete   This will be called when the page is ready and no changes in visual elements can be made. All data binding are done at this point.</p><p>SaveStateComplete   View State has been saved and from this point onwards changes in ViewState will not be preserved i.e. ViewState has been saved for the page already.</p><p>Unload  The Page processing is done now. This is the last event that will be called.</p><p>Essentially you need know exactly where you can do a certain types of tasks within the page and control life cycles. Once you understand this, you just need to subscribe to the right event for the task and write the code that&#39;s require in the event handler.</p><p>Here is a complete list of all the events as the happen in order across all scopes</p><p>Page    ProcessRequest</p><p>Page    ProcessRequestMain</p><p>Page    DeterminePostBackMode</p><p>Adapter DeterminePostBackMode</p><p>Page    LoadScrollPosition</p><p>Page    OnPreInit</p><p>Page    ApplyMasterPage</p><p>PostBack    ApplyMasterPageRecursive</p><p>Control InitRecursive</p><p>Control ResolveAdapter</p><p>Control ApplySkin</p><p>Page    ApplyControlSkin</p><p>PostBack    ApplyControlSkin</p><p>Page    OnInitComplete</p><p>PostBack    LoadAllState</p><p>PostBack    LoadPageStateFromPersistenceMedium</p><p>PagePersister   Load</p><p>Control LoadControlStateInternal</p><p>Control LoadControlState</p><p>Adapter LoadAdapterControlState</p><p>Control LoadViewStateRecursive</p><p>Control LoadViewState</p><p>Adapter LoadAdapterViewState</p><p>PostBack    ProcessPostData</p><p>Page    OnPreLoad</p><p>Control LoadRecursive</p><p>Control OnLoad</p><p>Adapter OnLoad</p><p>PostBack    ProcessPostData</p><p>PostBack    RaiseChangeEvents</p><p>PostBack    RaisePostBackEvents</p><p>Page    OnLoadComplete</p><p>Control PreRenderRecursiveInternal</p><p>Control EnsureChildControls</p><p>Control ResolveAdapter</p><p>Control CreateChildControls</p><p>Adapter CreateChildControls</p><p>Control OnPreRender</p><p>Adapter OnPreRender</p><p>Control SaveViewState</p><p>Page    SavePageStateToPersistenceMedium</p><p>PagePersister   Save</p><p>Page    OnSaveStateComplete</p><p>Control RenderControl</p><p>Control RenderControlInternal</p><p>Control Render</p><p>Adapter BeginRender</p><p>Adapter Render</p><p>Adapter EndRender</p><p>Control RenderChildren</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-best-architecture-for-asp-net-webforms-application/'>C# &#8211; Best Architecture for ASP.NET WebForms Application</a></li><li class="list-group-item"><a href='../php-is-asp-net-mvc-completely-and-exclusively-based-on-conventions/'>Php &#8211; Is ASP.NET MVC completely (and exclusively) based on conventions</a></li><li class="list-group-item"><a href='../c-best-practices-for-logging-user-actions-in-production/'>C# &#8211; Best practices for logging user actions in production</a></li><li class="list-group-item"><a href='../asp-net-deployment-maintenance-best-practices/'>ASP.NET deployment/maintenance best practices</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>