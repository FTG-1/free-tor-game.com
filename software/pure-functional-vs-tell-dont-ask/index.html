<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Pure functional vs tell, don&#8217;t ask &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080160 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080160" class="post-1080160 software type-software status-publish hentry category-software tag-design-patterns tag-pure-function"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Pure functional vs tell, don&#8217;t ask</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">pure-function</span></p><div class="entry-content"><blockquote><p>&#34;The ideal number of arguments for a function is zero&#34; is plain wrong. The ideal number of arguments is exactly the number needed to enable your function to be side-effect free. Less than that and you needlessly cause your functions to be impure thus forcing you to steer away from the pit of success and climb the gradient of pain. Sometimes &#34;Uncle Bob&#34; is spot on with his advice. Sometimes he is spectacularly wrong. His zero arguments advice is an example of the latter</p></blockquote><p>(<a href="https://softwareengineering.stackexchange.com/questions/388052/rationale-to-prefer-local-variables-over-instance-variables#comment853649_388052">Source: comment by @David Arno under another question on this site</a>)</p><p>The comment has gained a spectacular amount of 133 upvotes, which is why I&#39;d like to pay some closer attention to its merit.</p><p>As far as I&#39;m aware, there are two separate ways in programming: pure functional programming (what this comment is encouraging) and tell, don&#39;t ask (which from time to time is being recommended on this website as well). AFAIK these two principles are fundamentally incompatible, close to being opposites of each other: pure functional can be summarized as &#34;only return values, have no side effects&#34; while tell, don&#39;t ask can be summarized as &#34;don&#39;t return anything, only have side effects&#34;. Also, I&#39;m kind of perplexed because I thought that tell, don&#39;t ask was considered the core of OO paradigm while pure funcitons were considered the core of functional paradigm &#8211; now I see pure functions recommended in OO!</p><p>I suppose developers should likely chose one of these paradigms and stick to it? Well I must admit I could never bring myself to follow either. Oftentimes it seems convenient for me to return a value and I can&#39;t really see how can I achieve what I want to achieve only with side effects. Oftentimes it seems convenient for me to have side effects and I can&#39;t really see how can I achieve what I want to achieve only by returning values. Also, oftentimes (I guess this is horrible) I have methods that do both.</p><p>However, from these 133 upvotes I&#39;m reasoning that currently pure functional programming is &#34;winning&#34; as it becomes a consensus that it is superior to tell, don&#39;t ask. Is this correct?</p><p>Therefore, <a href="https://softwareengineering.stackexchange.com/questions/371977/write-some-code-and-plague-it-with-anti-patterns-or-not-write-it-at-all-any-esc">on the example of this antipattern-ridden game I&#39;m trying to make</a>: If I wanted to bring it to conformance with pure functional paradigm &#8211; HOW?!</p><p>It seems reasonable to me to have a battle state. Since this is a turn based game, I keep battle states in a dictionary (multiplayer &#8211; there may be many battles played by many players at the same time). Whenever a player makes their turn, I call an appropriate method on the battle state which (a) modifies the state accordingly and (b) returns updates to the players, which get serialized into JSON and basically just tell them what has just happened on the board. This, I suppose, is in a flagrant violation of BOTH principles and at the same time.</p><p>OK &#8211; I could make a method RETURN a battle state instead of modifying it in place if I really wanted to. But! Will I then have to copy everything in the battle state needlessly just to return a wholly new state instead of modifying it in place?</p><p>Now perhaps if the move is an attack I could just return a characters updated HP? Problem is, it&#39;s not that simple: game rules, a move can and often will have many more effects than just removing a portion of a player&#39;s HP. For example, it may increase the distance between characters, apply special effects, etc etc.</p><p>It seems so much simpler for me to just modify the state in place and return updates&#8230;</p><p>But how would an experienced engineer tackle this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Both Uncle Bob and David Arno (the author of the quote you had) have important lessons we can glean from what they wrote.  I think it&#39;s worth learning the lesson and then extrapolating what that really means for you and your project.</p><p><strong>First: Uncle Bob&#39;s Lesson</strong></p><p>Uncle Bob is making the point that the more arguments you have in your function/method the more developers who use it have to understand.  That cognitive load doesn&#39;t come for free, and if you aren&#39;t consistent with the order of the arguments, etc. the cognitive load only increases.</p><p>That is a fact of being human.  I think the key mistake in Uncle Bob&#39;s Clean Code book is the statement <em>&#34;The ideal number of arguments for a function is zero&#34;</em>.  Minimalism is great until it isn&#39;t.  Just like you never reach your limits in Calculus, you&#39;ll never reach &#34;ideal&#34; code--nor should you.</p><p>As Albert Einstein said, “Everything should be as simple as it can be, but not simpler”.</p><p><strong>Second: David Arno&#39;s Lesson</strong></p><p>The way of developing David Arno described is more <em>functional</em> style development than <em>object oriented</em>.  However, functional code scales way better than traditional object oriented programming.  Why? Because of locking.  Any time state is mutable in an object, you run the risk of race conditions or locking contention.</p><p>Having written highly concurrent systems used in simulations and other server side applications, the functional model works wonders.  I can attest to the improvements the approach has made.  However, it is a very different style of development, with different requirements and idioms.</p><p><strong>Development is a series of trade-offs</strong></p><p>You know your application better than any of us do.  You may not need the scalability that comes with functional style programming.  There is a world between the two ideals listed above.  Those of us who deal with systems that need to handle high throughput and ridiculous parallelism will tend toward the ideal of functional programming.</p><p>That said, you can use data objects to hold the set of information you need to pass in to a method.  That helps with the cognitive load problem that Uncle Bob was addressing, while still supporting the functional ideal that David Arno was addressing.</p><p>I&#39;ve worked on both desktop systems with limited parallelism required, and high throughput simulation software.  They have very different needs.  I can appreciate well written object oriented code that is designed around the concept of data hiding you are familiar with.  It works for several applications.  However, it doesn&#39;t work for all of them.</p><p>Who&#39;s right?  Well, David is more right than Uncle Bob in this case.  However, the underlying point I want to underscore here is that a method should have as many arguments as make sense.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../design-everything-is-a-map-am-i-doing-this-right/'>Design &#8211; &#8220;Everything is a Map&#8221;, am I doing this right</a></li><li class="list-group-item"><a href='../alternative-to-language-purity/'>Alternative to language purity</a></li><li class="list-group-item"><a href='../object-oriented-oop-ecs-vs-pure-ecs/'>Object-oriented &#8211; OOP ECS vs Pure ECS</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>