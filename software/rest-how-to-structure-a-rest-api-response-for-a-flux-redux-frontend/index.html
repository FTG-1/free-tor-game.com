<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; How to structure a REST API response for a Flux/Redux frontend &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085031 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085031" class="post-1085031 software type-software status-publish hentry category-software tag-api tag-architecture tag-flux tag-redux tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; How to structure a REST API response for a Flux/Redux frontend</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">Architecture</span><span class="mr-2 badge badge-warning">flux</span><span class="mr-2 badge badge-primary">redux</span><span class="mr-2 badge badge-danger">rest</span></p><div class="entry-content"><p>I have a question about how to structure a response where I return objects related to other objects (one-to-many/many-to-one), and to tell me if the way I&#39;ve structured my endpoints are wrong or not, or if there is a better way.</p><p>My scenario:<br /> I have an JS app built on Flux where I have these stores:<br /> &#8211; Meetings<br /> &#8211; Users</p><p>For the sake of simplicity, let&#39;s say the enduser is a meeting manager, and wants to see a table/list of all meetings, and each row will display the meeting description and date, plus the attendees&#39; names, emails, and phones.</p><p>So on page load I do a request to the route /meetings which returns an object like this:</p><pre><code>{
    meetings: [
        {id: 1, date: &#39;2016-01-01&#39;, attendees: [1, 2, 3]},
        {id: 2, date: &#39;2016-01-02&#39;, attendees: [2, 3, 4]},
    ],
    allUsersIntersectedByMeetings: [
        {1, name: &#39;a&#39;, phone: &#39;1800-01111&#39;},
        {2, name: &#39;b&#39;, phone: &#39;1800-02222&#39;},
        {3, name: &#39;c&#39;, phone: &#39;1800-03333&#39;},
        {4, name: &#39;d&#39;, phone: &#39;1800-04444&#39;},
    ]
}
</code></pre><p>If you notice, I&#39;ve separated the users data from the meetings array, this is to compact the result and prevent sending duplicated information about the same user (in my example the user data is pretty small, but in real life there could be many columns on the user table).</p><p>The reason I&#39;ve decoupled meetings and users, is that I don&#39;t want to return tons of duplicated data, because in real life I&#39;ll be pulling at least one hundred meetings in one request, and users could repeat many times across different meetings.</p><p>So with this structure, I&#39;ll put all the customers in my front-end flux store &#39;Users&#39;, and I&#39;d keep all my data n&#39;sync. Example, If I wanted  to edit a user&#39;s phone, I&#39;ll do it directly on the Users store, and that would propagate thru the UI where other meetings reference the same user. I don&#39;t have to touch the meetings objects at all.</p><p>Also, I could run into an issue where I&#39;d also need to return nested data on the Users, like their company info:</p><pre><code>{userId: 1, name: &#39;a&#39;, phone: &#39;1800-0111&#39;, email: &#39;bla@bla.com&#39;, companyId: 10}

{companyId: 10, phone: &#39;1900-02222&#39;, name: &#39;ACME INC&#39;}.
</code></pre><p>Do you think I&#39;m worrying too much about network bandwidth? Should I just return the meetings with the populated users&#39; data (ala&#39; MongoDB)?.</p><p>Or should I just return the meetings and execute a separate request to fetch unique users under users API endpoint like &#39;/users?filterById=1,2,3&#39; ?<br /> Although I like this approach I&#39;d be worried about speed, if for example I let the enduser to search meetings on an input box and on each input change event refresh the results (like an elastic search). I think the results would feel very slow to show up if I was required to show its users&#39; info at the same time. Thoughts?</p><p>Is there a defacto way to solve this issues with REST?<br /> What would be your suggestions?</p><p>Thanks.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I don&#39;t know Flux, and my answer is &#34;it depends&#34;.</p><p><em>Edit with summary</em>: I would choose between either (A) including attendee resrouces directly under meetings (and not optimizing as you have done), or (B) not include them at all and only provide URIs of the attendee resources. Choice (A) is a reasonable compromise in my eyes.</p><p>If you&#39;re aiming to be as RESTful as possible, including two top-level resources (<code>meetings</code>and <code>allUsersIntersectedByMeetings</code>) don&#39;t fit well.</p><p>Instead, you could have your <code>/meetings</code> collection of meetings that&#39;s responsible for returning meetings. A network maybe-not-efficient way is to add links from a <code>meeting</code> resource to the URL of each of its attendees.</p><p>It&#39;s possible then that your browser will cache attendees (people) that it has already request in the past.</p><p>Rather than links, you can include the attendee objects direclty, like:</p><p><code> {
 &#34;meetings&#34;: [
 {
 &#34;id&#34;: 1,
 &#34;attendees&#34;: [
 {
 &#34;id&#34;: 1,
 &#34;name&#34;: &#34;Oscar&#34;
 }
 ]
 ]
} </code></p><p>By the way, the &#34;JSON API&#34; standard uses an <code>includes</code> section like your original example. I&#39;m not sure how RESTful or not that approach is.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-returning-view-code-in-an-api-response/'>Rest &#8211; Returning view code in an API response</a></li><li class="list-group-item"><a href='../java-rest-api-authorization-strategies/'>Java &#8211; REST API authorization strategies</a></li><li class="list-group-item"><a href='../rest-api-handle-partial-nested-objects/'>REST API: Handle &#8220;partial&#8221; nested objects</a></li><li class="list-group-item"><a href='../rest-api-updating-many-to-many-relationships/'>REST API &#8211; Updating many-to-many relationships</a></li><li class="list-group-item"><a href='../rest-api-post-with-illegal-data-in-parameters-bad-request-or-404/'>Rest API POST with illegal data in parameters: Bad Request or 404</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>