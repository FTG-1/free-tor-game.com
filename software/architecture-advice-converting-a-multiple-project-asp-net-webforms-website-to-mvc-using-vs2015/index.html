<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture &#8211; Advice converting a multiple-project ASP.NET WebForms website to MVC (using VS2015) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080907 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080907" class="post-1080907 software type-software status-publish hentry category-software tag-architecture tag-asp-net"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture &#8211; Advice converting a multiple-project ASP.NET WebForms website to MVC (using VS2015)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">asp.net</span></p><div class="entry-content"><p>We inherited a large ASP.NET website built entirely in WebForms. The website has over 200 pages, spread across 60 WebForms projects inside of the website&#39;s solution. About half of the pages are static content while the other half has a varied amount of server side complexity, mainly data capture and display. There is no use of ASP.NET web server controls as we&#39;ve been phasing them out in favour of pure html. We handle SQL data via (a lot of) stored procedures on the SQL server. Our servers run Windows Server 2012 R2, IIS 7 with ASP.NET 4.5 framework.</p><p>We&#39;re researching if it&#39;s feasible to gradually convert to MVC or if a full MVC re-write is the best way to go.</p><p>To avoid becoming too broad, this question is about the general (non project-specific) procedure of converting a WebForms ecosystem into an ASP.NET-MVC ecosystem. And the specific focus is effort estimation (given the above project measurements).<br /> Own research</p><p>The reasons why we want to convert WebForms to ASP.NET-MVC are mainly:</p><ul><li>routing and SEO friendly URLs,</li><li>better structure and separation of code,</li><li>the Entity Framework for central management of data,</li><li>scaffolding for speedy development via auto generation of code,</li><li>the Web API for AJAX communication and seamless update of page without refreshing, &#8212; and to move away from the no longer supported (since .NET 5) webforms platform.</li></ul><p>We understand that some of these concepts can be plugged into webforms but not as well integrated as in MVC. We&#39;d like to take advantage of the flexibility that MVC offers.</p><p>So, I suppose we&#39;re going to need to do something like the following:</p><ul><li>convert gradually:<ul><li>add an MVC skeleton structure that covers a specific part (likely the site .master and respective controls (.ascx) and a single WebForms project)</li><li>fill in the structure with functionality, reusing relevant chunks of existing code by refactoring them as needed<br /> full rewrite:</li><li>create a full MVC structure, possibly creating a new project structure, re-partitioning functionality between them</li><li>fill it in by copy-pasting existing code or rewriting parts that are easier this way</li></ul></li></ul><p>These may be incorrect, of course; as I said, it&#39;s what we have for now.<br /> Questions:</p><pre><code>Could you outline a high-level conversion procedure in either case?
</code></pre><p>Specifically,</p><ul><li>in the gradual converting scenario, what&#39;s the most painless process?<ul><li>To re-write and replace the site .master and dependent controls to MVC layout and views and then load the remaining yet to be converted content into the new MVC layout?</li><li>Or to load views into the existing master page?</li><li>Or can you suggest and alternative method that will minimize duplicate MVC and webforms content during the transition period?</li></ul></li><li>in the full rewrite scenario, is it preferable to combine everything into a single MVC project, keep the existing 60 projects structure or repartition the functionality by an MVC-friendly principle? Currently the project structure matches the URL structure.</li></ul><p>Any guidance or constructive feedback would be much appreciated.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>For a site this large, I&#39;m going to recommend a gradual transition.</p><ol><li><p>Determine if you have a web <em>site</em> or a web <em>application</em>.</p><p>Asp.Net Web applications bring a lot of their own benefits, but the most important one for you is that they have a &#34;mixed mode&#34; and can run both Webforms and MVC from the same application. If you have a site, you&#39;ll need to migrate to an app. It&#39;s a simple and relatively safe process. Shouldn&#39;t take more than a day or two.</p></li><li><p>Identify the parts of your code that are painful to work with or change often.</p><p>These are your first targets. You&#39;ll get the biggest bang for your buck if you tackle these first. There&#39;s no sense in &#34;fixing&#34; code that never changes.</p></li><li><p>Invest in a refactoring tool like ReSharper.</p><p>I seriously could not imagine undertaking such a project without a tool that helps you quickly and, more importantly, <em>safely</em> clean up your code.</p></li><li><p>Introduce a new class library project to house your data access and common business logic.</p><p>The project is going to be in a state of flux for some time (<a href="http://mikehadlow.blogspot.ca/2014/12/the-lava-layer-anti-pattern.html" rel="nofollow">perhaps forever</a>). You&#39;re going to want to centralize logic &amp; functionality that&#39;s common to your Forms and Controllers.</p><p>At this point, you may or may not want to introduce Entity Framework. The safest thing to do is to extract your data access into this library, introduce an interface to it and replace the ADO.Net data later with a shiny new EF one later.</p></li><li><p>Have a plan.</p><p>A project that this will quickly become a quagmire if you don&#39;t have realistic, obtainable milestones.</p></li></ol><hr/><p>Lastly, consider whether you really need to move to MVC to clean this up, or if it would be sufficient to learn the Model-View-Presenter pattern and refactor your existing code into it. It&#39;s a flavor of MVC (the pattern, not the framework) that works very well with Webforms. Properly applied, it will give you many of the architectural benefits that MVC will give you.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../mvc-obtaining-the-best-of-both-worlds-mvc-and-webforms/'>Mvc &#8211; Obtaining the best of both worlds: MVC and WebForms</a></li><li class="list-group-item"><a href='../mvc-a-good-substitute-for-asmx-web-service-methods-but-not-a-general-handler/'>Mvc &#8211; A good substitute for ASMX web service methods, but not a general handler</a></li><li class="list-group-item"><a href='../alternative-way-of-developing-for-asp-net-to-webforms-any-problems-with-this/'>Alternative way of developing for ASP.NET to WebForms &#8211; Any problems with this</a></li><li class="list-group-item"><a href='../one-login-amongst-multiple-asp-net-mvc-applications-questions/'>One Login amongst multiple ASP.NET MVC applications Questions</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>