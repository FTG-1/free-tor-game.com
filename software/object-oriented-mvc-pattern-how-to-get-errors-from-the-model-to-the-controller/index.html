<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; MVC Pattern &#8211; How to get errors from the model to the controller &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076673 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076673" class="post-1076673 software type-software status-publish hentry category-software tag-mvc tag-object-oriented tag-object-oriented-design tag-validation"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; MVC Pattern &#8211; How to get errors from the model to the controller</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">mvc</span><span class="mr-2 badge badge-info">object-oriented</span><span class="mr-2 badge badge-warning">object-oriented-design</span><span class="mr-2 badge badge-primary">validation</span></p><div class="entry-content"><p>Say I have a typical MVC setup. The controller passes on some input to the model, and asks it to do something with it. But the validation of the data fails, or there is some other problem. What&#39;s the best way of getting these errors passed back to the controller, which will then pass them to the view to be displayed to the user?</p><p>At the moment, I just have an <code>errors</code> array in my model. When any errors occur, I simply add the error messages to this array, and <code>return false</code> to the controller, so it knows that errors occurred. And in the controller, I do this:</p><pre><code>boolean result = model.process( input );

if (! result)
{
   view.displayErrors( model.getErrors() );
   return;
}
else
   view.displaySuccess();
</code></pre><p>Is there a better way of handling this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>So what you&#39;re suggesting / currently doing is one method, and it&#39;s certainly a valid way of gathering additional information about error messages.</p><p>It&#39;s a reasonably lightweight approach - the caller gets a success | failure message and then it&#39;s up to the caller to dig deeper for additional information if it so cares.  The downside is what you alluded to with the comments - what if there are multiple issues within the validation?</p><p>It wouldn&#39;t be too hard to extend this approach so that the caller loops over a <code>GetErrorDetails()</code> call until that method returns an indicator of &#34;no more errors.&#34;</p><p>Another <em>potential</em> issue with this approach is the implicit assumption that the caller is in the best position to deal with whatever the error messages may be.  Since you&#39;re using MVC, the controller <em>isn&#39;t</em> always the best layer to fix that problem.  The validation errors need to be pushed back to the View so the user can correct the issue.  I&#39;m not focusing on this aspect since there are some valid counter-arguments to indicate that the Controller could / should indicate the error. <em>That</em> discussion is not the point of your question.</p><p><strong>Altertnative 1</strong><br/> As an alternative, consider making a full blown object to return errors with.  Instead of the boolean that you&#39;re currently returning, you&#39;ll return that error object instead.</p><p>Obviously, the error object will need to have a value to indicate success | failure | partial-success | whatever.  The benefit is that you can now add a collection of errors within the error object itself.</p><p>Here&#39;s some pseudo-code to give you an idea of what I&#39;m suggesting.</p><pre>ErrorParent()
{
  bool success;
  List errorMsgs;
}

ErrorMessages()
{
  string message;
  int  severity;
  List callstack;
}
</pre><p>The caller has to work a little harder to determine success, but it&#39;s an equally simple <code>ErrorParent.success</code> check as opposed to a <code>success</code> check.  Yes, yes, I know the troubles of typing out a few more characters...</p><p>If the caller cares about the errors, then it can iterate over the <code>ErrorParent.errorMsgs</code> collection and see what all went wrong.  If the caller <em>doesn&#39;t care</em> about the errors then it can pass the error object off to an error handler and let the handler do all the hard work.</p><p><strong>Alternative 2</strong><br/> Instead of returning a bool for success / error, you could return a numeric value.  The numeric value would indicate the number of failed validations.  The Controller could pass that numeric error return to the &#34;best&#34; error handler for that situation, and then the error handler would loop over the <code>GetErrorDetails()</code> method.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../mvc-can-the-model-know-anything-about-the-view/'>MVC Can the model know ANYTHING about the view</a></li><li class="list-group-item"><a href='../if-the-model-is-validating-the-data-shouldnt-it-throw-exceptions-on-bad-input/'>If the model is validating the data, shouldn&#8217;t it throw exceptions on bad input</a></li><li class="list-group-item"><a href='../mvc-database-search-logic-in-view-or-model/'>MVC &#8211; Database search logic in View or Model</a></li><li class="list-group-item"><a href='../mvc-spring-mvc-handling-validation-errors-using-ajax/'>Mvc &#8211; Spring MVC &#8211; Handling validation errors using AJAX</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>