<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; What are the advantages of prototype-based OOP over class-based OOP &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1065778 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1065778" class="post-1065778 software type-software status-publish hentry category-software tag-design tag-language-agnostic tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; What are the advantages of prototype-based OOP over class-based OOP</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">language-agnostic</span><span class="mr-2 badge badge-warning">object-oriented</span></p><div class="entry-content"><p>When I first started programming Javascript after primarily dealing with OOP in context of class-based languages, I was left confused as to why prototype-based OOP would ever be preferred to class-based OOP.</p><ol><li>What are the structural advantages to using prototype-based OOP, if any?  (e.g. Would we expect it to be faster or less memory intensive in certain applications?)</li><li>What are the advantages from a coder&#39;s perspective?  (e.g. Is it easier to code certain applications or extend other people&#39;s code using prototyping?)</li></ol><p>Please don&#39;t look at this question as a question about Javascript in particular (which has had many faults over the years that are completely unrelated to prototyping).  Instead, please look at it in context of the theoretical advantages of prototyping vs classes.</p><p>Thank you.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I had quite a lot of experience of the both approaches when writing an RPG game in Java. Originally I wrote the whole game using class-based OOP, but eventually realised that this was the wrong approach (it was becoming unmaintainable as the class hierarchy expanded). I therefore converted the whole code base to prototype-based code. The result was <em>much</em> better and easier to manage.</p><p>Source code here if you are interested (<a href="http://sourceforge.net/projects/tyrant/">Tyrant - Java Roguelike</a>)</p><p>Here are the main benefits:</p><ul><li><strong>It&#39;s trivial to create new &#34;classes&#34;</strong> - just copy the prototype and change a couple of properties and voila... new class. I used this to define new type of potion for example in 3-6 lines of Java each. Much better than a new class file and loads of boilerplate!</li><li><strong>It&#39;s possible to build and maintain extremely large numbers of &#34;classes&#34; with comparatively little code</strong> - Tyrant for example had something like 3000 different prototypes with only about 42,000 lines of code total. That&#39;s pretty amazing for Java!</li><li><strong>Multiple inheritance is easy</strong> - you just copy a subset of the properties from one prototype and paste them over the properties in another prototype. In an RPG for example, you might want a &#34;steel golem&#34; to have some of the properties of a &#34;steel object&#34; and some of the properties of a &#34;golem&#34; and some of the properties of an &#34;unintelligent monster&#34;. Easy with prototypes, try doing that with an inheritance heirarchy......</li><li><strong>You can do clever things with property modifiers</strong> - by putting clever logic in the generic &#34;read property&#34; method, you can implement various modifiers. For example, it was easy to define a magic ring that added +2 strength to whoever was wearing it. The logic for this was in the ring object, <em>not</em> in the &#34;read strength&#34; method, so you avoided having to put lots of conditional tests elsewhere in your code base (e.g. &#34;is the character wearing a ring of strength increase?&#34;)</li><li><strong>Instances can become templates for other instances</strong> - e.g. if you want to &#34;clone&#34; an object it is easy, just use the existing object as the prototype for the new object. No need to write lots of complex cloning logic for different classes.</li><li><strong>It&#39;s quite easy to change behaviour at runtime</strong> - i.e. you can change an properties and &#34;morph&#34; an object pretty much arbitrarily at runtime. Allows for cool in-game effects, and if you couple this with a &#34;scripting language&#34; then pretty much anything is possible at runtime.</li><li><strong>It&#39;s more suited to a &#34;functional&#34; style of programming</strong> - you tend to find yourself writing lots of functions that analyse objects an act appropriately, rather than embedded logic in methods attached to specific classes. I personally prefer this FP style.</li></ul><p>Here are the main drawbacks:</p><ul><li><strong>You lose the assurances of static typing</strong> - since you are effectively creating a dynamic object system. This tends to mean that you need to write more tests to ensure behaviour is correct and that objects are of the right &#34;kind&#34;</li><li><strong>There is some performance overhead</strong> - since reads of object properties are generally forced to go through one or more map lookups, you pay a slight cost in terms of performance. In my case it wasn&#39;t a problem, but it could be an issue in some cases (e.g. a 3D FPS with a lot of objects being queried in every frame)</li><li><strong>Refactorings don&#39;t work the same way</strong> - in a prototype based system you are essentially &#34;building&#34; your inheritance heirarchy with code. IDEs / refactoring tools can&#39;t really help you since they can&#39;t grok your approach. I never found this a problem, but it could get out of hand if you are not careful. You probably want tests to check that your inheritance hierarchy is being constructed correctly!</li><li><strong>It&#39;s a bit alien</strong> - people used to a conventional OOP style may easily get confused. &#34;What do you mean there&#39;s only one class called &#34;Thing&#34;?!?&#34; - &#34;How do I extend this final Thing class!?!&#34; - &#34;You are violating OOP principles!!!&#34; - &#34;It&#39;s wrong to have all these static functions that act on any kind of object!?!?&#34;</li></ul><p>Finally some implementation notes:</p><ul><li>I used a Java HashMap for properties and a &#34;parent&#34; pointer for the prototype. This worked fine but had the following downsides: a) property reads sometimes had to trace back through a long parent chain, hurting performance b) if you mutated a parent prototype, the change would affect all children that had not overriden the changing property. This can cause subtle bugs if you are not careful!</li><li>If I was doing this again, I would use an immutable persistent map for the properties (kind of like <a href="http://blog.higher-order.net/2009/09/08/understanding-clojures-persistenthashmap-deftwice/">Clojure&#39;s persistent maps</a>), <a href="http://code.google.com/p/mikeralib/source/browse/trunk/Mikera/src/main/java/mikera/persistent/PersistentHashMap.java">or my own Java persistent hash map implementation</a>. Then you would get the benefit of cheap copying / changes coupled with immutable behaviour and you wouldn&#39;t need to permanently link objects to their parents.</li><li>You can have fun if you embed functions / methods into object properties. The hack that I used in Java for this (anonymous subtypes of a &#34;Script&#34; class) wasn&#39;t very elegant - if doing this again I&#39;d probably use a proper easily-embeddable language for scripts (Clojure or Groovy)</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-oop-what-are-some-of-the-situations-in-which-class-based-design-is-better-than-interface-based-one/'>Java &#8211; OOP :What are some of the situations in which class based design is better than interface based one</a></li><li class="list-group-item"><a href='../object-oriented-formal-definition-for-term-pure-oo-language/'>Object-oriented &#8211; Formal definition for term &#8220;pure OO language&#8221;</a></li><li class="list-group-item"><a href='../object-oriented-complete-immutability-and-object-oriented-programming/'>Object-oriented &#8211; Complete immutability and Object Oriented Programming</a></li><li class="list-group-item"><a href='../object-oriented-why-would-many-duck-typed-dynamic-programming-languages-use-a-class-based-approach-instead-of-prototype-based-oop/'>Object-oriented &#8211; Why would many duck-typed dynamic programming languages use a class-based approach instead of prototype-based OOP</a></li><li class="list-group-item"><a href='../object-oriented-what-are-the-private-method-responsibilities-when-we-design-class-in-oop/'>Object-oriented &#8211; What are the private method responsibilities when we design class in OOP</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>