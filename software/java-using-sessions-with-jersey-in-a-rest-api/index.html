<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Using sessions with Jersey in a REST API &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073407 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073407" class="post-1073407 software type-software status-publish hentry category-software tag-api tag-java tag-rest tag-session"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Using sessions with Jersey in a REST API</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">rest</span><span class="mr-2 badge badge-primary">session</span></p><div class="entry-content"><p>I am starting to develop a REST API with Jersey to retrieve a schedule for a given sport tournament. The client sends a JSON containing a tournament with its different categories, domain, definitions and configuration. This will be unmarshalled by Jackson. And the response includes a JSON with the calculated schedule for that tournament, marshalled by Jackson as well.</p><p>I want to make the API as &#34;API-like&#34; as possible, in the sense of common APIs like weather APIs or maps APIs, where the client-server interaction is a direct, concise request-response-type operation, in this case that&#39;d be &#34;send a tournament, get a schedule&#34;, where no association between the client and the instantiated references (or conceptual associations) are left in the server at all. I guess the word for this would be &#34;stateless&#34;.</p><p>However, I need some sort of reference to the tournament that has been sent in order to perform subsequent operations on that instanciated object. The case would be, for example, to retrieve the &#34;next&#34; schedule for the tournament. There are potentially many other cases.</p><p>Since I am using Constraint Programming to calculate the schedules, I can get all the possible combinations of schedules for a given tournament. But a direct operation as described just gets rid of the instance as soon as the schedule is returned in the response, therefore I wouldn&#39;t be able to invoke methods such as <code>tournament.nextSchedules()</code> because the <code>tournament</code> object simply wouldn&#39;t be there. So I was suggested to use sessions. Then, I assume I would have a map of session ID and a <code>Tournament</code> instance in my web service Jersey class:</p><pre><code>@Path(&#34;eventscheduler&#34;)
public class EventSchedulerService {
    private Map&lt;String, Tournament&gt; tournaments = new HashMap&lt;&gt;();
}
</code></pre><p>Then, if I wanted to perform an action on a particular tournament I would just have to retrieve its corresponding mapping to a session ID, which can be passed in the URL as a <code>@PathParam</code>.</p><p>Here are my questions:</p><ul><li>How could I do this with Jersey? How can I generate a session and store it as intended? Note that <strong>this has nothing to do with security</strong>. The sole purpose of using sessions is to be able to identify a particular reference of a <code>Tournament</code>.</li><li>How can I set an expiration time on a session? I wouldn&#39;t want to have a client forever bound to a particular tournament instance. Although I will probably make a method to explicitly unbound a client to a session, as well as getting rid of the mapping, I&#39;d also want to have it expire and removed from the dictionary as well. How can this be done?</li></ul><p>Note as well that no databases are being used and are not intended to be used since it&#39;s not the objective of this project and they shouldn&#39;t be needed.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It should be unnecessary to use sessions for this scenario.</p><p>When the client creates a new Tournament resource (represented in JSON) it can PUT or POST that resource to the server. Which one you choose will depend on who is responsible for the unique identifier for the Tournament. If the client already knows what the URL should be for that Tournament (say it is based of the name) it can just PUT that resource to that URL on the server (eg. <code>/tournaments/west_coast_regionals_2016</code>)</p><p>If the server determines the URL then the client should POST the Tournament resource to some collection resource (eg. <code>/tournaments</code>) and that resource generates a unique id for the resource and returns it to the client.</p><p>Either way the client gets back the URL of the resource it just sent to the server. If it ever wants to access that resource again it just uses that URL.</p><pre><code>GET /tournaments/west_cost_regionals_2016
</code></pre><p>And the server returns that resource to the client. If the server has worked out some schedule then it can further information to the body of the response, or the way some do it is to add a new resource that contains just the next event information</p><pre><code>GET /tournaments/west_cost_regionals_2016/next_event
</code></pre><p>Using a session should be completely unnecessary.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-a-web-application-as-a-rest-api-client-how-to-handle-resource-identifiers/'>Rest &#8211; A Web application as a REST API client: how to handle resource identifiers</a></li><li class="list-group-item"><a href='../rest-api-security-stored-token-vs-jwt-vs-oauth/'>REST API security Stored token vs JWT vs OAuth</a></li><li class="list-group-item"><a href='../rest-wrong-with-treating-a-client-session-as-a-resource-application-state-in-rest-architecture/'>Rest &#8211;  wrong with treating a client session as a resource/application state in REST architecture</a></li><li class="list-group-item"><a href='../java-how-to-deal-with-automatic-binding-exceptions-with-jersey/'>Java &#8211; How to deal with automatic binding exceptions with Jersey</a></li><li class="list-group-item"><a href='../restful-api-and-i18n-how-to-design-the-response/'>RESTful API and i18n: how to design the response</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>