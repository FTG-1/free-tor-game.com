<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; How do game programmers design their classes to reuse in AI, network and play and pass mode &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070295 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070295" class="post-1070295 software type-software status-publish hentry category-software tag-design-patterns tag-game-development tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; How do game programmers design their classes to reuse in AI, network and play and pass mode</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">game development</span><span class="mr-2 badge badge-warning">object-oriented</span></p><div class="entry-content"><p>For a two player game where, your opponent could be on the network, CPU itself or near you where you would play turn by turn on the same machine.</p><p>How do people design classes for re-use  ?<br /> I am in a similar situation and have no experience in making such complex games.</p><p>But here is what I have thought,</p><p>If I am a player object , I should only be interacting with the GameManager or GameEngine Singleton , from which I will get various notifications about the game status.</p><p>I dont care where and who my opponent is, this GameManager depending upon the game mode, will interact with gameNetworkManager , or AI tell me what the opponent played.</p><p>I am not sure about the scenario where we play and pass [turn by turn on same machine].</p><p>Hoping for a brief but clear explanation or at least a link to a similar resource.:)</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>There is no clear-cut answer, and class design for games is a very broad topic. I can hint you at two very common pitfalls though:</p><ol><li>It is tempting to use inheritance to model polymorphism on your game entities, so that you have a <code>BaseEntity</code>, a <code>PlayerCharacter</code>, etc., and give them a dozen or so methods to model how they move, draw, decide what to do, and interact with the rest of the world. However, this makes for quite tight coupling and doesn&#39;t exactly favor reuse. A better approach is composition: make your <code>Entity</code> class non-polymorphic, but give it a bunch of polymorphic members to describe different aspects, e.g. a <code>Brain</code> (which determines their behavior; this can be a <code>HumanPlayerBrain</code>, an <code>AIBrain</code>, a <code>NetworkBrain</code>, etc.), an <code>Appearance</code> (which takes care of selecting the right models / sprites and animating them as needed), a <code>Physics</code> (describing properties of the entity&#39;s physics model). Each of these has its own class hierarchy, but they are otherwise mostly independent from each other, and you can mix and match them as needed.</li><li>It is also tempting to write self-updating entities, and many introductory game tutorials even recommend this. A ball that updates its own position every time you call its <code>tick()</code> method sounds like an elegant solution, but as soon as interactions become more complex, you&#39;ll face nasty problems - what if a hundred entities of different types are moving at the same time? Who is responsible for checking for collisions, and when one is found, which of the two objects is the &#39;active&#39; one and which the &#39;passive&#39;? Is it <code>a.collideWith(b)</code>, or <code>b.collideWith(a)</code>? The solution is to make all your entities mostly passive; they simply expose accessors to query and update their physical properties (position, size, mass, inertia, etc.), and an overall <code>GamePhysics</code> object is responsible for checking all your objects and updating them. The collision handler is now <code>world.collide(a, b)</code>, perfectly straightforward.</li></ol><p>And then another word of caution: Making the game state a singleton seems like a logical decision, but it locks you down into no more than one game state at a time. This has two important disadvantages:</p><ol><li>If you want a client/server architecture, the server will only ever be able to run one game at a time.</li><li>Unit-testing anything that depends on the game state is going to be harder.</li></ol><p>Personally, I prefer passing the game state around as just another object. An additional advantage of this is that I can pass only parts of the game state to objects that have no business fiddling with the rest, e.g., an object&#39;s <code>render()</code> method is not supposed to modify the game logic at all, so I can pass it as <code>const</code>; the physics part is not supposed to do anything graphics-related, so I don&#39;t pass it a reference to the resource manager. This keeps the potential number of cross-dependencies low, which in turn leads to less complexity.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/create-a-behavior-component-based-system-for-games/'>Create a behavior/Component based system for games</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/rest-challenges-in-multi-player-android-game-server-with-restful-nature/'>Rest &#8211; Challenges in multi-player Android Game Server with RESTful Nature</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/game-netplay-rollback-system/'>Game Netplay Rollback System</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/conceptually-how-does-one-make-a-rules-constraints-not-graphics-physics-engine-for-a-game/'>Conceptually, how does one make a rules/constraints (not graphics/physics) engine for a game</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/object-oriented-how-to-have-objects-interacting-and-communicating-with-each-other-without-forcing-a-hierarchy/'>Object-oriented &#8211; How to have objects interacting and communicating with each other without forcing a hierarchy</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>