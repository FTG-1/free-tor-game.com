<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; Can nested loop have linear time complexity &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077427 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077427" class="post-1077427 software type-software status-publish hentry category-software tag-c tag-complexity tag-data-structures tag-loops tag-sorting"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; Can nested loop have linear time complexity</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">complexity</span><span class="mr-2 badge badge-warning">data structures</span><span class="mr-2 badge badge-primary">loops</span><span class="mr-2 badge badge-danger">sorting</span></p><div class="entry-content"><p>I was going through the traditional quick sort algorithm. I had a look on the partition algorithm in a couple of places and the implementation difference was  very subtle. Here are the 2 approaches:<br /> Approach 1: Pivot is last element</p><pre><code>partition (arr[], low, high)
{
    // pivot (Element to be placed at right position)
    pivot = arr[high];  

    i = (low - 1)  // Index of smaller element

    for (j = low; j &lt;= high- 1; j++)
    {
        // If current element is smaller than or
        // equal to pivot
        if (arr[j] &lt;= pivot)
        {
            i++;    // increment index of smaller element
            swap arr[i] and arr[j]
        }
    }
    swap arr[i + 1] and arr[high])
    return (i + 1)
}
</code></pre><p>Approach 2: Pivot is first element</p><pre><code>Partition(a[], l, h)
{
    pivot = a[l];
    i - l; j = ;h
    while(i  &lt; j)
    {
        while(a[i] &lt;= pivot)
            i++;
        while(a[i] &gt; pivot)
            j--;
        if(i &lt; j)
            swap(a[i], a[j]);
    }
    swap(a[l], a[j]);
    return j;
}
</code></pre><p>In Approach 1, for loop is used only once hence they call it linear time but in approach 2, there are nested loops. But according to my suspicion, the task performed by those nested loop do not incur more than linear time.</p><p>Please throw some light on this. Thanks in advance.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Can nested loop have linear time complexity?</p></blockquote><p>Yes. Consider this function:</p><pre><code>def linear_time(n):
    for i in range(sqrt(n)):
        for j in range(sqrt(n)):
            something_that_takes_constant_time()
</code></pre><p>Its time complexity is O(<code>sqrt(n) * sqrt(n)</code>) = O(<code>n</code>).</p><p>Remember:</p><pre><code>def foo(x):
    part_a(x)
    part_b(x)
    # if part_a(x) has a time complexity of O(f(x))
    # and if part_b(x) has a time complexity of O(g(x))
    # then foo(x) has a time complexity of O(f(x) + g(x))

def foo(x):
    loop f(x) times:
        part_of_loop(x)
    # if part_of_loop(x) has a time complexity of O(g(x))
    # then foo(x) has a time complexity of O(f(x) * g(x))
</code></pre><p>So let&#39;s examine this algorithm:</p><pre><code>Partition(a[], l, h)
{
    pivot = a[l]; # O(1)
    i = l; j = h; # O(1)
    while(i &lt; j) # runs ??? times
    {
        while(a[i] &lt;= pivot) # runs O(h - l) times
            i++; # O(1)
        while(a[j] &gt; pivot) # runs O(h - l) times
            j--; # O(1)
        if(i &lt; j) # O(1)
            swap(a[i], a[j]); # O(1)
    }
    swap(a[l], a[j]); # O(1)
    return j; # O(1)
}
</code></pre><p>So the inner part of the loop has a time complexity of O((h - l) * 1 + (h - l) * 1 + 1 * 1) = O(h - l). But what is the time complexity of the whole loop? It runs as often as (i &lt; j) is true.</p><p>The post condition after <code>while(a[i] &lt;= pivot)</code> is <code>a[i] &gt; pivot</code>, and after <code>while(a[j] &gt; pivot)</code> we have <code>a[j] &lt;= pivot</code>. If <code>i &lt; j</code> (the only case we care about, otherwise the loop will end anyway!), the values at the two indices are swapped, meaning that <code>a[i] &lt;= pivot</code> and <code>a[j] &gt; pivot</code> will be true once more. So, what it does is find the leftmost and rightmost indices that are on the wrong side of the pivot and swap them, until all of them are partitioned right. So how often does that loop run? We can&#39;t really say, it depends on how many elements are on the &#34;wrong&#34; side of the pivot. We do know that every loop after the first one <code>i</code> and <code>j</code> will be at least one step closer to each other, so the upper bound is going to be (h - l) / 2 + 1 which is of complexity O(h - l).</p><p>Now, I skipped over something: the number of times the outer loop runs is dependent on the number of times the inner loop runs. As the number of times the inner loops run tends towards O(h - l), the number of times the outer loop takes tends towards 1 and vice versa. They&#39;re sort of eating up each other&#39;s runs. The upper bound I mentioned in the previous paragraph is what we get when the inner loops run only once each time, making their complexity O(1). And it turns out, that whenever the inner loops run <code>a</code> and <code>b</code> times respectively, the number of times the outer loop runs in <code>O((h - l) / (a + b)</code>. In other words, the complexity of the content of the outer loop is <code>O(a + b)</code> and the number of times the outer loop runs has complexity <code>O((h - l) / (a + b)</code>, making the whole loop have a time complexity of <code>O((h - l) / (a + b) * (a + b)) = O(h - l)</code>, and thus this partition works in linear time.</p><p>(I do think there is a bug here: what happens if <code>a[i] &lt;= a[l]</code> for all <code>l &lt;= i &lt;= h</code>?)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../merge-sort-versus-quick-sort-performance/'>Merge sort versus quick sort performance</a></li><li class="list-group-item"><a href='../how-to-this-deterministic-linear-time-selection-algorithm-be-linear/'>How to this deterministic linear time selection algorithm be linear</a></li><li class="list-group-item"><a href='../complexity-in-nested-loops/'>Complexity in nested loops</a></li><li class="list-group-item"><a href='../how-does-the-dividing-step-in-merge-sort-have-constant-time-complexity/'>How does the dividing Step in Merge Sort have Constant Time Complexity</a></li><li class="list-group-item"><a href='../time-complexity-of-parallel-foreach/'>Time Complexity of Parallel.ForEach</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>