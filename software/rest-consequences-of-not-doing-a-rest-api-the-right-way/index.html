<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Consequences of not doing a REST API the &#8220;right&#8221; way &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080761 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080761" class="post-1080761 software type-software status-publish hentry category-software tag-api tag-design tag-rest tag-standards"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Consequences of not doing a REST API the &#8220;right&#8221; way</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">design</span><span class="mr-2 badge badge-warning">rest</span><span class="mr-2 badge badge-primary">standards</span></p><div class="entry-content"><p>I&#39;ll ask this question this way &#8211; what are the software engineering concerns for not implementing my REST API the &#34;right&#34; way?</p><p><em>What do you mean the &#34;right&#34; way?</em> Well, allow me to explain my perception of the right way, then I&#39;ll tell you how I am doing it (also, assume I am talking about a JSON REST API).</p><h2>The right way</h2><ol><li><p>Statelessness. This is the part I do get. The client maintains the state always 100% the time forevermore. It&#39;s not the server&#39;s job, it&#39;s the client&#39;s.</p></li><li><p>The expected actions and response for each verb:</p><ul><li><strong>GET</strong> &#8211; Gets a resource specified in full entirety, only limited by either the authorization in the request or a query parameter. This assures <em>no modification</em> of any resource in the process.</li><li><strong>POST</strong> &#8211; Given an entire resource description (like a JSON object), creates a resource, then returns that resource, with any server side properties also created, such as dates or IDs.</li><li><strong>DELETE</strong> &#8211; Deletes a specified resource, giving only some sort of 200 OK as the response</li><li><strong>PUT</strong> &#8211; Given <em>an entire object declaration</em> as input, updates the resource at a specific location, updating all fields of the resource to each of the fields given in the input. To be clear, this expects the <em>entire</em> object to be passed in as input. The entire updated resource is returned, with all fields (according to the authorization or any other input flags).</li><li><strong>PATCH</strong> &#8211; Given only the fields wished to be modified for a resource, updates just the fields in a specified resource that are given as input. (This is where I am unclear): The entire resource is returned? (Or is it just the updated fields? Dunno. Don&#39;t care.)</li></ul></li><li>Resource paths. Given the relationship of the resources to each other, a resource path may look like one of:<ul><li>/parentresource/:id</li><li>/parentresource/:id/childresource</li><li>/parentresource/:id/childresource/:childId</li><li>/parentresource/:id/childresource/:childId/subresource/:subresourceId<br /> (In this example, a subresource belongs to a childresource, which belongs to a parent resource).</li></ul></li></ol><h2>The way I want to do it</h2><p>The above is my understanding of how a REST API is supposed to work. Now let me list some of my variations to the above:</p><ol><li>PUT/PATCH &#8211; What is the point of passing in the entire resource for modification? I only use PUTs to modify resources, and I only pass in the fields I want to be updated. As a result, I have no need to use PATCH</li><li><p>Resource Paths &#8211; I use GUIDs in my application. As a result, they will be globally unique. Why do I need the full resource path, including the parent resources, if I can just uniquely refer to a subresource by itself? Like:<br />  <br /> /subresource/:subresourceId<br />  <br /> If I were to do it the &#34;right&#34; way, trying to reference the subresource would require a full path like:<br />  <br /> /parentresource/:id/childresource/:childId/subresource/:subresourceId<br />  <br /> Is all that necessary? Because now I have to have additional error handling if my path contains a :subresourceId that is not actually owned by a given :childId, and ditto for a :childId not owned by a parent :id. My server side is taking care of resource authorization. Can&#39;t I just reference the resource itself, rather than the full path?</p></li><li><p>The return response. Let&#39;s say, for example, that my data structure is a hierarchical tree, with no practical limits on tree depth. Resources lie at different levels down the tree, in a hierarchical fashion.</p><ul><li>The GET is obvious. If I get this entire tree, I expect the entire tree as a response, with resources contained within resources.</li><li>If I POST to create a new resource, PUT to update, or DELETE to remove, I want to see the deltas in the tree, rather than just seeing the resource that I created/updated/deleted. I don&#39;t want to have to again call the GET of the parent tree after every POST, PUT, or DELETE, especially if there are little changes to the tree and I only want to see the deltas.</li></ul></li></ol><p>Hopefully my questions are clear.</p><p>If you were to see a REST implementation as I described it, would you gawk at it and tell me of your software engineering concerns? If so, what would they be?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The general underlying answer here is that <strong>your ideas may work on a technical level, but that doesn&#39;t mean they conform to the standardized conventions of REST.</strong></p><hr/><blockquote><ol><li>PUT/PATCH - What is the point of passing in the entire resource for modification? I only use PUTs to modify resources, and I only pass in the fields I want to be updated. As a result, I have no need to use PATCH</li></ol></blockquote><p>Your idea works on a technical level, but it&#39;s simply not how REST has been described. Keep in mind that any discussion about working code (i.e. no compile or runtime errors) is always going to be a matter of <em>convention</em>, not necessarily of clear technical superiority.</p><hr/><blockquote><ol start="2"><li>Resource Paths - I use GUIDs in my application. As a result, they will be globally unique. Why do I need the full resource path, including the parent resources, if I can just uniquely refer to a subresource by itself?</li></ol></blockquote><p>There are many nuances to how we define &#34;child/parent&#34; entities. Most commonly, it refers for a one-to-many (parent-to-children) relationship.</p><p>However I suspect that for REST, part of what makes a child a child is that there is an expectation of only being able access them through the parent, that they don&#39;t carry their own globally unique (and externally known) identifier.<br/> I suspect this is following the same philosophy (but not necessarily for the same reason) as that of <a href="https://stackoverflow.com/questions/32353835/difference-between-an-entity-and-an-aggregate-in-domain-driven-design">aggregates (and their roots) in Domain Driven Development</a>.</p><blockquote><p>A DDD aggregate is a cluster of domain objects that can be treated as a single unit. An aggregate will have one of its component objects be the aggregate root. <strong>Any references from outside the aggregate should only go to the aggregate root</strong>.</p></blockquote><p>In your case, what you call the &#34;parent&#34; functions as the aggregate root. The single point of contact (if you will) for outside callers.</p><p>You might want to conclude from this that your child is actually a different aggregate. That may be the case, but I do want to issue a warning with that decision. You shouldn&#39;t base your architecture on the particular type of a field. You have no way of knowing if you will always keep using globally unique IDs for all your entities. If that ever changes, for whatever reason, you&#39;re going to compromise the viability of your REST architecture; as you may end up in a situation where the child is no longer uniquely identifiable and thus needs to be referenced through its parent.</p><hr/><blockquote><ol start="3"><li>If I POST to create a new resource, PUT to update, or DELETE to remove, I want to see the deltas in the tree, rather than just seeing the resource that I created/updated/deleted.</li></ol></blockquote><p>You&#39;re violating the order of operations of the design. A REST API is specifically intended to be consumer agnostic. The API should not be built according to the specifications of one of its consumers.</p><p>When you say &#34;I want to see the deltas in the tree&#34;, what you&#39;re really saying is &#34;the consuming application only has a need to see the deltas in the tree&#34;. But that doesn&#39;t quite matter to the REST api. It merely provides a standardized approach.</p><p>It is the nature of standardized approaches to often lack <em>highly customizable</em> tools, and instead favor <em>the most commonly used</em> tools.</p><hr/><p>Can you deviate from the path? Well, it will work on a technical level. But it won&#39;t be pure REST anymore. This is something that is highly contextual and you need to weigh the options.</p><ul><li>If you&#39;re creating an API that is expected to cater to many varied consumers, then I suggest sticking to REST as best as you can.</li><li>If you&#39;re building an API that will only have one consumer which is also developed by you; then there&#39;s no real need to stick to pure REST.</li><li>Straying from the path means you&#39;re going to have to document how you&#39;ve strayed so other developers can still make sense of it. If you stick to pure REST, you don&#39;t have to write the documentation and the other developers don&#39;t have to spend time and effort figuring out your customized approach.</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-api-concepts/'>REST API concepts</a></li><li class="list-group-item"><a href='../rest-api-calls-with-side-effects-on-other-resources/'>Rest API calls with side effects on other resources</a></li><li class="list-group-item"><a href='../rest-is-it-okay-to-use-post-for-rest-api-updates/'>Rest &#8211; Is it okay to use POST for REST API updates</a></li><li class="list-group-item"><a href='../rest-api-design-reordering-collections/'>REST API Design &#8211; Reordering Collections</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>