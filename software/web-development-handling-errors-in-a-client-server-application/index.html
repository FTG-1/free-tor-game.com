<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Web-development &#8211; Handling errors in a client/server application &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070511 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070511" class="post-1070511 software type-software status-publish hentry category-software tag-error-handling tag-web-services tag-web-development"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Web-development &#8211; Handling errors in a client/server application</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">error handling</span><span class="mr-2 badge badge-info">web services</span><span class="mr-2 badge badge-warning">web-development</span></p><div class="entry-content"><p>I am developing a web application and struggling to follow a clear semantic while returning response to the client. Taking an example of authenticating an user there can be following scenarios:</p><p><strong>1. Request is successful</strong></p><p>The user is authenticated and I send a JSON response</p><pre><code>{success: true} // and an optional message field?
</code></pre><p><strong>2. An application error occurred</strong></p><p>User is not authenticated.</p><p><code>{error: true, message: &#39;Invalid email or password&#39;} // Again I am not sure if I should let client decide to show the error message<br /> </code></p><p><strong>3. System error</strong></p><p>Bad SQL query, DB crashed etc. typically server should return <code>500</code> status code but should I again send the JSON response with it? if yes, how much should I tell the client? because the client or user may not be interested in knowing that DB crashed or SQL was not well formatted.</p><p>Any other suggestion/modification is most welcome.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>I am developing a web application and struggling to follow a clear
 semantic while returning response to the client. Taking an example of
 authenticating an user there can be following scenarios:</p><p><strong>1. Request is successful</strong></p><p>The user is authenticated and I send a JSON response</p><pre><code>{success: true} // and an optional message field?
</code></pre></blockquote><p>If in doubt, <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="noreferrer">D.R.Y.</a></p><p>As a client to a REST service, an empty <a href="https://developer.mozilla.org/en/docs/Web/HTTP/Status/204" rel="noreferrer">204 response</a> is quite enough to indicate that everything worked and that the client doesn&#39;t need to do anything else.</p><blockquote><p><strong>2. An application error occurred</strong></p><p>User is not authenticated.</p><p><code>{error: true, message: &#39;Invalid email or password&#39;} // Again I am not
 sure if I should let client decide to show the error message</code></p></blockquote><p>A client will usually expect authentication/authorisation errors to be handled with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401" rel="noreferrer">401 response</a>.   No additional information is needed; in fact, the less information you provide is less information available to a potential intruder who is trying to guess different potential username and password combinations.</p><p>Other types of errors, such as a badly formatted query string, errors in the HTTP request body, or validation failures would typically return <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400" rel="noreferrer">400 Bad Request</a>.</p><p>In the case of 400 Bad Request, it is certainly worth returning a response with detailed information which describes exactly how the request might be wrong - whether it&#39;s an issue with the structure of the data, the data format, a missing field, a validation error, some unexpected information, etc.</p><p>As a client to a REST service the quality of the message and detail provided in a 400 error response can be the difference between hours/days of frustrating trial-and-error debugging versus a quick 5-minute bugfix.</p><blockquote><p><strong>3. System error</strong></p><p>Bad SQL query, DB crashed etc. typically server should return <code>500</code> status code but should I again send the JSON response with it? if yes,
 how much should I tell the client? because the client or user may not
 be interested in knowing that DB crashed or SQL was not well
 formatted.</p></blockquote><p>A simple <a href="https://developer.mozilla.org/en/docs/Web/HTTP/Status/500" rel="noreferrer">500 Internal Server Error</a> response is all you need here.   A client cannot do anything about a bug in the server code, nor the fact that the database crashed or the server failed in some unexpected way.   When a client receives &#39;500&#39; the only sensible thing for that client to do is simply to give up (and maybe try again much later..)</p><p>Information about server-side errors are important to whoever looks after the server, so the best place for that information is your server-side logs.</p><p>Time spent trying to send information back to a client would be much better served by ensuring the logs contain detailed information which allow somebody to debug the server.</p><hr/><h3>In general</h3><p>Don&#39;t return your own hand-rolled JSON error status flags from a REST API for scenarios which are already handled by well-known HTTP status codes.   HTTP client libraries are generally already capable of handling those return codes, so not only are you potentially reinventing the wheel on the server and making your API unnecessarily complex with extra objects and fields, you&#39;re probably also forcing the client to do the same, and making unnecessary extra work on the client side too.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-should-a-web-api-handle-misspelled-extra-parameters/'>How should a web API handle misspelled/extra parameters</a></li><li class="list-group-item"><a href='../java-ive-been-told-that-exceptions-should-only-be-used-in-exceptional-cases-how-to-know-if-the-case-is-exceptional/'>Java &#8211; I&#8217;ve been told that Exceptions should only be used in exceptional cases. How to know if the case is exceptional</a></li><li class="list-group-item"><a href='../invalid-data-returned-which-httpcode-to-return/'>Invalid data returned, which HttpCode to return</a></li><li class="list-group-item"><a href='../how-to-effectively-handle-404-500-http-errors-in-server-side-rendering-web-application-which-uses-store-for-state/'>How to effectively handle 404/500 http errors in server-side rendering web application which uses store for state</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>