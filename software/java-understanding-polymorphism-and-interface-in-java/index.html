<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Understanding polymorphism and interface in Java &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076309 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076309" class="post-1076309 software type-software status-publish hentry category-software tag-interfaces tag-java tag-polymorphism"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Understanding polymorphism and interface in Java</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">interfaces</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">polymorphism</span></p><div class="entry-content"><p>I&#39;m reading though some notes. And I&#39;m not understanding the following two statements.</p><ol><li><p>Polymorphism means that it is always the class of the actual object at run time that determines which method will be called at run time.</p><pre><code>class A{
    public void m1(){
    System.out.println(&#34; A&#34;);
    }
} 

class B extends A{
    public void m1(){
    System.out.println(&#34; B&#34;);
    }

    public void m2(){
    System.out.println(&#34; m2&#34;);
    }
} 

B b = new B();
A a = new B();
// will print B
b.m1();
// will also print B because a refers to an object of class B.
a.m1();
</code></pre></li><li><p>While accessing a method or variable, the compiler will only allow you to access a method or variable that is visible through the class of the reference.</p><pre><code>interface Flyer{
    String getName();
} 
class Bird implements Flyer{
...
    public String getName(){
        return name;
    }

    public String getNativeOf(){
    return nativeOf;
    }
}

Flyer f = new Bird();
f.getName(); //valid
f.getNativeOf(); //will not compile because the class of reference f is Flyer and not Bird.
((Bird) f).getNativeOf(); //valid because class of the object referred to by f is Bird.
</code></pre></li></ol><p>So is it by actual object or reference?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Both.  You&#39;re somewhat conflating the notions of method/field availability by type and late binding.  They are separate, though related.</p><blockquote><p>... actual object at runtime determines which method ...</p></blockquote><p>I might restate this as &#34;whose&#34; method instead of &#34;which&#34; method to be more specific.  The method name + signature that will be called is determined at compile time and fixed, but the particular implementation (e.g. base or some override) of that method is determined at runtime.  This is also sometimes called late binding.</p><p>(In addition to name + signature, the method that will be called will also be directly related to the method of the class that originally introduced it, e.g. it will be that method itself, or an override of that in a subclass.)</p><p>Take the situation where we have:</p><pre><code>class A {
     void foo ();
}
class B extends A { ... }
class C extends B { ... }
class D extends A { ... }
...
class U {
    void method ( A a ) {
        a.foo ();
    }
}
...
U u = new U();
u.method ( new A () );
u.method ( new B () );
u.method ( new C () );
u.method ( new D () );
</code></pre><p>We know that <code>method</code> will call an existing method named <code>foo</code> with no parameters, which was introduced by <code>class A</code>.  However, it may call <code>A</code>&#39;s <code>foo</code>, <code>B</code>&#39;s <code>foo</code>, <code>C</code>&#39;s <code>foo</code>, or <code>D</code>&#39;s <code>foo</code> .  Here the language runtime (Virtual Machine) executing <code>method</code> determines whose <code>foo</code> to call using late binding.</p><p>The access issue is a compile time determination made using static analysis and the type system rules (of the particular language involved).  Using types at compile time, languages can prevent certain illegal program states (with a compile time error instead of a runtime error), such as there is no <code>foo</code> to call.</p><p>You should also note that there are fundamentally several types of cast.  Upcasts (casting from <code>B</code> to <code>A</code>, or <code>C</code> to <code>B</code>, or <code>C</code> to <code>A</code>) are safe and can be validated at compile time.  Down casts (e.g. from <code>A</code> to <code>B</code>, or <code>A</code> to <code>D</code>) are not always necessarily compile time analyzable, and therefore are designed into the language to perform a runtime check at the point of cast (before things go any further and make use of the casted value).</p><p>As a result, you can get an illegal cast exception, at runtime.  By having the language be defined so that the compiler and runtime conspire to check for illegal casts, they don&#39;t have to check for method not found at runtime no matter what true class the object is: this because it knows the cast worked, therefore the method exists (reflection notwithstanding; also DLL versioning complicate things, but there is an additional load-time check that complements the compile time check and both together replace the need for a runtime check for methods existing or not.).</p><p>Though in your particular example with <code>Flyer</code> and <code>Bird</code>, a static analysis could have elided the runtime cast check in <code>((Bird) f)</code>, in general this is not always possible. Your example goes on to call a method (only) available in <code>Bird</code>.</p><p>Note that by definition of the byte-code instructions, this method invocation (<code>getNativeOf()</code>) can only be performed (i.e. can only be reached by flow of control) if the runtime cast succeeds, as a failure of the cast will throw an exception thus altering the normal flow of control and preventing the method invocation from being reached.</p><p>(In addition that the compiler won&#39;t generate the following, a specially concocted byte code program attempting to access <code>getNativeOf()</code> from a <code>Flyer</code> object without a necessary protective runtime cast to <code>Bird</code> will fail a load-time verification check!  Though this happens post compile time, it is also a form of static analysis, in other words, is only done once at runtime (known as  load time) rather than each time the code is used.)</p><p>Following the cast, the compiler will generate the method invocation assuming the cast succeeds (knowing that if we are at this point, the cast must have succeeded), and as such knows at compile time the name + signature (and introducing class) of what method to call.  The resulting actual method called still uses late binding at runtime to find whose implementation or override of that method is appropriate for the true type of the object (optimization notwithstanding, but any optimization has to give the same results as if late binding were used).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/java-programming-language-parser-in-java-what-would-be-a-better-design-alternative-for-a-special-case/'>Java &#8211; Programming Language Parser (in Java) &#8211; What would be a better design alternative for a special case</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-why-does-java-compiler-decide-whether-you-can-call-a-method-based-on-the-reference-type-and-not-on-actual-object-type/'>Java &#8211; Why does Java compiler decide whether you can call a method based on the &#8220;reference&#8221; type and not on actual &#8220;object&#8221; type</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-the-process-of-determining-which-method-in-a-class-hierarchy-should-execute-known-as/'>Java &#8211;  the process of determining which method in a class hierarchy should execute known as</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-using-super-keyword-to-access-super-class-members/'>Java &#8211; Using super keyword to access super class members</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-when-to-call-the-constructor-and-when-to-call-the-method-in-java/'>Java &#8211; When to call the constructor and when to call the method in Java</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>