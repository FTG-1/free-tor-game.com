<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Jenkins Paramerized Trigger + Copy Artifact &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067246 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067246" class="post-1067246 software type-software status-publish hentry category-software tag-jenkins tag-release"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Jenkins Paramerized Trigger + Copy Artifact</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Jenkins</span><span class="mr-2 badge badge-info">release</span></p><div class="entry-content"><p>I&#39;m working on setting up Jenkins to handle our release builds.  A release build consists of a Windows installer that includes some binaries that must be built on Linux.</p><p>Here&#39;s what I have so far:</p><ul><li>The Windows portion and Linux portion are set up as separate Jenkins projects.</li><li>The Windows project is parameterized, taking the Subversion tag to build and release.</li><li>As part of its build, the Windows project triggers a build of that same Subversion tag for the Linux project (using the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Trigger+Plugin">Parameterized Trigger</a> plugin) then copies the artifacts from the Linux project (using the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Copy+Artifact+Plugin">Copy Artifact</a> plugin) to the Windows project&#39;s workspace so that they can be included in the Windows installer.</li></ul><p>Where I&#39;m stuck:  Right now, Copy Artifact is set up to copy the last successful build.  It seems more robust to configure Copy Artifact to copy from the exact build that Parameterized Trigger triggered, but I&#39;m having trouble figuring out how to make that work.  There&#39;s an option for a &#34;build selector&#34; parameter that I think is intended to help with this, but I can&#39;t figure out how it&#39;s supposed to be set up (and blindly experimenting with different possibilities is somewhat painful when the build takes an hour or two to find success or failure).</p><p>How should I set this up?  How does build selector work?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>After you&#39;ve completed a triggered build you&#39;ll have a new env variable set to the build number of that triggered build called TRIGGERED_BUILD_NUMBER_&lt;job name&gt;.  You can use that to specifically copy back the artifacts:</p><ol><li><p>Windows build (called &#34;<strong>WindowsBuild</strong>&#34;), calls the Linux build (called
&#34;<strong>LinuxBuild</strong>&#34;) using the Parameterized Trigger plugin.</p><p>You&#39;ve got this part, just make sure to check <strong>Block until the triggered
projects finish their builds</strong> and fail the build of course if the Linux build fails.</p></li><li><p>Next in your <strong>Copy Artifacts from another project</strong> step:</p><p>Project name: <strong>LinuxBuild</strong></p><p>Which build: <strong>Specific build</strong></p><p>Build number: <strong>$TRIGGERED_BUILD_NUMBER_LinuxBuild</strong> (All Project names have characters not a-zA-Z or 0-9 replaced by _ ; multiple characters are condensed into a single _).</p></li></ol></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../writing-jenkins-plugin-where-is-the-documentation/'>Writing jenkins plugin: where is the documentation</a></li><li class="list-group-item"><a href='../should-the-deploy-script-be-an-artifact-of-the-build/'>Should the deploy script be an artifact of the build</a></li><li class="list-group-item"><a href='../git-maven-and-jenkins-versioning-dev-and-release-builds-workflow/'>Git, maven and jenkins &#8211; versioning, dev and release builds workflow</a></li><li class="list-group-item"><a href='../how-to-compile-the-software-for-all-platforms-from-ubuntu-linux-64-bit/'>How to compile the software for all platforms from Ubuntu Linux 64 bit</a></li><li class="list-group-item"><a href='../java-organizing-jenkins-around-svn-branches-and-deployment-environments/'>Java &#8211; Organizing Jenkins around SVN branches and deployment environments</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>