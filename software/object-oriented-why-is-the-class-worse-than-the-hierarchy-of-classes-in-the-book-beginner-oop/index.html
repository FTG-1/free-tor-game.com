<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Why is the class worse than the hierarchy of classes in the book (beginner OOP) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082031 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082031" class="post-1082031 software type-software status-publish hentry category-software tag-object-oriented tag-php tag-refactoring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Why is the class worse than the hierarchy of classes in the book (beginner OOP)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">object-oriented</span><span class="mr-2 badge badge-info">PHP</span><span class="mr-2 badge badge-warning">refactoring</span></p><div class="entry-content"><p>I am reading <a href="http://www.apress.com/9781590599099" rel="nofollow noreferrer"><em>PHP Objects, Patterns, and Practice</em></a>. The author is trying to model a lesson in a college. The goal is to output the lesson type (lecture or seminar), and the charges for the lesson depending on whether it is an hourly or fixed price lesson. So the output should be</p><pre><code>Lesson charge 20. Charge type: hourly rate. Lesson type: seminar.
Lesson charge 30. Charge type: fixed rate. Lesson type: lecture.
</code></pre><p>when the input is as follows:</p><pre><code>$lessons[] = new Lesson(&#39;hourly rate&#39;, 4, &#39;seminar&#39;);
$lessons[] = new Lesson(&#39;fixed rate&#39;, null, &#39;lecture&#39;);
</code></pre><p>I wrote this:</p><pre><code>class Lesson {
    private $chargeType;
    private $duration;
    private $lessonType;

    public function __construct($chargeType, $duration, $lessonType) {
        $this-&gt;chargeType = $chargeType;
        $this-&gt;duration = $duration;
        $this-&gt;lessonType = $lessonType;
    }

    public function getChargeType() {
        return $this-&gt;getChargeType;
    }

    public function getLessonType() {
        return $this-&gt;getLessonType;
    }

    public function cost() {
        if($this-&gt;chargeType == &#39;fixed rate&#39;) {
            return &#34;30&#34;;
        } else {
            return $this-&gt;duration * 5;
        }
    }
}

$lessons[] = new Lesson(&#39;hourly rate&#39;, 4, &#39;seminar&#39;);
$lessons[] = new Lesson(&#39;fixed rate&#39;, null, &#39;lecture&#39;);

foreach($lessons as $lesson) {
    print &#34;Lesson charge {$lesson-&gt;cost()}.&#34;;
    print &#34; Charge type: {$lesson-&gt;getChargeType()}.&#34;;
    print &#34; Lesson type: {$lesson-&gt;getLessonType()}.&#34;;
    print &#34;&lt;br /&gt;&#34;;
}
</code></pre><p>But according to the book, I am wrong (I am pretty sure I am, too). Instead, the author gave a large hierarchy of classes as the solution. In a previous chapter, the author stated the following &#39;four signposts&#39; as the time when I should consider changing my class structure:</p><ul><li><a href="http://en.wikipedia.org/wiki/Duplicate_code" rel="nofollow noreferrer">Code duplication</a></li><li>The class who knew too much about its context</li><li>The <a href="http://en.wiktionary.org/wiki/jack_of_all_trades#Noun" rel="nofollow noreferrer">jack of all trades</a> &#8211; classes that try to do many things</li><li>Conditional statements</li></ul><p>The only problem I can see is conditional statements, and that too in a vague manner &#8211; so why refactor this? What problems do you think might arise in the future that I have not foreseen?</p><p><strong>Update</strong>: I forgot to mention &#8211; this is the class structure the author has provided as a solution &#8211; the <a href="http://en.wikipedia.org/wiki/Strategy_pattern" rel="nofollow noreferrer">strategy pattern</a>:</p><p><img src="../../../i.stack.imgur.com/RJbQZ.png" alt="The strategy pattern"/></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It&#39;s funny that the book doesn&#39;t state it clearly, but the reason why it favours a class hierarchy over if statements inside the same class is probably the <a href="http://en.wikipedia.org/wiki/Open/closed_principle">Open/Closed principle</a> This widely-known software design rule states that a class should be closed to modification but open for extension.</p><p>In your example, adding a new lesson type would mean changing the Lesson class&#39;s source code, making it fragile and regression prone. If you had a base class and one derivative for each lesson type, you would instead just have to add another subclass, which is generally considered cleaner.</p><p>You can put that rule under the &#34;Conditional Statements&#34; section if you will, however I consider that &#34;signpost&#34; to be a bit vague. If statements are generally just code smells, symptoms. They can result from a wide variety of bad design decisions.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-xerox-solid-example-in-php/'>Object-oriented &#8211; Xerox SOLID example in PHP</a></li><li class="list-group-item"><a href='../php-way-to-document-required-properties-in-traits-php/'>Php &#8211;  way to document required properties in traits (PHP)</a></li><li class="list-group-item"><a href='../object-oriented-is-this-oop-class-hierarchy-too-deep/'>Object-oriented &#8211; Is this OOP class hierarchy too deep</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>