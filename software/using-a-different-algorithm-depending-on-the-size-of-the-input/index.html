<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Using a different algorithm depending on the size of the input &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073209 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073209" class="post-1073209 software type-software status-publish hentry category-software tag-algorithm-analysis tag-algorithms tag-complexity tag-performance"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Using a different algorithm depending on the size of the input</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithm-analysis</span><span class="mr-2 badge badge-info">algorithms</span><span class="mr-2 badge badge-warning">complexity</span><span class="mr-2 badge badge-primary">performance</span></p><div class="entry-content"><p>I recently finished a course on advanced algorithms, and another on complexity &amp; computability theory, and in the past few days my mind has been somewhat preoccupied by this question.</p><p>Why don&#39;t we just use a different algorithm based on the size of the input?</p><p>I&#39;m asking this question because I&#39;ve never seen this done in practice or heard of it, and I&#39;m also simply curious about the answer. I also tried looking it up on StackExchange and Google with various queries but couldn&#39;t come up with anything remotely related to my question.</p><p>I&#39;ll take the example of sorting algorithms, as they&#39;re quite common and there are so many, with different properties and runtime complexities.</p><p>Say I have three algorithms, <code>SortA</code>, <code>SortB</code> and <code>SortC</code>. <code>SortA</code> is incredibly efficient on inputs of size &lt;= 100 but becomes very slow on inputs that are any bigger; <code>SortB</code> is more efficient on inputs of length &gt; 100 than <code>SortA</code> but falls off quickly after a size of 1000. Finally, <code>SortC</code> isn&#39;t very fast on inputs of size &lt; 1000, but is faster than <code>SortA</code> and <code>SortB</code> on very large inputs.</p><p>Why shouldn&#39;t/couldn&#39;t I make a function like this (written in pseudo-C#-ish code for simplicity)? Or why isn&#39;t it done in practice?</p><pre><code>int[] Sort(int[] numbers) {
    if (numbers.Length &lt;= 100) {
        return SortA(numbers);
    } 
    else if (numbers.Length &lt;= 1000) {
        return SortB(numbers);
    } 
    else {
        return SortC(numbers);
    }
}
</code></pre><p>I&#39;m assuming some of the potential reasons are that</p><ol><li>it&#39;s more code to write,</li><li>more potential bugs since there&#39;s more code,</li><li>it&#39;s not necessarily easy to find the exact breakpoints at which some algorithm becomes faster than another, or it might take a lot of time to do so (i.e. running performance tests on various input sizes for every algorithm),</li><li>the breakpoints could only be on small or medium-sized input, meaning there won&#39;t be a significant performance increase that is worth doing the additional implementation work,</li><li>it just isn&#39;t worth it in general, and is only used in applications where performance is crucial (similar to how some numerical algorithms use a different method to solve a problem based on the properties of a matrix, like symmetry, tridiagonality,&#8230;),</li><li>input size isn&#39;t the only factor on an algorithm&#39;s performance.</li></ol><p>I&#39;m familiar with Landau/Big O notation, so feel free to use it in your answers.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Why don&#39;t we just use a different algorithm based on the size of the input?</p></blockquote><p>We do. <a href="https://wikipedia.org/wiki/Hybrid_algorithm" rel="noreferrer"><em>Hybrid algorithms</em></a> are used all the time.</p><blockquote><p>Why shouldn&#39;t/couldn&#39;t I make a function like this (written in pseudo-C#-ish code for simplicity)? Or why isn&#39;t it done in practice?</p></blockquote><p>That is quite literally how most real-world implementations of sorting algorithms look like.</p><p>E.g. quick sort has quite a high overhead, so every real-world quick sort implementation switches to insertion sort for the simple cases at the lower levels of the recursion tree. Instead of switching algorithms at the leaves of the recursion, you can also simply stop sorting altogether at some pre-defined partition size, and then run insertion sort once on the &#34;almost-sorted&#34; result of the &#34;aborted quick sort&#34;. This may be more efficient, because instead of having many tiny insertion sorts, you have one longer one, so you don&#39;t constantly switch between quick sort and insertion sort in the instruction cache.</p><p><a href="https://wikipedia.org/wiki/Merge_sort#tiled_merge_sort" rel="noreferrer">Merge sort is also often combined with insertion sort</a>. For example, for cache efficiency, you might want to switch to an in-place insertion sort as soon as the partitions are small enough to fully fit into the cache.</p><p>One of the most-widely used sorting algorithms is <a href="https://wikipedia.org/wiki/Timsort" rel="noreferrer"><em>Timsort</em></a>, which was implemented for CPython in 2002 by Tim Peters, and has since been adopted by (among others) Oracle JRE (and many others, e.g. IBM J9) as <code>Arrays.sort</code> for reference types, Android, V8, Swift, and GNU Octave. It is a hybrid insertion sort and merge sort, It tries to find &#34;runs&#34; of already sorted elements and merges those; if it can&#39;t find any runs, it will create them by partially sorting the list with insertion sort.</p><p>Considering that it is used in some of the most widely-used implementations of some of the most widely-used languages, i.e. in Android <em>and</em> Swift (in other words, on pretty much every smartphone and tablet) and also in Java (in other words on pretty much every desktop and a large number of servers) and V8 (i.e. in Chrome <em>and</em> Node.js) and CPython, we can quite confidently say that there is probably not a single person on the planet who has not used it in some form. I don&#39;t know about you, but I wouldn&#39;t call that &#34;not done in practice&#34;, in fact, it doesn&#39;t get any more practical than running on almost every computer in the world.</p><blockquote><p>it&#39;s not necessarily easy to find the exact breakpoints at which some algorithm becomes faster than another, or it might take a lot of time to do so (i.e. running performance tests on various input sizes for every algorithm)</p></blockquote><p><a href="https://wikipedia.org/wiki/Introsort" rel="noreferrer"><em>Introsort</em></a> solves this by being, as the name implies, <em>introspective</em>. It starts off as a quick sort, but it watches itself while it executes, and when the recursion exceeds a certain depth, it switches to heap sort. Regardless of whether it switches to heap sort in between or stays at quick sort, for very small arrays, it then switches to insertion sort.</p><p><em>Introsort</em> is used in several C and C++ standard library implementations, in .NET, and with Shellsort instead of insertion sort as the final algorithm in Go.</p><p>As we have seen above, Timsort has a really clever take on this problem: if the input data doesn&#39;t fit its assumptions, it simply makes it fit by partially sorting it first!</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../merge-sort-versus-quick-sort-performance/'>Merge sort versus quick sort performance</a></li><li class="list-group-item"><a href='../c-optimal-fixed-size-sequential-sorting-algorithms/'>C++ &#8211; Optimal fixed-size sequential sorting algorithms</a></li><li class="list-group-item"><a href='../how-to-solve-o-n-log-n-and-more/'>How to solve O (N log N) and more</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>