<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; How to refactor a Data Class to not be one &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075263 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075263" class="post-1075263 software type-software status-publish hentry category-software tag-code-smell tag-code-quality tag-data-structures tag-object-oriented tag-refactoring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; How to refactor a Data Class to not be one</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">code smell</span><span class="mr-2 badge badge-info">code-quality</span><span class="mr-2 badge badge-warning">data structures</span><span class="mr-2 badge badge-primary">object-oriented</span><span class="mr-2 badge badge-danger">refactoring</span></p><div class="entry-content"><p>We recently upgrade to PMD 6.0.0 and are getting several classes flagged as &#34;Data Classes&#34;? It argues that it breaks encapsulation and makes for brittle design (I understand that this site <a href="https://softwareengineering.stackexchange.com/q/30297/81973">has a different opinion</a>).</p><p>Let&#39;s say that our team decides to go ahead and refactor the data class, instead of ignoring the PMD rule. Unfortunately, <a href="https://pmd.github.io/pmd-6.0.0/pmd_rules_java_design.html#dataclass" rel="noreferrer">PMD&#39;s documentation for the rule</a> is unclear to me.</p><blockquote><p>Refactoring a Data Class should focus on restoring a good data-behaviour proximity. In most cases, that means moving the operations defined on the data back into the class. In some other cases it may make sense to remove entirely the class and move the data into the former client classes.</p></blockquote><p>I don&#39;t understand what &#34;good data-behaviour proximity&#34; is, or what &#34;the former client classes&#34; are. For instance, we have something along the lines of this:</p><pre><code>public class Person {
    private String name;
    private List&lt;String&gt; formerNames;
    private List&lt;Food&gt; favoriteFoods;

    //getters and setters
}
</code></pre><p>How would I go about refactoring this Data Class, as PMD recommends?</p><p><sub>I&#39;d like to focus on what sort of refactoring would look like, rather than discussing whether the rule is a good one or not. At this time, we don&#39;t know if we want to allow this rule or exclude it.</sub></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>By relocating any methods that depend on this data into this class. For example:</p><pre><code>out.showlist(listNameRymes(person.getName())); // Redesign it so this
person.listNameRymes(out);                     // can be done like this
</code></pre><p>But understand this is more than just moving methods around. It&#39;s a whole different way to look at problems.</p><p>When you&#39;re using the procedural mentality you want to pull the details towards you and control them in one place. Getters let you do that. But now you&#39;ve mixed the details of different things together which makes them hard to tease apart.</p><p>When you use the object oriented mentality you push the details away from you. You make other things deal with them. Rather then ask for things you tell objects to do things and expect them to handle the details.</p><p>This idea has many names but my favorite one is <a href="https://wiki.c2.com/?TellDontAsk" rel="nofollow noreferrer">tell, don&#39;t ask</a>.</p><p>Now this isn&#39;t to say that Data Classes have no place. Software communicates far and wide. Sometimes it communicates across boundaries. Some boundaries prevent you from moving methods. Some are conceptual. Yet you still need to communicate. This is when Data Classes shine.</p><p>Learn when to listen to your tool and when to ignore it. It may be better at remembering to check but you&#39;ll always be better at making the judgement call.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/object-oriented-python-classes-with-only-one-instance-when-to-create-a-single-class-instance-and-when-to-work-with-the-class-instead/'>Object-oriented &#8211; Python classes with only one instance: When to create a (single) class instance and when to work with the class instead</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-implementing-a-service-layer-with-a-static-class/'>C# &#8211; Implementing a Service Layer with a Static Class</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-properly-designing-an-abstract-class-how-to-retrieve-data/'>C# &#8211; Properly designing an abstract class: How to retrieve data</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>