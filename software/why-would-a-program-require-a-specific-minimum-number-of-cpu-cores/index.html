<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Why would a program require a specific minimum number of CPU cores &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067819 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067819" class="post-1067819 software type-software status-publish hentry category-software tag-cpu tag-multi-core tag-multithreading"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Why would a program require a specific minimum number of CPU cores</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">cpu</span><span class="mr-2 badge badge-info">multi-core</span><span class="mr-2 badge badge-warning">multithreading</span></p><div class="entry-content"><p>Is it possible to write code (or complete software, rather than a piece of code) that won&#39;t work properly when run on a CPU that has less than N number of cores? <strong>Without</strong> checking it explicitly and failing on purpose:</p><p>IF (noOfCores &lt; 4) THEN don&#39;t run properly on purpose</p><p>I&#39;m looking at a game&#39;s (<em><a href="http://en.wikipedia.org/wiki/Dragon_Age:_Inquisition">Dragon Age: Inquisition</a></em>) minimum system requirements, and it states a minimum of a four-core CPU. Many players say it does NOT run on two-core CPU&#39;s and EVEN on <a href="http://en.wikipedia.org/wiki/List_of_Intel_Core_i3_microprocessors">Intel Core i3s</a> with two physical and two logical cores. And it&#39;s NOT a problem of computing power.</p><p>From my understanding, threads are completely isolated from the CPU by the OS since that cannot be done.</p><p>Just to clear things out:</p><p>I am <strong>NOT</strong> asking &#34;Can I find out the number of CPU cores from code, and fail on purpose?&#34; &#8230; Such code would be ill-intentioned (forces you to buy a more expensive CPU to run a program &#8211; without the need of computational power). I am asking that your code, say, has four threads and fails when two threads are run on the same physical core <strong>(without explicitly checking system information and purposely failing)</strong>.</p><p>In short, can there be software that requires multiple cores, without needing additional computing power that comes from multiple cores? It would just require N separate physical cores.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It may be possible to do this &#34;by accident&#34; with careless use of core affinity. Consider the following pseudocode:</p><ul><li>start a thread</li><li>in that thread, find out which core it is running on</li><li>set its CPU affinity to that core</li><li>start doing something computationally intensive / loop forever</li></ul><p>If you start four of those on a two-core CPU, then either something goes wrong with the core affinity setting or you end up with two threads hogging the available cores and two threads that never get scheduled. At no point has it explicitly asked how many cores there are in total.</p><p>(If you have long-running threads, setting CPU affinity generally improves throughput)</p><p>The idea that game companies are &#34;forcing&#34; people to buy more expensive hardware for no good reason is not very plausible. It can only lose them customers.</p><p><strong>Edit:</strong> this post has now got 33 upvotes, which is quite a lot given that it&#39;s based on educated guesswork!</p><p>It seems that people have got DA:I to run, badly, on dual-core systems: <a href="http://www.dsogaming.com/pc-performance-analyses/dragon-age-inquisition-pc-performance-analysis/">http://www.dsogaming.com/pc-performance-analyses/dragon-age-inquisition-pc-performance-analysis/</a> That analysis mentions that the situation greatly improves if hyperthreading is turned on. Given that HT does not add any more instruction issue units or cache, it merely allows one thread to run while another is in a cache stall, that suggests strongly that it&#39;s linked to purely the number of threads.</p><p>Another poster claims that changing the graphics drivers works: <a href="http://answers.ea.com/t5/Dragon-Age-Inquisition/Working-solution-for-Intel-dual-core-CPUs/td-p/3994141">http://answers.ea.com/t5/Dragon-Age-Inquisition/Working-solution-for-Intel-dual-core-CPUs/td-p/3994141</a> ; given that graphics drivers tend to be a wretched hive of scum and villany, this isn&#39;t surprising. One notorious set of drivers had a &#34;correct&amp;slow&#34; versus &#34;fast&amp;incorrect&#34; mode that was selected if called from QUAKE.EXE. It&#39;s entirely possible that the drivers behave differently for different numbers of apparent CPUs. Perhaps (back to speculation) a different synchronisation mechanism is used. Misuse of <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff569725(v=vs.85).aspx">spinlocks</a>?</p><p>&#34;Misuse of locking and synchronisation primitives&#34; is a very, very common source of bugs. (The bug I&#39;m supposed to be looking at at work while writing this is &#34;crash if changing printer settings at same time as print job finishes&#34;).</p><p><strong>Edit 2:</strong> comments mention OS attempting to avoid thread starvation. Note that the game may have its own internal quasi-scheduler for assigning work to threads, and there will be a similar mechanism in the graphics card itself (which is effectively a multitasking system of its own). Chances of a bug in one of those or the interaction between them are quite high.</p><p>www.ecsl.cs.sunysb.edu/tr/ashok.pdf (2008) is a graduate thesis on better scheduling for graphics cards which explicitly mentions that they normally use first-come-first-served scheduling, which is easy to implement in non-preemptive systems. Has the situation improved? Probably not.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../can-you-explain-why-multiple-threads-need-locks-on-a-single-core-cpu/'>Can you explain why multiple threads need locks on a single-core CPU</a></li><li class="list-group-item"><a href='../how-to-program-thread-allocation-on-multicore-processors/'>How to program thread allocation on multicore processors</a></li><li class="list-group-item"><a href='../c-would-task-based-programming-in-c-require-new-language-standard-features/'>C++ &#8211; Would Task-based programming in C++ require new language standard features</a></li><li class="list-group-item"><a href='../c-one-process-using-stdthread-2-physical-cpus-4-cores-each-parallelism-level/'>C++ &#8211; One process using std::thread, 2 physical CPUs, 4 cores each, parallelism level</a></li><li class="list-group-item"><a href='../performance-is-there-a-reason-to-use-processes-over-threads/'>Performance: Is There a Reason to Use Processes over Threads</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>