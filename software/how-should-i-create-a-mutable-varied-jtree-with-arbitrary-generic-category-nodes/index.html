<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How should I create a mutable, varied jtree with arbitrary/generic category nodes &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073298 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073298" class="post-1073298 software type-software status-publish hentry category-software tag-extensibility tag-planning tag-trees"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How should I create a mutable, varied jtree with arbitrary/generic category nodes</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">extensibility</span><span class="mr-2 badge badge-info">planning</span><span class="mr-2 badge badge-warning">trees</span></p><div class="entry-content"><p><em>Please note: I don&#39;t want coding help here, I&#39;m on <code>Programmers</code> for a reason. I want to improve my program planning/writing skills not (just) my understanding of Java</em>.</p><p>I&#39;m trying to figure out how to make a tree which has an arbitrary category system, based on the skills listed for this LARP game <a href="http://blades.pencethren.org/pages/37" rel="nofollow noreferrer">here</a>. My previous attempt had a bool for whether a skill was also a category. Trying to code around that was messy. Drawing out my tree I noticed that only my &#39;leaves&#39; were skills and I&#39;d labeled the others as categories.</p><h3>What I&#39;m after is a way to make a tree which attempts to separate Model and View, and allow adding an arbitary type of child node (with a separate way of being edited/rendered) to an arbitrary parent.</h3><p><img src="https://i.stack.imgur.com/vmcFs.png" alt="A tree listing various skill from the above link"/></p><p><em>N.B Everything here is bought as a skill, even where it seems like a property. The End-Users will see this as buying skills (which they do on paper atm) so should be presented as such, all on the same page.</em></p><p><strong>Explanation of tree:</strong> The Tree is &#39;born&#39; with a set of hard coded highest level categories (<em>Weapons, Physical and Mental, Medical</em> and more etc.). From this the user needs to be able to add a skill. Ultimately they want to add the &#39;One-handed Sword Specialisation&#39; <em>skill</em> (<strong>not</strong> item) for instance. To do so you&#39;d ideally click &#39;add&#39; with <code>Weapons</code> selected and then select <code>One-handed</code> from a combobox node that appears on that child, then click add again and enter a name in a text field on <em>that</em> child node that appears. Then click add again to add/specify a &#39;level&#39; or &#39;tier&#39; for that leaf; first proficiency, then specialisation (for example).</p><p>Of course if you want to buy a different skill it&#39;s a completely different route to the leaf. You might not need a combo box at the same level down the tree as you did with the weapon example, and need some other logic behind it too. This is what I&#39;m having trouble getting my head around let alone programming in; how to make a set of classes and <strong>not</strong> specify what order to attach them together in, but still have them all fit.</p><p>What is a good system for describing this sort of tree in code? All the other JTree examples I&#39;ve seen have some <em>predictable</em> pattern, and mine <em>doesn&#39;t</em>. I don&#39;t want to have to code this all in &#39;literals&#39;, with long lists of what <em>type</em> (combo-box, text field etc) of children node should be allowed on what parent. Should I be using abstract classes? Interfaces?</p><p>How can I make this sort of cluster of objects extensible when I add in other skills not listed above that behave differently?</p><p>If there is <em>not</em> a good system to use, is there a good process for working out how to do this sort of thing?</p><h3>The gears in my head are turning:</h3><p>I always need to:</p><ul><li>Check the parent</li><li>Provide options based on the parent</li></ul><p>I&#39;m begining to think becasue of this commonality I need some sort of abstract/interface <code>skill</code> class that defines/outlines common methods for skill and category. I can (hopefully) put rules and options in a database and read to-from there. The question is I think now, between an abstract or interface method and how to bes implement that.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h1>Simple Mutable JTree Example</h1><p><img src="https://i.stack.imgur.com/yOt2R.png" alt="enter image description here"/></p><p>Code (complied and tested with Java 7 to make above image):</p><pre><code>import java.awt.*;
import javax.swing.*;
import javax.swing.tree.*;

public class SimpleTree extends JFrame {
    public static void main(String[] args) {
        new SimpleTree();
    }
 
    public SimpleTree() {
        super(&#34;Mutable Varied JTree&#34;);
        Container content = getContentPane();
        N root = new N(&#34;Root&#34;);

        N weapons = new N(&#34;Weapons&#34;).add(
            new N(&#34;One-handed&#34;).add(
                new N(&#34;Sword&#34;).add(&#34;Proficiency&#34;, &#34;Specialization&#34;), 
                new N(&#34;Mace&#34;).add(&#34;Proficiency&#34;)),
            new N(&#34;Bow&#34;).add(&#34;Proficiency&#34;));
        root.add(weapons);

        N phys = new N(&#34;Physical &amp; Mental&#34;).add(
            new N(&#34;Life&#34;),
            new N(&#34;Strength&#34;).add(
                &#34;Double&#34;, &#34;Triple&#34;, &#34;Quadruple&#34;));

        root.add(phys);
        N med = new N(&#34;Medical&#34;);
        med.add(new N(&#34;Bind Wounds&#34;));
        med.add(new N(&#34;Set Broken Bones&#34;));
        root.add(med);

        JTree tree = new JTree(root);
        content.add(new JScrollPane(tree), BorderLayout.CENTER);
        setSize(275, 300);
        setVisible(true);
    }

    private class N extends DefaultMutableTreeNode {
        public N(String s) { super(s); }
        public N add(String... strs) {
            for (String s : strs) {
                super.add(new N(s));
            }
            return this;
        }
        public N add(N... ns) {
            for (N n : ns) {
                super.add(n);
            }
            return this;
        }
    }
}
</code></pre><p>Special Thanks to <a href="http://www.apl.jhu.edu/~hall/java/Swing-Tutorial/Swing-Tutorial-JTree.html" rel="nofollow noreferrer">This JTree tutorial</a></p><h1>Update: Discussion of Possible Solutions</h1><p>There is a <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/tree.html#dynamic" rel="nofollow noreferrer">tutorial on making a dynamic tree</a>, using buttons at the bottom of the frame to add/Remove/Clear nodes.</p><p>For combo-boxes and such, you want to take objects of the appropriate swing class and have them be something like a JComboBox that implements java.swing.tree.MutableTreeNode.  The Java Swing Tutorial has a <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html" rel="nofollow noreferrer">list of controls</a>.</p><p>You still need to make a user-interface element to let people choose which kind of node they want to add, and to edit the node.  If they add a combo-box, they will need to be able to define which choices the box will make available.</p><p>You need an underlying data model to save your data.  You could use the default serialization scheme built into all Java objects, but it&#39;s for prototyping only - it will break if you ever change your program code.  You will need to either use a database with either JDBC or JPA or you will need to write your own serialization routines (or use a library that handles serialization for you) using something like JSON or XML as a storage format.</p><h1>Update: Proposed Solution with Project Overview</h1><p>The simplest solution might be to forget about databases and come up with the XML expression of the data first, then edit the XML file and just display the results as a JTree without special combo-boxes or anything.  I think this is what Chibueze Opata was suggesting with his answer.  A partial XML representation of this tree might look like the following:</p><pre><code>&lt;folder name=&#34;Physical &amp;amp; Mental&#34;&gt;
    &lt;int name=&#34;Life&#34;&gt;12&lt;/int&gt;
    &lt;drop-down name=&#34;Strength&#34;&gt;
        &lt;option name=&#34;Single&#34; /&gt;
        &lt;option name=&#34;Double&#34; /&gt;
        &lt;option name=&#34;Triple&#34; /&gt;
        &lt;option name=&#34;Quadruple&#34; /&gt;
    &lt;/drop-down&gt;
&lt;/folder&gt;
&lt;folder name=&#34;Medical&#34;&gt;
    &lt;text name=&#34;Bind Wounds&#34; /&gt;
    &lt;text name=&#34;Set Broken Bones&#34; /&gt;
&lt;/folder&gt;
</code></pre><p>Here are some potential milestones for you:</p><ul><li>Make up an XML or JSON data format, then write a program that reads a file of that format and displays it as a JTree without any combo-boxes, just folders and files.</li><li>Add swing controls to the JTree display</li><li>Expand your program to write that same file</li><li>Create a user interface so the user can add and edit nodes using the GUI</li></ul><p>Make sure to save a backup of your program each time it works at the end of each milestone.  A source control system installed on another machine is ideal for this.  You can use github, or sourceforge, or some other public source control if you don&#39;t mind sharing your code and don&#39;t want to set up a server with source control on it.</p><p>Any of these solutions is a lot of work, and definitely bigger than a beginner project.  It means you will spend much more time learning Java Swing and XML or JSON than playing your LARP which is why I first explored options of making do with existing tools.  But the best way to learn anything is the way you are most motivated to learn.  So this may be a perfect project for you.</p><p>I hope that helps.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/java-design-pattern-for-access-to-tree-like-database-in-java/'>Java &#8211; Design pattern for access to tree-like database in Java</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-how-to-traverse-a-tree-without-using-recursion/'>C# &#8211; How to traverse a tree without using recursion</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>