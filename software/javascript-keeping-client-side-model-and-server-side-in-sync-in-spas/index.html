<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Javascript &#8211; Keeping client side model and server side in sync in SPAs &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071082 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071082" class="post-1071082 software type-software status-publish hentry category-software tag-javascript tag-web-services"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Javascript &#8211; Keeping client side model and server side in sync in SPAs</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">javascript</span><span class="mr-2 badge badge-info">web services</span></p><div class="entry-content"><p>Since SPAs have most of their domain logic client side, how do you keep your domain model in sync with the back end?</p><p>For example, let&#39;s say I have a .NET WebAPI web service that uses the Entity Framework to communicate with SQL Server and one of my classes is called Product. Most of Product&#39;s domain logic will be client side.</p><p>Now I add a ProductType table to my DB, and I add a ProductTypeID column to my Products table. My EF Product class now has a new property called ProductTypeID. Do I now manually go into my JS files, find the definition for Product and add the ProductTypeID property?</p><p>While the client side doesn&#39;t need to know server side implementation specifics, it will need to know the shape of the model. How do you keep that in sync between server side and client side? Is it completely manual? How do you avoid errors like property name typos in JS?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Generally you don&#39;t keep them in sync in that way unless there is a reason to do so. Your entire premise is flawed. Most of the domain logic in an SPA, like any application, should be in the server. Only logic pertaining to the user interface should be in the client.</p><p>Edit:</p><p>So just to be clear on terminology. I assume that when you say &#34;domain logic&#34; you mean the core business logic of the application, the thing that makes your application more than just CRUD operations on resources. It may very well be that your application only needs to store, retrieve, update, and delete some data, in which case I suppose all of the &#34;logic&#34; would be in the client.</p><p>But imagine a simple purchasing system where you have inventory items and users are able to add items to a shopping cart for purchase. Imagine then that you need to know whether or not an item is in inventory or out of stock and if it&#39;s out of stock your particular use case does not allow a purchase to take  place on an out-of-stock item. In this scenario I don&#39;t think you would be doing the right thing if you did not have this requirement checking logic in your back-end.</p><p>You would certainly want to disable the &#34;Buy Now&#34; button on the client if the item was out of stock, but allowing the back-end to process a purchase for the out of stock item simply because an enterprising teenager decided to submit a POST request using curl seems very wrong to me.</p><p>The <strong>reason</strong> for the client to know that the item is out of stock <strong>is different</strong> from the reason for the back-end to know it. The client needs to know it to disable a button but the back-end needs to know it to prevent an incorrect charge.</p><p>The client&#39;s model of the state of the system might just include a <em>purchasable boolean</em> if that is all that is needed, while the server&#39;s model may have to take into account a wide variety of reasons, not just whether or not the item is in stock--perhaps the item is not shippable to the current user&#39;s location or perhaps the current user has a 35% coupon in their account and the margin on the item is less than 35%.  Chances are that the reasons for an item being purchasable or not is more complex to the server than the client, and it&#39;s very unlikely that a business system would allow the business logic to be made available to anyone who can download the JS files for the site (every visitor!).</p><p>Perhaps the server in that case simply removes the item from the list of results in a query for the purchasable items. The client cannot by definition apply any business domain logic to this item because it does not know that the item exists in the first place.</p><p>What if you next want to deploy a native mobile application?   Are you going to recreate all of your business domain logic in each new client? What if the system has gotten so large that there are hundreds of rules?</p><p>One of the key takeaways of experienced software developers should be that there can and will be multiple models in a system.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../javascript-client-side-authentication-through-signatures-instead-of-passwords/'>Javascript &#8211; Client side authentication through signatures instead of passwords</a></li><li class="list-group-item"><a href='../javascript-how-client-side-programming-works/'>Javascript &#8211; How Client Side Programming Works</a></li><li class="list-group-item"><a href='../rest-service-and-cqrs/'>REST Service and CQRS</a></li><li class="list-group-item"><a href='../javascript-client-side-rendering-vs-jsps-for-spring-mvc-front-end-dev/'>Javascript &#8211; Client-side Rendering vs JSP&#8217;s for Spring MVC Front End Dev</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>