<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; equals and hashcode methods autogenerated, is it always a good practice &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072876 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072876" class="post-1072876 software type-software status-publish hentry category-software tag-code-quality tag-cyclomatic-complexity tag-java tag-test-coverage tag-unit-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; equals and hashcode methods autogenerated, is it always a good practice</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">code-quality</span><span class="mr-2 badge badge-info">cyclomatic-complexity</span><span class="mr-2 badge badge-warning">java</span><span class="mr-2 badge badge-primary">test-coverage</span><span class="mr-2 badge badge-danger">unit testing</span></p><div class="entry-content"><p>Preamble: Let&#39;s say I aim to cover all my classes with test coverage.</p><p>Despite the common opinion (expecially in Java community) to &#34;not pay too much attention to Cyclomatic Complexity (CC) and code coverage&#34;, I really think that these information are extremely useful: When you have a very high CC, or an uncovered zone in your code, very likely you wrote a dead code, or either is a smell that you have problems in design. In my personal experience I can say that many time dead code <em>is</em> code smell.</p><p>This problem become a little tricky when you have to deal with auto-generated code, and that&#39;s the point, how can I easily deal with <code>hashcode</code> and <code>equals</code> autogenerated methods?<br /> I came across this question in StackOverflow and I realized some very good point:</p><p><a href="https://stackoverflow.com/questions/5764380/unit-testing-equals-and-hashcode-a-complexity-story">https://stackoverflow.com/questions/5764380/unit-testing-equals-and-hashcode-a-complexity-story</a></p><p>But this question is not a duplicate because I want to use a different approach:</p><p>The best options available in the answers of that question are, as far as I can see, <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html" rel="nofollow noreferrer">EqualsBuilder</a> of <a href="https://commons.apache.org/proper/commons-lang/" rel="nofollow noreferrer">Apache Commons Lang</a> or <a href="http://code.google.com/p/guava-libraries/" rel="nofollow noreferrer">Guava</a>. Both uses reflection (correct me if I&#39;m wrong) and that could be a problem for performance in some situations.</p><p>But my actual question is: Since most of the times both <code>equals</code> and <code>hashcode</code> methods are <strong>not</strong> covered, is that a hint that this particular class does <strong>not</strong> need those 2 methods?<br /> Since many Java developers a lot of time generate equals and hashcode even when not needed, what am I missing?<br /> Shouldn&#39;t be a better solution to generate those methods only when you need, for instance, to sort objects of that class, to use that objects as an Hashtable key, and so on?</p><p>As I said, I think that goals of low complexity and high coverage are admirable, but the solution of using <a href="https://code.google.com/p/guava-libraries/source/browse/guava-testlib/src/com/google/common/testing/EqualsTester.java" rel="nofollow noreferrer">EqualsTester</a> , seems to me like &#34;Force to cover code that you don&#39;t actually need in your program&#34;.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The story of <code>equals()</code> combines several unfortunate design decisions that are now impossible to change, and that every Java user just has to live with one way or another: it is deeply woven into the semantics of the standard container types, it is automatically inherited by every user-defined class but with a behaviour that is usually not what you want, and defining it without also defining <code>hashCode()</code> silently results in undefined behaviour (i.e. the language imposes certain requirements on you but has no way of warning you if they are unsatisfied.)</p><p>You <em>can</em> get along by simply never defining the method <strong>IF</strong> you never use such objects anywhere that would expose the unwanted behaviour. But since software development is a cooperative game, this requires an iron-clad, no-exceptions, disciplined rule of &#34;Absolutely no Foo widgets in <code>Set</code>s, ever!!&#34; that everyone involved with the code must know and follow 100%.</p><p>It can be worthwhile to impose such a rule in order to gain some performance, just as with other very fundamental principles of coding - e.g. &#34;No <code>null</code> return values, ever!&#34; is a common strategy to save a lot of checking for <code>null</code>. But this depends on how much you really profit from the small simplification for each class. The downside is that you have added another unspoken assumption that all users of your class must know and follow, or silently suffer from undefined behaviour.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/unit-testing-unit-and-integration-testing-how-to-it-become-a-reflex/'>Unit-testing &#8211; Unit and Integration testing: How to it become a reflex</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-any-tools-suggestions-on-how-to-refute-code-coverage-quality-argument/'>Java &#8211; Any tools/suggestions on how to refute code coverage quality argument</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/unit-testing-best-practice-for-code-coverage-of-empty-interface-methods/'>Unit-testing &#8211; Best practice for code coverage of empty interface methods</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/unit-testing-should-i-write-automated-unit-tests-that-fail-when-the-code-changes/'>Unit-testing &#8211; Should I write automated unit tests that fail when the code changes</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/cyclomatic-complexity-spread-over-non-reusable-functions/'>Cyclomatic Complexity spread over non-reusable functions</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/python-why-is-unit-testing-private-methods-considered-as-bad-practice/'>Python &#8211; Why is unit testing private methods considered as bad practice</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>