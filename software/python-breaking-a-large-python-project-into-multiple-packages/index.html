<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Python &#8211; Breaking a Large Python Project into Multiple Packages &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072919 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072919" class="post-1072919 software type-software status-publish hentry category-software tag-api tag-deployment tag-packages tag-programming-practices tag-python"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Python &#8211; Breaking a Large Python Project into Multiple Packages</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">deployment</span><span class="mr-2 badge badge-warning">packages</span><span class="mr-2 badge badge-primary">programming practices</span><span class="mr-2 badge badge-danger">python</span></p><div class="entry-content"><p>I have a medium sized Python program (12 KLOC) organized as a single Python package with multiple subpackages:</p><pre><code>proj/
    setup.py
    proj/
        __init__.py
        projfile1.py
        subproj1/
            __init__.py
            subprojfile1.py
            ...
        subproj2/
            __init__.py
            ...
    tests/
</code></pre><p>I can see that some of these subpackages could be self-contained and could live in their own namespace:</p><pre><code>proj/
    setup.py
    proj/
        __init__.py
        projfile1.py
        ...
    subproj1/
        __init__.py
        subprojfile1.py
        ...
    subproj2/
        __init__.py
        ...
    tests/
</code></pre><p>I&#39;m thinking that breaking out subpackages might help reduce future complexity by reducing interdependence between separate parts of the program.</p><p>The only <code>subproj1</code> imports outside of its namespace are utility functions from another subpackage in <code>proj/</code></p><p>Are multiple toplevel packages appropriate for a Python project? Are there any projects that are organized in this way?</p><p>What are the drawbacks of organizing a project as multiple Python packages?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Multiple top-level packages are in principle OK, but I think they are rarely an appropriate solution.</p><p>By itself, a directory structure does not say anything about coupling or complexity. The difference between a directory structure <code>x/a, x/b, x/c</code> and <code>a, b, c</code> is just a directory. The design is still the same.</p><p>For an application, just do whatever is convenient for you â€“ especially if this application is not distributed outside of your organization. If you find multiple top-level packages convenient, then use that project layout.</p><p>For code that will be used by other people, you have to be more considerate. The problem is that the directory layout corresponds to modules/packages inside your Python code. There is no way to resolve name clashes, so you should choose reasonably unique names for your modules. There can only be at most one top-level <code>util</code> module. Therefore, it is highly advisable that you namespace all your modules under your project&#39;s name. While Python/PyPI don&#39;t enforce that this module has the same name as the pip-installable package, this is a very sensible convention.</p><p>One detail where your directory structure does encourage coupling is the shared <code>tests</code> directory. It is often better to place the tests for each package within each directory. I.e., the tests for <code>a</code> don&#39;t go in <code>tests/a</code> but in <code>a/test</code>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-for-large-projects/'>Python for large projects</a></li><li class="list-group-item"><a href='../java-what-are-the-steps-to-grouping-related-classes-into-packages/'>Java &#8211; What are the steps to grouping related classes into packages</a></li><li class="list-group-item"><a href='../object-oriented-how-to-divide-oo-project-into-packages/'>Object-oriented &#8211; How to divide OO project into packages</a></li><li class="list-group-item"><a href='../python-turning-a-personal-python-project-into-a-releasable-library/'>Python &#8211; Turning a personal Python project into a releasable library</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>