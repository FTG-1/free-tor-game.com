<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; How to get started using TDD to code some simple functionality &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083173 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083173" class="post-1083173 software type-software status-publish hentry category-software tag-c tag-tdd"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; How to get started using TDD to code some simple functionality</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">tdd</span></p><div class="entry-content"><p>I basically have the gist of TDD.  I&#39;m sold that it&#39;s useful and I&#39;ve got a reasonable command of the MSTEST framework.  However, to date  I have not been able to graduate to using it as a primary development method.  Mostly, I use it as a surrogate for writing console apps as test drivers (my traditional approach).</p><p>The most useful thing about it for me is the way it absorbs the role of regression testing.</p><p>I have not yet built anything yet that specifically isolates various testable behaviors, which is another big part of the picture I know.</p><p>So this question is to ask for pointers on what the first test(s) I might write for the following development task: I want to produce code that encapsulates task execution in the fashion of producer/consumer.</p><p>I stopped and decided to write this question after I wrote this code (wondering if I could actually use TDD for real this time)</p><p><strong>Code:</strong></p><pre><code>interface ITask
{
    Guid TaskId { get; }
    bool IsComplete { get; }
    bool IsFailed { get; }
    bool IsRunning { get; }
}

interface ITaskContainer
{
    Guid AddTask(ICommand action);
}

interface ICommand
{
    string CommandName { get; }
    Dictionary&lt;string, object&gt; Parameters { get; }
    void Execute();
}
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Starting with this concept:<br/> 1) Start with the behavior that you desire.  Write a test for it.  See test fail.<br/> 2) Write enough code to get the test to pass.  See all tests pass.<br/> 3) Look for redundant / sloppy code -&gt; refactor.  See tests still pass.  Goto 1</p><p>So on #1, let&#39;s say that you want to create a new command (I&#39;m stretching to how the command would work, so bear with me).  (Also, I&#39;ll be a bit pragmatic rather than extreme TDD)</p><p>The new command is called MakeMyLunch, so you first create a test to instantiate it and get the command name:</p><pre><code>@Test
public void instantiateMakeMyLunch() {
   ICommand command = new MakeMyLunchCommand();
   assertEquals(&#34;makeMyLunch&#34;,command.getCommandName());
}
</code></pre><p>This fails, forcing you to create the new command class and have it return its name (purist would say this is two rounds of TDD, not 1).  So you create the class and have it implement the ICommand interface, including returning the command name.  Running all tests now shows all pass, so you proceed to look for refactoring opportunities.  Probably none.</p><p>So next you want it to implement execute.  So you have to ask: how do I know that &#34;MakeMyLunch&#34; successfully &#34;made my lunch&#34;.  What changes in the system because of this operation?  Can I test for this?</p><p>Suppose it is easy to test for:</p><pre><code>@Test
public void checkThatMakeMyLunchIsSuccessful() {
   ICommand command = new MakeMyLunchCommand();
   command.execute();
   assertTrue( Lunch.isReady() );
}
</code></pre><p>Other times, this is more difficult, and what you really want to do is test the responsibilities of the subject-under-test (MakeMyLunchCommand).  Perhaps the responsibility of MakeMyLunchCommand is to interact with Fridge and Microwave.  So to test it you can use a mock Fridge and mock Microwave.  [two sample mock frameworks are <a href="http://code.google.com/p/mockito/" rel="nofollow noreferrer">Mockito</a> and <a href="http://www.nmock.org/" rel="nofollow noreferrer">nMock</a> or look <a href="https://stackoverflow.com/questions/22697/whats-the-best-mock-framework-for-java">here</a>.]</p><p>In which case you would do something like the following pseudo code:</p><pre><code>@Test
public void checkThatMakeMyLunchIsSuccessful() {
   Fridge mockFridge = mock(Fridge);
   Microwave mockMicrowave = mock(Microwave);
   ICommand command = new MakeMyLunchCommand( mockFridge, mockMicrowave );
   command.execute();
   mockFramework.assertCalled( mockFridge.removeFood );
   mockFramework.assertCalled( microwave.turnon );
}
</code></pre><p>The purist says test the responsibility of your class - its interactions with other classes (did the command open the fridge and turn on the microwave?).</p><p>The pragmatist says test for a group of classes and test for the outcome (is your lunch ready?).</p><p>Find the right balance that works for your system.</p><p>(Note: consider that perhaps you arrived at your interface structure too early.  Perhaps you can let this evolve as you write your unit tests and implementations, and in step #3 you &#34;notice&#34; the common interface opportunity).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-how-would-you-tdd-the-functionality-of-getting-the-corresponding-process-of-a-running-windows-service/'>C# &#8211; How would you TDD the functionality of getting the corresponding process of a running windows service</a></li><li class="list-group-item"><a href='../c-unit-testing-c-what-to-test/'>C++ &#8211; Unit testing C++: What to test</a></li><li class="list-group-item"><a href='../how-to-get-initial-api-right-using-tdd/'>How to get initial API right using TDD</a></li><li class="list-group-item"><a href='../unit-testing-how-to-test-network-connectivity-api-using-tdd/'>Unit-testing &#8211; How to test network connectivity API using TDD</a></li><li class="list-group-item"><a href='../c-how-to-structure-simple-c-projects-for-tdd/'>C++ &#8211; How to Structure Simple C++ projects for TDD</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>