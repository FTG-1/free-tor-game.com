<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Efficiency of C# dictionaries &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063636 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063636" class="post-1063636 software type-software status-publish hentry category-software tag-c tag-dictionary tag-efficiency"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Efficiency of C# dictionaries</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">dictionary</span><span class="mr-2 badge badge-warning">efficiency</span></p><div class="entry-content"><p>C# dictionaries are a simple way to find if something exists etc etc. I have a question though on how they work. Let&#39;s say instead of a dictionary I use an ArrayList. Instead of using <code>ContainsKey</code> (or an equivalent method in another language) I loop through the ArrayList to check if something exists there (or performing binary search if data is sorted or something similar). What&#39;s the difference in efficiency? Is the <code>ContainsKey</code> method using some more efficient way rather than looping through the keys and check if what I am searching exists?</p><p>If let&#39;s say I had created a specific hash function which corresponds to the type of data that I am having and is specifically designed for that set of data then yes, that hash function is indeed faster than looping through data. But dictionaries are general. ContainsKey method is not specific to the data that it gets, it&#39;s a general searching method.</p><p>Basically what I am asking is. Dictionaries are helpful to programmers. They include methods that help with many things and they combine strings with integers,(keys and values) and many more. But concerning efficiency, what do they offer? What&#39;s the difference in having a <code>dictionary</code> vs an <code>ArrayList</code> of <code>structs(string,int)</code></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You&#39;ve got to dig a bit to see how the <a href="http://msdn.microsoft.com/en-us/library/xfhwa508.aspx">Dictionary</a> is implemented in C# - Its not as obvious as <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html">HashMap</a> (a hash table) or <a href="https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html">TreeMap</a> (a sorted tree) (or <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentSkipListMap.html">ConcurrentSkipListMap</a> - a <a href="http://en.wikipedia.org/wiki/Skip_list">skip list</a>).</p><p>If you dig down into the &#34;Remarks&#34; section:</p><blockquote><p>The Dictionary generic class provides a mapping from a set of keys to a set of values. Each addition to the dictionary consists of a value and its associated key. Retrieving a value by using its key is very fast, close to O(1), because the Dictionary class is implemented as a hash table.</p></blockquote><p>And there we have it.  It&#39;s a <a href="http://en.wikipedia.org/wiki/Hash_table">hash table</a>. Note that I&#39;ve linked the Wikipedia article there - its a fairly good read.  You may wish to read the section on collision resolution.  It is possible to get a pathological data set where the lookup devolves to O(N) (for example everything you insert falls to the same hash value or index in the hash table for some reason and you&#39;re left with <a href="http://en.wikipedia.org/wiki/Linear_probing">linear probing</a>).</p><p>While the Dictionary is a general purpose solution you shouldn&#39;t be passing around concrete types (such as the Dictionary) - you should be passing around the interfaces.  In this case, that interface is <code>IDictionary</code> (<a href="http://msdn.microsoft.com/en-us/library/s4ys34ea(v=vs.110).aspx">docs</a>).  To this, you are perfectly capable of writing your own dictionary implementation that does things optimally for the data you have.</p><p>As to the efficiency of various lookup/contains?</p><ul><li>Walking an unsorted list: O(N)</li><li>Binary search of a sorted array: O(log N)</li><li>Sorted tree: O(log N)</li><li>Hash table: O(1)</li></ul><p>For most people, the hash table is what they want.</p><p>You may find that the <a href="http://msdn.microsoft.com/en-us/library/f7fta44c(v=vs.110).aspx">SortedDictionary</a> is what you want instead:</p><blockquote><p>The <code>SortedDictionary&lt;TKey, TValue&gt;</code> generic class is a binary search tree with O(log n) retrieval, where n is the number of elements in the dictionary. In this respect, it is similar to the <code>SortedList&lt;TKey, TValue&gt;</code> generic class. The two classes have similar object models, and both have O(log n) retrieval.</p></blockquote><p>Though, again, if the data structure isn&#39;t one that works with your data ideally, you are given the tools (the interfaces) to be able to write one that works best for your data.</p><p>The dictionary itself is an <a href="http://en.wikipedia.org/wiki/Abstract_data_type">abstract data type</a>.  You give me a Dictionary and I know what i can do with it and all the tools there there for me to use by the nature of it being a Dictionary.  If you gave me an ArrayList, I would find myself writing my own code for searching, inserting, or deleting items from the list.  This wastes my time and also means that there&#39;s more likelihood for a bug as I copy the code again and again from spot to spot.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../database-what-are-the-relative-advantages-of-dictionaries-versus-databases/'>Database &#8211; What are the relative advantages of dictionaries versus databases</a></li><li class="list-group-item"><a href='../c-handling-null-references-in-c-logic/'>C# &#8211; Handling null-references in C# logic</a></li><li class="list-group-item"><a href='../c-dictionary-of-dictionaries-design-in-c/'>C# &#8211; Dictionary of dictionaries design in C#</a></li><li class="list-group-item"><a href='../c-better-way-to-use-c-dictionaries-than-trygetvalue/'>C# &#8211;  better way to use C# dictionaries than TryGetValue</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>