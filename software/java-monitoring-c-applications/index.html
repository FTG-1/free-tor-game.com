<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Monitoring C++ applications &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071989 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071989" class="post-1071989 software type-software status-publish hentry category-software tag-c tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Monitoring C++ applications</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">java</span></p><div class="entry-content"><p>We&#39;re implementing a new centralized monitoring solution (Zenoss). Incorporating servers, networking, and Java programs is straightforward with SNMP and JMX.</p><p>The question, however, is what are the best practices for monitoring and managing custom C++ applications in large, heterogenous (Solaris x86, RHEL Linux, Windows) environments?</p><p>Possibilities I see are:</p><ol><li>Net SNMP</li><ul><li>Advantages</li><ol><li>single, central daemon on each server</li><li>well-known standard</li><li>easy integration into monitoring solutions</li><li>we run Net SNMP daemons on our servers already</li></ol><li>Disadvantages:</li><ol><li>complex implementation (MIBs, Net SNMP library)</li><li>new technology to introduce for the C++ developers</li></ol></ul><li>rsyslog</li><ul><li>Advantages</li><ol><li>single, central daemon on each server</li><li>well-known standard</li><li>unknown integration into monitoring solutions (I know they can do alerts based on text, but how well would it work for sending telemetry like memory usage, queue depths, thread capacity, etc)</li><li>simple implementation</li></ol><li>Disadvantages:</li><ol><li>possible integration issues</li><li>somewhat new technology for C++ developers</li><li>possible porting issues if we switch monitoring vendors</li><li>probably involves coming up with an ad-hoc communication protocol (or using RFC5424 structured data; I don&#39;t know if Zenoss supports that without custom Zenpack coding)</li></ol></ul><li>Embedded JMX (embed a JVM and use JNI)</li><ul><li>Advantages</li><ol><li>consistent management interface for both Java and C++</li><li>well-known standard</li><li>easy integration into monitoring solutions</li><li>somewhat simple implementation (we already do this today for other purposes)</li></ol><li>Disadvantages:</li><ol><li>complexity (JNI, thunking layer between native C++ and Java, basically writing the management code twice)</li><li>possible stability problems</li><li>requires a JVM in each process, using considerably more memory</li><li>JMX is new technology for C++ developers</li><li>each process has it&#39;s own JMX port (we run a lot of processes on each machine)</li></ol></ul><li>Local JMX daemon, processes connect to it</li><ul><li>Advantages</li><ol><li>single, central daemon on each server</li><li>consistent management interface for both Java and C++</li><li>well-known standard</li><li>easy integration into monitoring solutions</li></ol><li>Disadvantages:</li><ol><li>complexity (basically writing the management code twice)</li><li>need to find or write such a daemon</li><li>need a protocol between the JMX daemon and the C++ process</li><li>JMX is new technology for C++ developers</li></ol></ul><li>CodeMesh JunC++ion</li><ul><li>Advantages</li><ol><li>consistent management interface for both Java and C++</li><li>well-known standard</li><li>easy integration into monitoring solutions</li><li>single, central daemon on each server when run in shared JVM mode</li><li>somewhat simple implementation (requires code generation)</li></ol><li>Disadvantages:</li><ol><li>complexity (code generation, requires a GUI and several rounds of tweaking to produce the proxied code)</li><li>possible JNI stability problems</li><li>requires a JVM in each process, using considerably more memory (in embedded mode)</li><li>Does not support Solaris x86 (deal breaker)</li><li>Even if it did support Solaris x86, there are possible compiler compatibility issues (we use an odd combination of STLPort and Forte on Solaris</li><li>each process has it&#39;s own JMX port when run in embedded mode (we run a lot of processes on each machine)</li><li>possibly precludes a shared JMX server for non-C++ processes (?)</li></ol></ul></ol><p>Is there some reasonably standardized, simple solution I&#39;m missing?</p><p>Given no other reasonable solutions, which of these solutions is typically used for custom C++ programs?</p><p>My gut feel is that Net SNMP is how people do this, but I&#39;d like other&#39;s input and experience before I make a decision.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;m not super familiar with Zenoss but when I used to used <a href="http://www.nagios.org/" rel="nofollow">nagios</a> for this sort of thing we&#39;d make the c/c++ process listen on a socket and write a custom <a href="http://nagios.sourceforge.net/docs/nagioscore/3/en/plugins.html" rel="nofollow">nagios plugin</a> which would hand over diagnostic and status information.</p><p>First step is to choose the lib you want to use to make your process listen..  Something like <a href="http://www.alhem.net/Sockets/" rel="nofollow">C++ Socket Library</a> will do for that.  Nothing complicated there.. just make the process listen.</p><p>Then you have to define the response your process will send given a particular stimulus.  This really meant (at least with nagios) defining the &#39;service&#39; and then sending the process the signal that corresponded to that service.  The simplest thing you can do is create a &#39;process ping&#39; just see if you can successfully connect to the running process.  If you do than the custom nagios plugin knows at least the process is still alive.</p><p>There&#39;s much more sophisticated stuff you can do but the idea is simple enough.  You can write your own little lib of process listening code encapsulated within objects and pull it into your custom c++ stuff in a standardized manner whenever you build one (or all) your executables</p><p>My understanding is Zenoss can do this <a href="http://community.zenoss.org/docs/DOC-2509" rel="nofollow">too</a>.</p><p>Probably since Zenoss is python then you&#39;ll write your custom plugin for it using something like <a href="http://twistedmatrix.com/trac/" rel="nofollow">Twisted</a> for connecting to your listening c++ executable.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-rewriting-ibm-assembler-cobol-in-c/'>C++ &#8211; Rewriting IBM assembler + COBOL in C++</a></li><li class="list-group-item"><a href='../java-cross-compiling-java-app-to-run-directly-on-arm/'>Java &#8211; Cross-compiling Java app to run directly on ARM</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>