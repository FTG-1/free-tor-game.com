<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How to create Uuids in DDD Entities/Aggregates &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084342 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084342" class="post-1084342 software type-software status-publish hentry category-software tag-domain-driven-design tag-event-sourcing tag-uuid"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How to create Uuids in DDD Entities/Aggregates</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">domain-driven-design</span><span class="mr-2 badge badge-info">event-sourcing</span><span class="mr-2 badge badge-warning">uuid</span></p><div class="entry-content"><p>As I am learning DDD to help build an app idea the proper way ðŸ˜‰ I have come across a confusing aspect that I am trying to find a solution for.</p><p>I understand the need for Uuids in an app the size of which I am creating, but I am a little lost as to what method I should use to create Uuids for user-generated objects.</p><p>I have read all about the different variants of Uuid, and I have watched talks by Martin Fowler on the topic of Event Sourcing, so I am of the thinking I should be creating Uuids that are going to be the same every time the object is created.</p><p>How do I even tackle this with user-generated data? The reason is that if I want to mimic a system on testing to fix a live bug, shouldn&#39;t I create the exact same IDs?</p><p>Am I over thinking this? Will v4 Uuids be sufficient? This would mean that the system is not the same on either environment though, or does Event Sourcing not really care about Uids?</p><p>I am still pretty new to this, and I have tried thoroughly to answer my own questions with Google, but can&#39;t find anything.</p><p>Thanks in advance.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>I have read all about the different variants of Uuid, and I have watched talks by Martin Fowler on the topic of Event Sourcing, so I am of the thinking I should be creating Uuids that are going to be the same every time the object is created.</p></blockquote><p><a href="https://www.rfc-editor.org/rfc/rfc4122#section-4.3" rel="nofollow noreferrer">Named UUID</a>s are great for this.</p><blockquote><p>How do I even tackle this with user-generated data? The reason is that if I want to mimic a system on testing to fix a live bug, shouldn&#39;t I create the exact same IDs?</p></blockquote><p>Same game as above - the point to using named uuid is that you are generating your identifiers deterministically, which means that you can reproduce them from the same inputs.</p><p>For the most part, you don&#39;t ever really care what the identifier <em>is</em>, just that it is determined.  So if your user generated data includes an identifier, then that&#39;s fine -- when testing your system, you can reproduce the user&#39;s request with the same identifier that the client provided.  That identifier can be fixed or random, as necessary.</p><p>If you get user requests without an identifier, then you&#39;ll want to add one in.  You may be able to do so by simply hashing the data provided by the client; but if that can be duplicated then you&#39;ll need to introduce some additional element to ensure that the identifiers are unique.</p><blockquote><p>Would you suggest that the client (written in the same language) would just use the same Uuid generating code?</p></blockquote><p>Deterministic code is always much easier to test than not, so where it makes sense, sure.  But from the point of view of the server, I don&#39;t really care where the ids generated by the client come from.</p><blockquote><p>Also, how would you suggest using the client inputs? A sha1 of all the data for example?</p></blockquote><p>Maybe, but not necessarily.  Give some thought to when you want identifiers to collide.</p><p>For instance, if I&#39;m a client trying to send a command message, then I&#39;m probably going to give that message an identifier that is unique, so that the message will collide with a duplicate copy of itself.</p><p>If the message is intended to create a new entity, then it may be an advantage to have that identifier naturally collide with an entity created by a different client.  In that case, there are two cases you may wish to handle -- the two clients try to create the entity with the same state, the two clients try to create the entity with different states.</p><p>If you and I both try to create the &#34;same&#34; customer, but one of us makes a mistake spelling the street address, then we probably don&#39;t want two copies of the customer in the model, but rather one customer and maybe some handling to get the address confirmed.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-generate-language-safe-uuids/'>How to generate &#8220;language-safe&#8221; UUIDs</a></li><li class="list-group-item"><a href='../javascript-strategy-for-generating-unique-and-secure-identifiers-for-use-in-a-sometimes-offline-web-app/'>Javascript &#8211; Strategy for generating unique and secure identifiers for use in a &#8220;sometimes offline&#8221; web app</a></li><li class="list-group-item"><a href='../akka-event-sourcing-how-to-create-actor-per-entity/'>Akka Event Sourcing &#8211; how to create Actor per Entity</a></li><li class="list-group-item"><a href='../is-there-something-dirty-about-using-a-non-linear-store-in-event-sourcing/'>Is there something &#8220;dirty&#8221; about using a non-linear store in Event Sourcing</a></li><li class="list-group-item"><a href='../how-to-avoid-implementing-the-event-sourced-projections-twice/'>How to avoid implementing the Event Sourced projections twice</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>