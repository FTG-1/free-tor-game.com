<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; MVP Implementation at the UserControl Level &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074498 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074498" class="post-1074498 software type-software status-publish hentry category-software tag-c tag-mvp tag-separation-of-concerns tag-user-interface tag-winforms"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; MVP Implementation at the UserControl Level</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">mvp</span><span class="mr-2 badge badge-warning">separation-of-concerns</span><span class="mr-2 badge badge-primary">user interface</span><span class="mr-2 badge badge-danger">winforms</span></p><div class="entry-content"><p>I&#39;m trying to figure out how MVP should be implemented at the <code>UserControl</code> level. I thought I had it, but I ended up reading a blog post that pretty much shut me down. Now I&#39;m back at the start and with no idea how to proceed.</p><p>Let&#39;s say my <code>UserControl</code> is something simple like two <code>TextBox</code>es and a <code>ComboBox</code>. This gets invoked from a main form (which has its own View and Presenter). Now, the way I understand MVP is that the Main Form Presenter is supposed to invoke a second presenter to handle all communication with the UserControl that gets dropped there.</p><p>And this is where I get completely lost. My past implementations of <code>UserControl</code>s (before I learned MVP) always incorporated the logic behind the control (e.g. <code>ComboBox</code> selection will change text label related to <code>TextBox1</code>). As such, implementation of the <code>UserControl</code> is done by dragging it onto the designer, and then calling commands like <code>UserControl1.Update()</code> or <code>UserControl1.DisplayData(data)</code>.</p><p>In any third-party <code>UserControl</code>, all commands to the <code>UserControl</code> are performed by commands to the control. There is no &#34;presenter&#34; that needs to be invoked, for instance, when I drop a <code>ComboBox</code>, or a <code>ListView</code>, or any other WinForms control onto my form. Yet they have internal logic that dictates how they display, and in the essence of testing, it should have a &#34;presenter&#34; separation to it <strong>somewhere</strong>.</p><p>I <em>thought</em> that a good solution would be that the <strong>constructor</strong> of my <code>UserControl</code> would create a Presenter. Any commands to the <code>UserControl</code> would delegate straight to the Presenter. This would allow my <code>UserControl</code> to have its own presentation logic separated from its &#34;view&#34;, such that I can test it, and such that the implementer (the Main Form) need only drop in the <code>UserControl</code> and perform data sends and receives as part of its local presentation logic. The <code>UserControl</code> has its own presentation logic left invisible to the implementer.</p><p>And just when I thought I understood it all, <a href="http://blog.mattwynne.net/2007/06/13/mvp-smells/" rel="noreferrer">I find out that it&#39;s bad practice (The Self-Aware View)</a>. So I plead with people who understand this better than I: How do I construct a <code>UserControl</code> that keeps its presentation logic invisible to the end-user, such that I don&#39;t have to construct the wrapping presenter in my Main Form, <strong>without</strong> violating the principles that Matt Wynne discusses in the linked post above?</p><p>Or am I completely misunderstanding the concept of MVP here?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I read through Matt Wynne&#39;s blog entry that you linked, and I can see where some of the confusion is coming from.  So let&#39;s point out a few differences between his article and your situation.</p><ul><li><p>Your question was asked on Aug 21st of 2013.  Matt&#39;s article was published on June 13 of <strong>2007</strong>.</p></li><li><p>You tagged your question with <a href="../../questions/tagged/c%23.html" class="post-tag" title="show questions tagged &#39;c#&#39;" rel="tag">c#</a> and <a href="../../questions/tagged/winforms.html" class="post-tag" title="show questions tagged &#39;winforms&#39;" rel="tag">winforms</a>, although I think you meant <a href="../../questions/tagged/wpf.html" class="post-tag" title="show questions tagged &#39;wpf&#39;" rel="tag">wpf</a> instead of winForms. Matt states his focus and experience has been with ASP.NET.</p></li></ul><p>I want to point out that we&#39;re already at a) dated advice and b) differing UI technologies.</p><p>ASP.NET and the <code>MV*</code> pattern(s) it supports have changed significantly since then.  Likewise, users of Silverlight and WPF have since generated a lot of guidance with using the <code>MVVM</code> pattern and data binding.</p><p>And as a point of reference, I would recommend reading over Martin Fowler&#39;s articles on <a href="http://martinfowler.com/eaaDev/PassiveScreen.html" rel="nofollow">Passive View</a> and <a href="http://martinfowler.com/eaaDev/SupervisingPresenter.html" rel="nofollow">Supervising Controller</a> which are the patterns he broke out from his original <a href="http://martinfowler.com/eaaDev/ModelViewPresenter.html" rel="nofollow">MVP pattern</a>.</p><hr/><p>I think your question is more interesting when looking at the broader point of view and asking &#34;what does <code>MV*</code> help me with for a framework?&#34;  And the primary driver of this family of patterns is to encapsulate the areas that are likely to change.  Related to that encapsulation is the single responsibility principle and making sure each component owns what it should.</p><p>We encapsulate all of the view logic in the <code>View</code> layer so we can more easily change out our UI technology at an appropriate point later on in time.  Likewise with the <code>Model</code> and whatever you choose to use with the middle layer.</p><p>So the answer to your question is to put the appropriate view logic within that layer to make your technology work.  If you&#39;re using winForms, you&#39;ll end up with a lot of code-behind in order to make the form work.  WPF supports data binding and significantly reduces the amount of code-behind.  The logic you put in the <code>View</code> should potentially go away when you change UI technologies.</p><p>Likewise, if you have presentation rules that are not imposed by the UI technology then you&#39;ll put those rules in your middle layer as they need to persist into your next UI.</p><p>I don&#39;t mean to diminish the fact that there are differences between the <code>MV*</code> patterns, and those differences exist for good reason.  But their development was driven by the needs of particular technologies.  You&#39;re using potentially different tech, so use the <code>MV*</code> pattern appropriate for your environment.  The frameworks are there to facilitate future change, not handcuff your current development.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-how-to-set-up-mvp-for-a-winforms-solution/'>C# &#8211; How to set up MVP for a Winforms solution</a></li><li class="list-group-item"><a href='../is-model-view-presenter-mvp-scheme-useful-for-android/'>Is Model-View-Presenter (MVP) scheme useful for Android</a></li><li class="list-group-item"><a href='../best-practices-for-mvp-pattern-on-android/'>Best practices for MVP pattern on Android</a></li><li class="list-group-item"><a href='../mvc-what-are-the-improvements-of-mvp-over-mvc/'>Mvc &#8211; What are the improvements of MVP over MVC</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>