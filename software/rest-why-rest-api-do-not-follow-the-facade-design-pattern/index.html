<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Why REST Api do not follow the Facade design pattern &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066944 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066944" class="post-1066944 software type-software status-publish hentry category-software tag-definition tag-http tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Why REST Api do not follow the Facade design pattern</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">definition</span><span class="mr-2 badge badge-info">http</span><span class="mr-2 badge badge-warning">rest</span></p><div class="entry-content"><p>In comparing REST [api] structure with a OO model, I see these similarities:</p><p>Both:</p><ul><li><p>Are data oriented</p><ul><li>REST = Resources</li><li>OO = Objects</li></ul></li><li><p>Surround operation around data</p><ul><li>REST = surround VERBS (Get, Post, &#8230;) around resources</li><li>OO = promote operation around objects by encapsulation</li></ul></li></ul><p>However, good OO practices do not always stand on REST apis when trying to apply the facade pattern for instance:<br /> in REST, you do not have 1 controller to handle all requests AND you do not hide internal object complexity.</p><p><img src="../../../i.stack.imgur.com/SyVav.png" alt="Simple object relation between 2 concepts"/></p><p><img src="../../../i.stack.imgur.com/1CAFF.png" alt="Analogy between OO and REST"/></p><p>On the contrary, REST promotes resources publishing of all relations with a resource and other on at least two forms:</p><ol><li><p>via resource hierarchy relations (A contact of id 43 is composed of an address 453) : <code>/api/contacts/43/addresses/453</code></p></li><li><p>via links in a REST json response:</p></li></ol><blockquote><pre><code>&gt;&gt; GET /api/contacts/43
&lt;&lt; HTTP Response {
   id: 43, ...
   addresses: [{
      id: 453, ...
   }],
   links: [{
      favoriteAddress: {
          id: 453
      }
   }]
}
</code></pre></blockquote><p><img src="../../../i.stack.imgur.com/xwaSC.png" alt="Basic complexity hidden by objectA"/></p><p>Coming back to OO, the facade design pattern respect a <code>Low Coupling</code> between an <em>objectA</em> and its &#39;<em>objectB client</em>&#39; and <code>High Cohesion</code> for this <em>objectA</em> and its internal object composition (<em>objectC</em>, <em>objectD</em>).  With the <em>objectA</em> interface, this allow a developer to limit impact on <em>objectB</em> of the <em>objectA</em> internal changes (in <em>objectC</em> and <em>objectD</em>), as long as the <em>objectA</em> api (operations) are still respected.</p><p>In REST, the data (resource), the relations (links), and the behavior (verbs) are exploded in different elements and available to the web.</p><p>Playing with REST, I always have an impact on code changes between my client and server:   Because I have <code>High Coupling</code> between my <code>Backbone.js</code> requests and <code>Low Cohesion</code> between resources.</p><p>I never figured out how to let my <code>Backbone.js javascript application</code> deal with &#34;<em>REST resources and features</em>&#34; <strong>discovery</strong> promoted by REST links.  I understand that the WWW is meant to be served by multi servers, and that the OO elements had to be exploded to be serviced by many hosts in there, but for a simple scenario like &#34;saving&#34; a page showing a contact with its addresses, I end up with:</p><blockquote><pre><code>GET /api/contacts/43?embed=(addresses)
[save button pressed]
PUT /api/contacts/43
PUT /api/contacts/43/addresses/453
</code></pre></blockquote><p>which lead me to move the saving action atomic transactional responsibility on the browsers applications (since two resources can be addressed separately).</p><p><em>With this in mind, if I cannot simplify my development (Facade design patterns not applicable), and if I bring more complexity to my client (handling transactional atomic save), where is the benefit of being RESTful ?</em></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think objects are only built correctly around <em>coherent behaviors</em> and not around data. I will provoke and say that data is almost irrelevant in the object oriented world. In fact, it&#39;s possible and sometime common to have objects that never return data, for example &#34;log sinks&#34;, or objects that never return the data they are passed, for example if they calculate statistical properties.</p><p>Let us not confuse the <a href="http://en.wikipedia.org/wiki/Plain_old_data_structure">PODS</a>, (which are little more than structures), and the real objects that have behaviors (like the <code>Contacts</code> class in your example)<sup>1</sup>.</p><p>PODS are basically a convenience used to talk to repositories and business objects. They allow the code to be type safe. No more, no less. Business objects, on the other hand, provide <em>concrete behaviors</em>, like validating your data, or storing it, or using it to perform a calculation.</p><p>So, behaviors are what we use to measure &#34;cohesion&#34;<sup>2</sup>, and it&#39;s easy enough to see that in your object example there is some cohesion, even though you only show methods to manipulate top level contacts and no methods to manipulate addresses.</p><p>Regarding REST, you can see REST services as data repositories. The big difference with object oriented design is that there is (almost) only one design choice: you have four basic methods (more if you count <code>HEAD</code>, for example) and of course you have a lot of leeway with the URIs so you can do nifty stuff like pass <em>many</em> ids and get a larger structure back. Do not confuse the <em>data</em> they pass with the <em>operations</em> they perform. Cohesion and coupling are about <em>code</em> and not <em>data</em>.</p><p>Clearly, REST services have high cohesion (every way to interact with a resource is in the same place) and low coupling (every resource repository does not require knowledge of the others).</p><p>The basic fact remains, though, REST is essentially a <em>single repository pattern</em> for your data. This has consequences, because it&#39;s a paradigm built around easy accessibility over a slow medium, where there is a high cost for &#34;chattiness&#34;: clients typically want to perform as few operations as possible, but at the same time only receive the data they need. This determines how deep an data tree you are going to send back.</p><p>In (correct) object oriented design, any non-trivial application will do much more complex operations, for example through composition. You could have methods for doing more specialized operations with the data -- which must be so, because while REST is an API protocol, OOD is used to build entire user facing applications! This is why measuring cohesion and coupling is fundamental in OOD, but almost insignificant in REST.</p><p>It should be obvious by now that analyzing data design <em>with OO concepts</em> is not a reliable way to measure it: it&#39;s like comparing apples and oranges!</p><p>In fact, it turns out that the benefits of being RESTful are (mostly) the ones outlined above: it&#39;s a good pattern for simple APIs over a slow medium. It is very cacheable, and shardable. It has fine grained control over chattiness, etc.</p><p>I hope this answers your (quite multifaceted) question :-)</p><hr/><p><sup><sup>1</sup> This problem is part of a larger set of problems known as <a href="http://en.wikipedia.org/wiki/Object-relational_impedance_mismatch">Object-Relational impedance mismatch</a>. Proponents of ORMs are generally in the camp that explores the <em>similarities</em> between data analysis and behavior analysis, but ORMs have fallen under criticism of late because they seem not to really resolve the impedance mismatch and are <a href="http://martinfowler.com/bliki/OrmHate.html">considered leaky abstractions</a>.</sup></p><p><sup><sup>2</sup> <a href="http://en.wikipedia.org/wiki/Cohesion_(computer_science)">http://en.wikipedia.org/wiki/Cohesion_(computer_science)</a></sup></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-api-concepts/'>REST API concepts</a></li><li class="list-group-item"><a href='../rest-how-to-handle-business-rules-with-a-rest-api/'>Rest &#8211; How to handle business rules with a REST API</a></li><li class="list-group-item"><a href='../rest-what-are-the-standards-for-having-nested-resources-in-rest-api/'>Rest &#8211; What are the standards for having nested resources in REST API</a></li><li class="list-group-item"><a href='../rest-conceptual-mismatch-between-ddd-application-services-and-rest-api/'>Rest &#8211; Conceptual mismatch between DDD Application Services and REST API</a></li><li class="list-group-item"><a href='../rest-using-304-not-modified-and-if-modified-since-on-a-rest-api-as-a-cache-strategy/'>Rest &#8211; Using `304 Not Modified` and `If-Modified-Since` on a REST API as a cache strategy</a></li><li class="list-group-item"><a href='../javascript-rest-api-design-patterns/'>Javascript &#8211; REST Api Design Patterns</a></li><li class="list-group-item"><a href='../rest-consequences-of-not-doing-a-rest-api-the-right-way/'>Rest &#8211; Consequences of not doing a REST API the &#8220;right&#8221; way</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>