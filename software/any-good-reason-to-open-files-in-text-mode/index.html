<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Any good reason to open files in text mode &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084768 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084768" class="post-1084768 software type-software status-publish hentry category-software tag-file-handling tag-parsing tag-portability"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Any good reason to open files in text mode</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">file handling</span><span class="mr-2 badge badge-info">parsing</span><span class="mr-2 badge badge-warning">portability</span></p><div class="entry-content"><p>(Almost-)POSIX-compliant operating systems and Windows are known to distinguish between &#39;binary mode&#39; and &#39;text mode&#39; file I/O. While the former mode doesn&#39;t transform any data between the actual file or stream and the application, the latter &#39;translates&#39; the contents to some standard format in a platform-specific manner: line endings are transparently translated to <code>&#39;\n&#39;</code> in C, and some platforms (CP/M, DOS and Windows) cut off a file when a byte with value <code>0x1A</code> is found.</p><p>These transformations seem a little useless to me.</p><p>People share files between computers with different operating systems. Text mode would cause some data to be handled differently across some platforms, so when this matters, one would probably use binary mode instead.</p><p>As an example: while Windows uses the sequence <code>CR LF</code> to end a line in text mode, UNIX text mode will not treat <code>CR</code> as part of the line ending sequence. Applications would have to filter that noise themselves. Older Mac versions only use <code>CR</code> in text mode as line endings, so neither UNIX nor Windows would understand its files. If this matters, a portable application would probably implement the parsing by itself instead of using text mode.</p><p>Implementing newline interpretation in the parser might also remove some overhead of using text mode, as buffers would need to be rewritten (and possibly resized) before returning to the application, while this may be less efficient than when it would happen in the application instead.</p><p>So, my question is: is there any good reason to still rely on the host OS to translate line endings and file truncation?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Without the translation, every Unix text-processing program would recognize just <code>&#39;\n&#39;</code> as an end-of-line marker, and every Windows text-processing program would recognize <code>&#39;\r&#39;</code> followed by <code>&#39;\n&#39;</code>.  (And pre-OSX Mac programs would recognize <code>&#39;\r&#39;</code>.)  And any program that <em>writes</em> text would have to explicitly write the local end-of-line marker, which means it would have to be aware of what OS it&#39;s running on.</p><p>And that just covers the relatively simple cases where an end-of-line is indicated by a sequence of characters.  Other schemes are common (though less so these days); see IBM mainframes and VMS, for example.</p><p>With the translation, programs can just treat text as text, and we don&#39;t need three or more different &#34;hello, world&#34; programs.</p><p>This does sometimes cause problems when you need to process a foreign file (a Windows text file that&#39;s been copied to a Unix system, or vice versa).  Cygwin, a Unix-like environment running under Windows, is a rich source of such issues.  But usually the best solution is to translate the file before processing it.  And most of the time, programs deal with text files that were created on the same OS anyway.</p><p>It&#39;s better to write one program that can translate between formats, than to require <em>every</em> program to deal with all different formats.  And inevitably someone would write a tool that understand Unix and Windows formats, but breaks when confronted with an old Mac text file, and someone else would get the interpretation just a little bit wrong because the wheel they reinvented wasn&#39;t <em>perfectly</em> round.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../difference-between-n-and-rn/'>Difference between &#8216;\n&#8217; and &#8216;\r\n&#8217;</a></li><li class="list-group-item"><a href='../java-how-to-design-an-application-that-read-files-using-mvc-pattern/'>Java &#8211; How to design an application that read files using MVC pattern</a></li><li class="list-group-item"><a href='../java-how-to-simulate-inner-join-on-very-large-files-in-java-without-running-out-of-memory/'>Java &#8211; How to simulate inner join on very large files in java (without running out of memory)</a></li><li class="list-group-item"><a href='../approach-for-parsing-and-indexing-very-large-files/'>Approach for parsing and indexing very large files</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>