<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Is it a bad practice to have a &#8220;record status&#8221; column in a database table &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067327 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067327" class="post-1067327 software type-software status-publish hentry category-software tag-database-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Is it a bad practice to have a &#8220;record status&#8221; column in a database table</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">database-design</span></p><div class="entry-content"><p>I have to clarify first that the status column is <strong>not</strong> intended to reflect the status of a <em>real-world item</em> represented by the record (row) in the table. Rather, it is intended to show the status of the record itself.</p><p>It can be as simple as Active/Inactive or complicated like Approved/Deleted/Locked/Pending/Rejected, etc. The status can be stored on a boolean/short integer column or a single-character column, with mappings like <code>true</code>/<code>1</code> = Active or <code>A</code> = Approved.</p><p>The basic idea is to have a recycle bin/trash-like recovery support in the application (and simulate it in the database). If there is a front-end GUI or other interface that can supposedly let a user &#34;delete&#34; records, it doesn&#39;t actually delete the record in the table, but simply changes the record status to Inactive or Deleted. When the interface fetches records, it always gets the records that only match the condition that the status is Active or Approved.</p><p>If the user makes a mistake and the &#34;deleted&#34; record (in user&#39;s perspective) needs to be recovered, a DBA can easily patch the record back to being Active or Approved, which would be better than searching for backups and hopefully finding the original record there. Or the interface itself can let the user view deleted records in a separate view, and restore them as needed, or even permanently delete them (deleting the actual record).</p><p><strong>My questions:</strong></p><ul><li>Is this a good practice, or a bad practice?</li><li>Does it affect normalization of the data?</li><li>What are the potential pitfalls?</li><li>Is there any alternative method of achieving the same goal? (see note)</li><li>How can you have the database enforce unique constraints on the data for a certain status only (but allow any number of duplicates for other statuses)?</li><li>Why don&#39;t databases provide a &#34;recycle bin&#34;-like feature or table-tracking/recovery natively, so we can let interfaces delete the actual records without worry?</li></ul><p><em>Note:</em> I read about maintaining a separate history table but that seems worse in terms of storage and having to generate triggers and keep the triggers up-to-date with the tracked table&#39;s schema.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I know this as a &#34;Soft Delete&#34;; just marking a record as &#34;deleted&#34;, even though it really isn&#39;t.</p><blockquote><p>Is this a good practice, or a bad practice?</p></blockquote><p>It depends.<br/> If this is something that your users need [a lot] then it&#39;s probably a good thing.  In the vast majority of cases, though, I would argue that it&#39;s adding [a lot of] overhead for little benefit.</p><blockquote><p>Does it affect normalization of the data?</p></blockquote><p>No, but it <em>will</em> affect your Indexing of that data.<br/> Ensure that you include the &#34;deleted&#34; column in your indexes, so that these rows get excluded as early as possible in your queries.</p><blockquote><p>What are the potential pitfalls?</p></blockquote><p>Your data becomes a little more complex.  Everything that goes anywhere near the data needs to &#34;know&#34; about these extra, &#34;not-really-there&#34; records.  Or, you have to create Views on those tables that exclude these rows and use these views in, say, your Reporting Tool of Choice.</p><p>Your database may increase in size.  If you&#39;re not really deleting these rows then they&#39;re still there, taking up space.   This may or may not be an issue, especially since you&#39;ve included them in your indexes, so the space they consume is multiplied up.</p><blockquote><p>Is there any alternative method of achieving the same goal? (see note)</p></blockquote><p>Not really, no.</p><blockquote><p>How can you have the database enforce unique constraints on the data for a certain status only (but allow any number of duplicates for other statuses)?</p></blockquote><p>Not easily.  Declarative Referential Integrity (foreign key clauses) is the cleanest way to implement this and its easy for things like Reporting tools to pick up on these rules to determine the relationships between tables.  Such rules apply to all records, regardless of &#34;status&#34; (and there&#39;s no way around that).</p><p>The alternative is to use Triggers, snippets of procedural code that enforce the referential integrity between tables and do all the clever, conditional stuff that you need.  That&#39;s good for your particular case, but most of the benefits of Declarative R.I. go out of the window - there&#39;s no [externally] detectable relationships between your tables; that&#39;s all &#34;hidden&#34; in the triggers.</p><blockquote><p>Why don&#39;t databases provide a &#34;recycle bin&#34;-like feature or table-tracking/recovery natively, so we can let interfaces delete the actual records without worry?</p></blockquote><p>Why <em>would</em> they?</p><p>These are databases, after all, not file systems or spreadsheets.</p><p>What they do, they [can] do very, very well.</p><p>What they don&#39;t do, there probably hasn&#39;t been much demand for.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-store-record-statuses-like-pending-complete-draft-cancelled/'>How to store record statuses (like pending, complete, draft, cancelled&#8230;)</a></li><li class="list-group-item"><a href='../java-designing-a-system-to-archive-databases-with-referential-integrity/'>Java &#8211; Designing a system to archive databases with referential integrity</a></li><li class="list-group-item"><a href='../database-use-of-booleans-in-a-database/'>Database &#8211; Use of booleans in a database</a></li><li class="list-group-item"><a href='../design-how-to-implement-maker-checker-principle/'>Design &#8211; How to implement maker-checker principle</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>