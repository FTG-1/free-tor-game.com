<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; n&#8217;t a method throw multiple types of checked exceptions &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063633 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063633" class="post-1063633 software type-software status-publish hentry category-software tag-exceptions tag-java tag-static-analysis"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; n&#8217;t a method throw multiple types of checked exceptions</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">exceptions</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">static analysis</span></p><div class="entry-content"><p>We use SonarQube to analyse our Java code and it has this rule (set to critical):</p><blockquote><h3>Public methods should throw at most one checked exception</h3><p>Using checked exceptions forces method callers to deal with errors, either by propagating them or by handling them. This makes those exceptions fully part of the API of the method.</p><p>To keep the complexity for callers reasonable, methods should not throw more than one kind of checked exception.&#34;</p></blockquote><p>Another bit in Sonar has <a href="https://sonar.spring.io/rules/show/squid:S1160">this</a>:</p><blockquote><h3>Public methods should throw at most one checked exception</h3><p>Using checked exceptions forces method callers to deal with errors, either by propagating them or by handling them. This makes those exceptions fully part of the API of the method.</p><p>To keep the complexity for callers reasonable, methods should not throw more than one kind of checked exception.</p><p>The following code:</p><pre><code>public void delete() throws IOException, SQLException {      // Non-Compliant
  /* ... */
}
</code></pre><p>should be refactored into:</p><pre><code>public void delete() throws SomeApplicationLevelException {  // Compliant
    /* ... */
}
</code></pre><p>Overriding methods are not checked by this rule and are allowed to throw several checked exceptions.</p></blockquote><p>I&#39;ve never come across this rule/recommendation in my readings on exception handling and have tried to find some standards, discussions etc. on the topic.  The only thing I&#39;ve found is this from CodeRach: <a href="http://www.coderanch.com/t/637419/java/java/exceptions-method-throw">How many exceptions should a method throw at most?</a></p><p>Is this a well accepted standard?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Lets consider the situation where you have the provided code of:</p><pre><code>public void delete() throws IOException, SQLException {      // Non-Compliant
  /* ... */
}
</code></pre><p>The danger here is that the code that you write to call <code>delete()</code> will look like:</p><pre><code>try {
  foo.delete()
} catch (Exception e) {
  /* ... */
}
</code></pre><p>This is bad too.  And it will be caught with another rule that flags catching the base Exception class.</p><p>The key is to not write code that makes you want to write bad code elsewhere.</p><p>The rule that you are encountering is a rather common one. <a href="http://checkstyle.sourceforge.net/config_design.html">Checkstyle</a> has it in its design rules:</p><blockquote><h2>ThrowsCount</h2><p>Restricts throws statements to a specified count (1 by default).</p><p>Rationale: Exceptions form part of a method&#39;s interface. Declaring a method to throw too many differently rooted exceptions makes exception handling onerous and leads to poor programming practices such as writing code like catch(Exception ex). This check forces developers to put exceptions into a hierarchy such that in the simplest case, only one type of exception need be checked for by a caller but any subclasses can be caught specifically if necessary.</p></blockquote><p>This precisely describes the problem and what the issue is and why you shouldn&#39;t do it.  It is a well accepted standard that many static analysis tools will identify and flag.</p><p>And while you <em>may</em> do it according to language design, and there <em>may</em> be times when it is the right thing to do, it is something that you should see and immediately go &#34;um, why am I doing this?&#34;  It may be acceptable for internal code where everyone is disciplined enough to never <code>catch (Exception e) {}</code>, but more often than not I&#39;ve seen people cut corners especially in internal situations.</p><p>Don&#39;t make people using your class want to write bad code.</p><hr/><p>I should point out that the importance of this is lessened with Java SE 7 and later because a single catch statement can catch multiple exceptions (<a href="http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html">Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking</a> from Oracle).</p><p>With Java 6 and before, you would have code that looked like:</p><pre><code>public void delete() throws IOException, SQLException {
  /* ... */
}
</code></pre><p>and</p><pre><code>try {
  foo.delete()
} catch (IOException ex) {
     logger.log(ex);
     throw ex;
} catch (SQLException ex) {
     logger.log(ex);
     throw ex;
}
</code></pre><p>or</p><pre><code>try {
    foo.delete()
} catch (Exception ex) {
    logger.log(ex);
    throw ex;
}
</code></pre><p>Neither of these options with Java 6 are ideal.  The first approach violates <a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY</a>.  Multiple blocks doing the same thing, again and again - once for each exception.  You want to log the exception and rethrow it?  Ok.  The same lines of code for each exception.</p><p>The second option is worse for several reasons.  First, it means that you are catching all the exceptions.  Null pointer gets caught there (and it shouldn&#39;t).  Furthermore, you are rethrowing an <code>Exception</code> which means that the method signature would be <code>deleteSomething() throws Exception</code> which just makes a mess further up the stack as people using your code are now <em>forced</em> to <code>catch(Exception e)</code>.</p><p>With Java 7, this isn&#39;t <em>as</em> important because you can instead do:</p><pre><code>catch (IOException|SQLException ex) {
    logger.log(ex);
    throw ex;
}
</code></pre><p>Furthermore, the type checking if one <em>does</em> catch the types of the exceptions being thrown:</p><pre><code>public void rethrowException(String exceptionName)
throws IOException, SQLException {
    try {
        foo.delete();
    } catch (Exception e) {
        throw e;
    }
}
</code></pre><p>The type checker will recognize that <code>e</code> may <em>only</em> be of types <code>IOException</code> or <code>SQLException</code>.  I&#39;m still not overly enthusiastic about the use of this style, but it isn&#39;t causing as bad code as it was under Java 6 (where it would force you to have the method signature be the superclass that the exceptions extend).</p><p>Despite all these changes, many static analysis tools (Sonar, PMD, Checkstyle) are still enforcing Java 6 style guides.  It&#39;s not a bad thing.  I tend to agree with a warning these to <em>still</em> be enforced, but you might change the priority on them to major or minor according to how your team prioritizes them.</p><p>If exceptions should be checked or unchecked... that is a matter of <strong><em><a href="http://www.artima.com/intv/handcuffs.html">g</a><a href="http://www.artima.com/intv/solid.html">r</a><a href="http://www.artima.com/interfacedesign/exceptions.html">e</a><a href="http://www.artima.com/intv/typingP.html">a</a><a href="https://web.archive.org/web/20080723180244/http://littletutorials.com/2008/05/06/exceptional-java-checked-exceptions-are-priceless-for-everything-else-there-is-the-the-runtimeexception/">t</a></em></strong> <a href="https://www.google.com/search?q=checked%20vs%20unchecked%20exception%20in%20java">debate</a> that one can easily find countless blog posts taking up each side of the argument.  However, if you are working with checked exceptions, you probably should avoid throwing multiple types, at least under Java 6.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-workaround-for-java-checked-exceptions/'>Java &#8211; Workaround for Java checked exceptions</a></li><li class="list-group-item"><a href='../java-how-does-the-jvm-handle-an-exception-thrown-by-the-main-method/'>Java &#8211; How does the JVM handle an exception thrown by the main method</a></li><li class="list-group-item"><a href='../java-why-throw-exception-that-is-subclass-of-another-exception-also-thrown/'>Java &#8211; Why throw exception that is subclass of another exception also thrown</a></li><li class="list-group-item"><a href='../c-exceptions-and-libraries/'>C# &#8211; Exceptions and libraries</a></li><li class="list-group-item"><a href='../java-why-do-checked-exceptions-i-e-value-or-error-return-values-work-well-in-rust-and-go-but-not-in-java/'>Java &#8211; Why do &#8220;checked exceptions&#8221;, i.e., &#8220;value-or-error return values&#8221;, work well in Rust and Go but not in Java</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>