<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Using `304 Not Modified` and `If-Modified-Since` on a REST API as a cache strategy &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082321 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082321" class="post-1082321 software type-software status-publish hentry category-software tag-caching tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Using `304 Not Modified` and `If-Modified-Since` on a REST API as a cache strategy</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">caching</span><span class="mr-2 badge badge-info">rest</span></p><div class="entry-content"><p>I have the following scenario: a client app that consumes a REST API. The client is a mobile application. Therefore, it caches the API data for bandwidth saving and offline support.</p><p>With REST it can be done using the <code>If-Modified-Since</code> header. It is, the cache management system from the client side stores the <code>HTTP-Date</code> and send it as a Header within the request to the API, in which, is made a check and happen to send a &#39;304 Not Modified&#39; status in case the resource haven&#39;t been modified since the specified data.</p><blockquote><p><em>The &#34;If-Modified-Since&#34; header field makes a GET or HEAD request<br /> method conditional on the selected representation&#39;s modification date<br /> being more recent than the date provided in the field-value.<br /> Transfer of the selected representation&#39;s data is avoided if that<br /> data has not changed</em> (<a href="https://www.rfc-editor.org/rfc/rfc7232#section-3.3" rel="nofollow noreferrer">rfc7232#section-3.3 If-Modified-Since</a>).</p></blockquote><p>Assuming that, by &#34;resources&#34;, it could be either a collection or a single record, the modified date would be the resource modified date (i.e., if it&#39;s a collection of records, the date would be the entire collection modified date). So, internally it&#39;d make a database query to check if the record or the collection was modified since then and produce a proper response.</p><p>So far, this is how I intend to implement the caching strategy, as much REST as I can.</p><p>Problem is, it&#39;s a high impact design decision, and I&#39;m not sure if it&#39;s a good approach or if there&#39;s a better way of implementing this. All the idea is based on logic and a little REST knowledge and I couldn&#39;t find any resource on how to implement this.</p><p>I&#39;d like some critique on this model, whether it&#39;s good enough, have a better approach or even some caveats to improve the current idea, would be all appreciated.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><code>If-Modified-Since</code> works well for single resources where it is quick and easy to determine if the resource has been modified.  For example, HTTP servers have this functionality baked in for static files since it can use the file&#39;s timestamp.  The general concept is that processing the resource is more expensive than determining it&#39;s modification date.  I would consider it for single resources, but not for collections.</p><p>There are several caching schemes to choose from, and you should only use the most appropriate one to solve the need.  In some cases, caching is detrimental.  Examples:</p><ul><li>The results are bound to change each request (i.e. high rate of change)</li><li>Proxies can break caching schemes that are user specific (i.e. an inbox scenario)</li><li>The cost of determining if the item is newer is the same as retrieving it (i.e. the difference in time to just check a date and get a whole record from a database is usually negligible, but making 2 queries when one will do actually makes things worse)</li></ul><p>I&#39;ve been bitten by a number of proxy-induced caching bugs, particularly old and not well maintained proxy servers in customer networks.  Test with multiple users to make sure that your caching efforts don&#39;t actually make things worse.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-proper-response-for-a-rest-insert-full-new-record-or-just-the-record-id-value/'>Rest &#8211; Proper response for a REST insert &#8211; full new record, or just the record id value</a></li><li class="list-group-item"><a href='../rest-why-rest-api-do-not-follow-the-facade-design-pattern/'>Rest &#8211; Why REST Api do not follow the Facade design pattern</a></li><li class="list-group-item"><a href='../rest-how-to-acquire-data-and-render-page-in-context-of-rest-api-application/'>Rest &#8211; How to acquire data and render page in context of REST/API application</a></li><li class="list-group-item"><a href='../rest-api-design-dilemma-to-rest-or-not-to-rest/'>Rest &#8211; API design dilemma: to REST or not to REST</a></li><li class="list-group-item"><a href='../rest-api-caching-strategy-for-collection-of-records/'>REST API caching strategy for collection of records</a></li><li class="list-group-item"><a href='../java-rest-api-and-resource-authorization/'>Java &#8211; Rest API and resource authorization</a></li><li class="list-group-item"><a href='../rest-does-it-make-sense-for-user-agent-to-be-required-for-rest-apis/'>Rest &#8211; Does it make sense for User-Agent to be required for REST APIs</a></li><li class="list-group-item"><a href='../rest-trouble-designing-rest-api-that-uses-both-long-running-jobs-and-partial-update/'>Rest &#8211; Trouble designing REST API that uses both long-running jobs, and partial update</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>