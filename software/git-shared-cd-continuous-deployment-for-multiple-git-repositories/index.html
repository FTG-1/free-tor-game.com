<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Git &#8211; shared CD (Continuous Deployment) for multiple Git repositories &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077101 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077101" class="post-1077101 software type-software status-publish hentry category-software tag-continuous-integration tag-continuous-delivery tag-git tag-jenkins tag-repository"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Git &#8211; shared CD (Continuous Deployment) for multiple Git repositories</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">continuous integration</span><span class="mr-2 badge badge-info">continuous-delivery</span><span class="mr-2 badge badge-warning">git</span><span class="mr-2 badge badge-primary">Jenkins</span><span class="mr-2 badge badge-danger">repository</span></p><div class="entry-content"><h3>Long story short</h3><p>What is the best way to design a shared CD for multiple Git repositories (frontend and backend)?</p><hr/><p>I&#39;m struggling to find the best design for our CD.</p><h3>The whole picture (The details can be changed)</h3><ul><li>Frontend &#8211; Angular 2 (Javascript), no artifactory.</li><li>There will be only a single frontend in the project.</li><li>Backend &#8211; ASP.NET (C#), no artifactory.</li><li>There will be only a single backend in the project.</li><li>Git repository on Git TFS for each.</li><li>Server for Jenkins.</li><li>Multiple machines, <code>Dgroup</code>, for deploying the last version from branch <code>development</code> from both the repositories &#8211; a playground for each developer.</li></ul><h3>My goals:</h3><ol><li><p><code>development</code> branch must be protected by pull request and build must pass. In more details: Jenkins need to confirm that the last version of the branch who activated the pull request os compiled and the tests of his repository are pass. Also the integration tests with the other repository won&#39;t fail(The tests of the frontend). Meaning for each pull request in every repository, Jenkins need to &#34;unified&#34; the build for both the repositories. If every test of each repository passes, then the pull request is ready to be approved. Else, the pull request is denied.</p></li><li><p>After each approved pull request, <code>Dgroup</code>machines should be updated to have the latest version of the product (services + frontend files).</p></li></ol><h3>Flaws:</h3><p>I can&#39;t find a way to achieve my first goal from multiple reasons:</p><ol><li><p>The frontend can&#39;t push any new feature from the beginning until the backend will finish the same feature from his side, else some frontend&#39;s tests won&#39;t pass. I don&#39;t know how it will effect the workflow of the frontend and if it is the best practice.</p></li><li><p>Imagine a situation when the <code>development</code> branch in both the repositories is broken but no1 yet wrote the right test that will find the bugs (For now the build passes). Now the frontend create a pull request which contain a test that find a bug in the backend. So the build don&#39;t pass so automatically his pull request is denied.<br /> Â <br /> Now the backend fix the problem and try to pull request. Now his change also fail a test of the frontend. So his pull request also denied.<strong>As a result no one can pull request anymore.</strong></p></li></ol><hr/><p>My CD design, which I did not describe due to the flaws, prevent me from going forward. What is the best practice to design a CD for multiple Git repositories?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>IMHO the root cause of your problem is attempting to manage an entire system (frontend + backend) while still allowing each one of the parts to move independently and without the proper tool support for it.</p><p>A better (IMHO) approach would be to design your CI/CD approach with the system in mind. Any change to either part of the system (or a combination thereof) should always go through testing the entire system. This way you ensure the focus always remains on the entire system&#39;s integrity. I know, this goes against the micros-services trend (which I&#39;m not very fond of, one of the reasons being exactly because they leave room for this kind of problems), but it is fundamentally what IMHO you need.</p><p>The complication is that the traditional CI tools, Jenkins included, aren&#39;t really designed for such approach. You could try to tweak it, but I imagine it&#39;s not an easy task.</p><p>Another problem is what I&#39;d call absolute verifications vs just regression (or delta, if you want) verifications: for example you shouldn&#39;t reject a change to the frontend if verifications fails testing because the backend portion is not done - that testing didn&#39;t pass before, thus it&#39;s not a regression. Only after both the frontend and the backend functionalities were completed and the test managed to pass at least once a test failure should be blocking the commit - because it is now a regression. Donno if Jenkins supports such functionality.</p><p>You <em>might</em> want to take a look at <a href="https://apartci.apartsw.com/" rel="nofollow noreferrer">ApartCI</a>, it was designed with such system-oriented development in mind. Disclaimer: I designed it and I am the founder of the company offering it.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../continuous-integration-deployment-test-on-commit-pull-request-or-what/'>Continuous Integration / Deployment: Test on commit, pull request, or what</a></li><li class="list-group-item"><a href='../git-working-on-a-branch-with-a-dependence-on-another-branch-that-is-being-reviewed/'>Git &#8211; Working on a branch with a dependence on another branch that is being reviewed</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>