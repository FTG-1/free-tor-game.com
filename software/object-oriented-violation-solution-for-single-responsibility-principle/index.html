<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Violation &#038; Solution for Single Responsibility Principle &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072784 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072784" class="post-1072784 software type-software status-publish hentry category-software tag-design-patterns tag-object-oriented tag-object-oriented-design tag-patterns-and-practices tag-solid"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Violation &#038; Solution for Single Responsibility Principle</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">object-oriented</span><span class="mr-2 badge badge-warning">object-oriented-design</span><span class="mr-2 badge badge-primary">patterns-and-practices</span><span class="mr-2 badge badge-danger">solid</span></p><div class="entry-content"><p><strong>EDIT</strong> <em>2017/02/13</em> &#8211; Check the <a href="https://github.com/learnasyougo/S.O.L.I.D" rel="nofollow noreferrer">repo</a> as it is now. The first example is solving with <em>SRP</em> in mind, but later on introducing other principles of <em>SOLID</em>.. I should&#39;ve explained that better.</p><hr/><p>I&#39;m trying to get a good example down of a violation and how to solve the SR principle. I want to be sure however it is good, and that I&#39;m not writing down anything that doesn&#39;t make sense &#8211; so any input is welcome, or how I could better explain this. I&#39;m doing this to <strong>teach myself and understand the &#34;S&#34; of SOLID better</strong> by theory and example.</p><p>Here&#39;s the example: <a href="https://github.com/learnasyougo/S.O.L.I.D#single-responsibility-principle" rel="nofollow noreferrer">https://github.com/learnasyougo/S.O.L.I.D#single-responsibility-principle</a> &#8211; or below as a reference.</p><hr/><h2>Single Responsibility Principle</h2><blockquote><p>A class should only have only one reason to change.</p></blockquote><h3>Violation example</h3><p>Class <code>Person</code> is responsible for holding person related data, it also holds has a function <code>Format</code> which outputs this person data to a given format. Currently this method accepts a parameter on which the function decides which algorithm to use return the data in the required format.</p><p>The example below <strong>violates</strong> the <strong>single responsibility principle</strong> because the class <code>Person</code> now is responsible for keeping data of of the person <strong>and</strong> formatting that data.</p><pre><code>class Person {
    public string FirstName { get; set; }
    public string LastName  { get; set; }
    public Gender Gender { get; set; }
    public DateTime DateOfBirth { get; set; }
    public string Format(string formatType) {
        switch(formatType) {
            case &#34;JSON&#34;:
               // implement JSON formatting here
               return jsonFormattedString;
               break;
            case &#34;FirstAndLastName&#34;:
              // implementation of first &amp; lastname formatting here
              return firstAndLastNameString;
              break;
            default:
              // implementation of default formatting
              return defaultFormattedString;
        }
    }
}
</code></pre><h3>How to fix?</h3><p>We can solve this by making sure that the class <code>Person</code> is only responsible for keeping the data and not responsible for formatting that data. Thus we will extract out the method <code>Format</code> and introduce another class that is responsible for formatting a book.</p><pre><code>class PersonFormatter {
    public string Format(Person person, string formatType) {
        switch(formatType) {
            case &#34;JSON&#34;:
               // implement JSON formatting here
               return jsonFormattedString;
               break;
            case &#34;FirstAndLastName&#34;:
              // implementation of first &amp; lastname formatting here
              return firstAndLastNameString;
              break;
            default:
              // implementation of default formatting
              return defaultFormattedString;
        }
    }
}



class Person {
    public string FirstName { get; set; }
    public string LastName  { get; set; }
    public Gender Gender { get; set; }
    public DateTime DateOfBirth { get; set; }
}
</code></pre><p>We could argue that this example still holds <strong>violations</strong> against <strong>SOLID</strong>, and that is true. As the <code>format</code> method itself still holds too much responsabilities as it has to implements too much details on how it is being formatted. We&#39;ll solve this later one with oneor more of the other principles: namely the <strong>Dependency Inversion</strong> principle and the <strong>Interface Segragation Principle</strong>. But at least now we can change the implementation of the formatting of a Person without affecting the Person class itself &#8211; as the SRP states.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Firstly don&#39;t use a string argument to decide which type of format you want, it will make the rest look bad and it is very prone to errors the compiler cannot catch.</p><p>Secondly there is nothing wrong with an object holding data being able to format itself. The rest of the code should ideally not have to worry about which members the object has. You don&#39;t want to have to change 100 places just because you added a middle name.</p><p>Thirdly, and this is where the single responsibility comes into play, a person instance should not know how to json itself. It should only know of something it can call with the information in itself (firstname, lastname etc.) turning it all into json. It might need to create a collection of fieldnames and values and pass that to the json creator.</p><p>So create a general class that any class can use when it has to json itself that adds the brackets, delimiters etc.</p><p>And you should not have all the logic inside the general format method, split it up into a method for each type and call those from the general format method.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../is-the-mediator-layer-a-sensible-way-to-manage-this-scenario-using-the-single-responsibility-principle/'>Is the mediator layer a sensible way to manage this scenario using the Single Responsibility Principle</a></li><li class="list-group-item"><a href='../object-oriented-is-this-a-single-responsibility-principle-violation/'>Object-oriented &#8211; Is this a Single Responsibility Principle violation</a></li><li class="list-group-item"><a href='../design-single-responsibility-principle-violation/'>Design &#8211; Single Responsibility Principle Violation</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>