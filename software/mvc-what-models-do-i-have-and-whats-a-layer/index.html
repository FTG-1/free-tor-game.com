<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Mvc &#8211; What models do I have? And what&#8217;s a layer &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1087295 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1087295" class="post-1087295 software type-software status-publish hentry category-software tag-asp-net-core tag-asp-net-mvc tag-mvc"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Mvc &#8211; What models do I have? And what&#8217;s a layer</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">asp.net-core</span><span class="mr-2 badge badge-info">asp.net-mvc</span><span class="mr-2 badge badge-warning">mvc</span></p><div class="entry-content"><p>I&#39;ve gone through a few tutorials in ASP.NET Core MVC, and I&#39;ve built a little app (for looking at problems in old exams) that looks roughly like this:</p><pre><code>Solution
    Project
        ...
        Models
            Exam.cs
            Problem.cs
            SubProblem.cs
        Views
            Exam
                Index.cshtml
                Problem.cshtml
            Shared
        Controllers
            ExamController.cs
        Data
            ExamsContext.cs
            DbInitializer.cs
        Migrations
        ...
</code></pre><p>Now I asked the question, <a href="https://softwareengineering.stackexchange.com/questions/352190/where-to-put-methods-in-a-net-core-mvc-web-app/352193?noredirect=1#comment759725_352193">Where to put methods in a .NET Core MVC Web app?</a> and got a few answers. Mainly that <em>The business logic should only be in the Model because this logic is technology-agnostic.</em></p><p>Now I asked if this means that I should add methods to my Models (<code>Exam.cs</code>, <code>Problem.cs</code>, etc.). Wheras I got an explanation of layers, what Data Access Layer and Business Model is and what they are for.</p><hr/><p>Apparently, the DAL should communicate with the database and not contain any logic methods. In C#, these classes often have the form of a POCO. Also, this <strong><em>layer</em></strong> is part of the Model (in the MVC sense).</p><p>To me, this sounds a lot like the classes I have in my Model-folder, they are POCO&#39;s without methods used to communicate with the database?</p><hr/><p>The Business model is apparently the thing that should reflect the business reality. This is where I should add my business logic, decoupled from the database and the UI. This <strong><em>layer</em></strong> is also part of the Model (in the MVC sense).</p><p>To me this sounds almost like the classes I have in my Model folder, though they aren&#39;t really decoupled from the database (are they) I mean they get connected to the database through the DbContext don&#39;t they?</p><hr/><p>I still don&#39;t really feel I&#39;ve understood how I am to implement these things into my solution above. Though I didn&#39;t wish to bloat my previous question with repeated follow up questions so I thought I&#39;d ask new questions:</p><ul><li><p>What are the models I have in my project called? Are they some form of &#34;model&#34; connected to the DAL? Are they my &#34;Business Models&#34;? Are they some third kind of model? The tutorials described it like the models were only code-first representations of the tables in my relational database.</p></li><li><p>How would I go about implementing all of these layers and other models into my solution? What would that roughly even look like?</p></li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Taking into consideration this quote from <a href="https://softwareengineering.stackexchange.com/questions/352190/where-to-put-methods-in-a-net-core-mvc-web-app/352193?noredirect=1#comment759725_352193">the accepted answer from your original question</a>:</p><blockquote><p>Here&#39;s how I see the different layers (note for experienced readers: I&#39;ve willingly simplified to make it understandable for the OP):</p><p>View &lt;==&gt; Controller &lt;==&gt; Business model &lt;==&gt; Data access</p></blockquote><p>And taking into consideration <a href="https://softwareengineering.stackexchange.com/questions/339999/repository-pattern-and-database-queries/340004#340004">this answer from me on an old question regarding the repository pattern</a>, I think that you&#39;re missing a fundamental point to understand the layering or clean architecture of an ASP.Net MVC application.</p><p>And the key concept here is <strong>UI is a big layer</strong>. Breath. Calm down. I&#39;ll explain shortly.</p><p>Think of all the business rules of your application, what should it do, who will operate it. Done that ? Good.</p><p>Not implement everything using a command-line interface. Create a .Net Console Application and try to run everything you need from that console application. Do you need to add an Exam ? Good. Create an Exam entity, a ExamRepository repository, make this repository talk to your DAL (be it a lightweight ORM like Dapper or Linq To SQL or Entity Framework or NHibernate, but I&#39;d stick with Dapper for the beginning).</p><p>Your repository should do your <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" rel="nofollow noreferrer">CRUD operations</a> for you. No thinking, just manipulating the DAL to do the &#34;low level&#34; stuff.</p><p>Now, create a &#34;business&#34; object, like a ExamBusiness. This object may have your business rules implemented, like &#34;an Exam must always have a student name and student name must have at least 3 characters&#34; kind of stuff. Your business object calls your repository in order to save and retrieve data.</p><p>Now, a small change to your Console Application: Make it talk only to your Business object. Nothing more, nothing else. Your Console App should not talk to your DAL or your Repository directly.</p><p>Done that ? Good. Your application is done. Your business rules are implemented. Everything is functional. Except for one tiny detail: How your user will interact with your application.</p><p>Enters ASP.Net MVC. Or Windows Forms. Or Console App. Or WPF Service. But for all intended purposes, let&#39;s stick with ASP.Net MVC here.</p><p>In this example, <strong>ASP.Net MVC is just the UI layer</strong>. It presents Exams to users, and let users change these Exams somehow. To make things more graphic:</p><pre><code>+-----------------+---+-------------+
| UI              | E | ASP.Net MVC |
+-----------------+ n +-------------+
| Business        | t | Another     |
+-----------------+ i | project on  |
| Repository      | t | your .Net   |
+-----------------+ y | solution.   |
| DAL             |   |             |
+-----------------+---+-------------+
</code></pre><p>But what about my Models on ASP.Net MVC ? Well they&#39;re what you should show to the user on the HTML pages. You have on your Business Objects an Entity called Exam. But do your Exam entity has all the fields necessary to be shown to the user ? What about foreign keys ? You&#39;ll need a student name for showing the exam, but you don&#39;t need the name to persist an exam, you just need the id ?</p><p>It seems that the default naming of the Models on an ASP.Net MVC application is a poor convention. What they really are are <a href="https://stackoverflow.com/questions/11064316/what-is-viewmodel-in-mvc">ViewModels</a>, and not &#34;real&#34; Models. They are what you need to interact with the user, not the bare minimum you need for your application to work.</p><p>Bottom lines:</p><ol><li>Your Domain should be on another Class Library, do you can
decouple your UI from the problem you&#39;re trying to solve;</li><li>UI layer is huge. And it should be huge, giving it&#39;s importance;</li><li>The sample above is based on <a href="https://en.wikipedia.org/wiki/Anemic_domain_model" rel="nofollow noreferrer">Anaemic Domain Model</a> and <a href="https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html" rel="nofollow noreferrer">Clean
Architecture</a>. There are advocates for and against both, but you
need to know that they exist and are tools you can use to advance your
learning;</li><li>There is no <a href="https://en.wikipedia.org/wiki/No_Silver_Bullet" rel="nofollow noreferrer">Silver Bullet</a>. This post shows one way of organizing your solution, and a simple one to help you understand.</li><li>In this example, your Entities are POCOs, and your ViewModels may or may not be POCOs. But the business logic and validation must be on the business objects, that do not have state.</li></ol><p>I hope that helps.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../php-can-rest-api-be-used-as-business-layer/'>Php &#8211; Can REST API be used as business layer</a></li><li class="list-group-item"><a href='../architecture-where-view-models-inside-web-project-of-n-tier-application-should-be-placed/'>Architecture &#8211; Where view models inside Web project of n-tier application should be placed</a></li><li class="list-group-item"><a href='../architecture-repository-pattern-with-service-layer-too-much-separation/'>Architecture &#8211; Repository pattern with service layer &#8211; too much separation</a></li><li class="list-group-item"><a href='../mvc-models-two-very-different-concepts/'>Mvc &#8211; Models: two very different concepts</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>