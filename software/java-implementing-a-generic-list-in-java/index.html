<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Implementing a Generic List in Java &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085066 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085066" class="post-1085066 software type-software status-publish hentry category-software tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Implementing a Generic List in Java</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span></p><div class="entry-content"><p>In an effort to understand Generics in Java (and how to use them), I am trying to implement a list structure using them but have hit a wall.</p><p>Scenario:</p><p>Suppose there is some classes (we&#39;ll call them ClassA, ClassB, and ClassC) which all extend ClassBase. ClassBase is abstract, and simply contains an ID code with appropriate getters and setters. The subclasses add additional attributes, but those aren&#39;t important.</p><p>The list is designed to be able to hold a number of the above sub-classes, and manipulate the list using the common ID attribute. The list needs to be growable, and each list will only contain one type of sub-class (so a list of ClassA, ClassB, or ClassC. No mixed combinations of those).</p><p>Attempt 1:</p><p>I set up my List class like so:</p><pre><code>ClassList&lt;T extends ClassBase&gt;
</code></pre><p>I then declare an array of elements as &#34;private T list[]&#34;, and write the remainder of the class. The signatures for the element getters and setters are as follows, since those might be important:</p><pre><code>public T get(int index)
public void set(int index, T item)
</code></pre><p>Everything appears to be good, except when I go to compile it complains about every instance where I try to recreate the underlying array (in order to shrink/grow it).</p><pre><code>.\test\ListClass.java:10: error: generic array creation
        list = new T[0];
               ^
</code></pre><p>So after some thought and reading the error makes sense, as the compiler doesn&#39;t know what constructors are going to be available (at least that&#39;s how I understand it), so it doesn&#39;t appear that this way will work.</p><p>Attempt 2:</p><p>I keep the same class declaration, but change the internal array to &#34;private ClassBase list[]&#34;, and then adapt my code accordingly. The main change is casting from ClassBase to T and back when necessary. So the getter for instance looks like this:</p><pre><code>public T get(int index)
{
    return (T)(list[index]);
}
</code></pre><p>So now my code compiles and executes, but every instance where I have done the above casting now throws the infamous unchecked warning:</p><pre><code>.\test\ListClass.java:16: warning: [unchecked] unchecked cast
        return (T)(list[index]);
                  ^
</code></pre><p>I can see why the warning is appearing, but at the same time the ListClass controls all means of accessing and manipulating the list, so I can guarantee that only elements of type T are placed in there.</p><p>Problem:</p><p>I suppose I could suppress the warnings. But I am of the belief that they are there for a reason and would prefer to get rid of them the proper way. The problem is I can&#39;t work out what the &#39;proper&#39; way is (or whether infact suppressing the error is the proper way in this case).</p><p>So that&#39;s my question. What is wrong with my design, and how do I fix it?</p><p>Thanks in advance.</p><p>Note:</p><p>Before anyone tells me to use one of the existing generics and stop reinventing the wheel, that&#39;s not the point. My aim isn&#39;t to recreate a replacement for the generic lists, it is to understand generics, and a list like above is about the best example I can think of which clearly shows how they work.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The unchecked cast warning is one of the most problematic, annoying, and ultimately useless warnings issued by java.  I say &#34;ultimately useless&#34; instead of just plain &#34;useless&#34; because it is not entirely without merit, it is good to know that you have an iffy conversion somewhere, but it just so turns out that if you do any work whatsoever with generics in java, you will want to add <code>@SuppressWarnings(&#34;unchecked&#34;)</code> as a macro to your keyboard, that&#39;s how often you will have to be suppressing this warning.</p><p>Essentially, the value of the unchecked warning is that all your iffy conversions will be easily identifiable in your source code because of the <code>@SuppressWarnings(&#34;unchecked&#34;)</code> statements attached to them.</p><p>So, there is nothing wrong with suppressing the unchecked warnings, as long as you know what you are doing.  If you later come across a class cast exception at runtime, you will know that the cause of the problem is probably in the nearest <code>@SuppressWarnings(&#34;unchecked&#34;)</code> statement.</p><p>Just be sure whenever possible to suppress unchecked warnings at the statement level, instead of at the function or at the class level. For some weird reason, java will not allow this:</p><pre><code>@SuppressWarnings(&#34;unchecked&#34;)
return (T)x;
</code></pre><p>so this might tempt you to suppress the warning at the function level and be done with it.  However, this will work:</p><pre><code>@SuppressWarnings(&#34;unchecked&#34;)
T temp = (T)x;
return temp;
</code></pre><p>This way, the warning is localized to the exact statement that contains the iffy conversion, so you know precisely where every single iffy conversion is.  If you suppress at the function or at the class level, then iffy conversions could be anywhere, you would not know.</p><p>That having been said, another very good option that you have is to abandon the idea of creating and manipulating your own array of generic objects, and have your home-grown list class contain Java&#39;s <code>ArrayList&lt;T&gt;</code> instead.  This class exists precisely in order to encapsulate generic arrays, and as <a href="https://softwareengineering.stackexchange.com/a/291155/41811">Michael Borgwardt has already stated</a>, if you look at its source code, you will see that it contains an array of <code>java.lang.Object</code>, and that it is choke full of <code>@SuppressWarnings(&#34;unchecked&#34;)</code> clauses.  The benefit of using it is that it has been thoroughly tested, so all these conversions are known to be good, so you can&#39;t go wrong with it.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-is-it-possible-to-make-some-methods-invisible-non-usable-to-some-classes-in-java/'>Java &#8211; Is it possible to make some methods invisible/non-usable to some classes in Java</a></li><li class="list-group-item"><a href='../java-designing-generic-type-inheritance-hierarchy/'>Java &#8211; Designing generic type inheritance hierarchy</a></li><li class="list-group-item"><a href='../java-can-dto-contain-additional-helper-methods/'>Java &#8211; Can DTO contain additional helper methods</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>