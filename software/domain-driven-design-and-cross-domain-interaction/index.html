<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Domain Driven Design and Cross Domain interaction &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1068122 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1068122" class="post-1068122 software type-software status-publish hentry category-software tag-domain-driven-design tag-domain-model"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Domain Driven Design and Cross Domain interaction</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">domain-driven-design</span><span class="mr-2 badge badge-info">domain-model</span></p><div class="entry-content"><p>I am a relative DDD newbie, but I am reading anything and everything I can get my hands on to boil out and distill my knowledge.</p><p>I came across this DDD question, and one of the answers has me intrigued.</p><p><a href="https://softwareengineering.stackexchange.com/questions/213403/ddd-bounded-contexts-domains?rq=1">DDD Bounded Contexts &amp; Domains?</a></p><p>In one of the answers the poster gives the example of an ecommerce system with products being in at least 2 domains:</p><p>1) Product Catalog<br /> 2) Inventory Management</p><p>OK, that all makes sense, i.e. in your ecommerce front end you are interested in displaying the product information, and not interested in inventory management.</p><p>BUT.  You may want to display the inventory level on the web page, or you may want to display the edition number of the inventory in stock (imagine your inventory is books, magazines etc).  This information comes from the Inventory domain.</p><p>So, how would you handle this?  Would you</p><p>a) Load both the Product domain and the Inventory domain aggregates?<br /> b) Would you hold some properties on your Product domain entity for number in stock, and edition in stock, and then use Domain Events to update these when the Inventory entity is updated?</p><p>One final question.  I know we are meant to forget/ignore the persistence of the domain and just think about the domain.  But just to think this through, in the example above we would end up with potentially 2 DB tables for product catalog and product inventory.  Now, do we use the same identifier in these as it&#39;s the same product.  Or, could we use 1 table and 1 table row for the data and simply map the relevant data onto the aggregate properties?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>You may want to display the inventory level on the web page, or you may want to display the edition number of the inventory in stock (imagine your inventory is books, magazines etc). This information comes from the Inventory domain.</p></blockquote><p>The main thing to notice at this point is that you are talking about a view, which is to say that using stale data is acceptable.</p><p>That being said, you don&#39;t need to be interacting with the aggregates (which are responsible for preventing changes from violating the business invariant), but with a representation of a recent copy of the aggregate&#39;s state.</p><p>So what I would normally expect is a query run against the Product Catalog, and another run against the Inventory, and something to compose the two into the DTO that you need to support the view.</p><blockquote><p>Load both the Product domain and the Inventory domain aggregates?</p></blockquote><p>So that&#39;s <em>close</em>.  We don&#39;t need to load the aggregates, because we aren&#39;t going to change anything.  But we need their state; so we could load that.  That said, I would normally expect the two domains to be running in different processes.  Therefore, we&#39;d be calling both, not loading both.</p><blockquote><p>Would you hold some properties on your Product domain entity for number in stock, and edition in stock, and then use Domain Events to update these when the Inventory entity is updated?</p></blockquote><p>&#34;Don&#39;t cross the streams.  It would be bad.&#34;</p><p>Using events to coordinate information across domain contexts: <em>great</em> idea.  Pushing concepts that belong in one domain into another: opposite of a great idea, except more so.</p><p>You want to keep the domains clean.  The <em>applications</em> that interact with the domains, it&#39;s not so important.  So for instance, it is reasonable for the Inventory application to call a service in the product application to query some product specific concepts to add to a view.  Or vice versa.</p><p>I don&#39;t know of any reason that a single application needs to be restricted to a single domain.  So long as there is a single source of truth, you can distribute the transactions any way you like.</p><blockquote><p>But just to think this through, in the example above we would end up with potentially 2 DB tables for product catalog and product inventory. Now, do we use the same identifier in these as it&#39;s the same product.</p></blockquote><p>That would be the easy way.  In larger terms, you use the same identifier because the real world entity is the same; the two different bounded contexts <em>model</em> that entity differently, but the model isn&#39;t the real world entity.</p><p>When that doesn&#39;t work, then you&#39;ll need some query to use to bridge the gap.  I think the most common variation of this is that the newer entity preserves the id of the older entity.  You&#39;ll see this within a single BC as well: applicants, when approved, become clients.  It&#39;s a different aggregate (the state associated with a client is subject to a different invariant than that of the applicant); so if your persistence layer is using event streams, the stream for the new aggregate will need a different identifier.  So there will be a bit of state somewhere that says &#34;this applicant became this client&#34;.</p><blockquote><p>Or, could we use 1 table and 1 table row for the data and simply map the relevant data onto the aggregate properties?</p></blockquote><p><em>YIKES!</em> No, don&#39;t do that.  You&#39;re adding transaction contention without any business reason for doing so.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-formulate-the-domain-model-in-domain-driven-design-properly-bounded-contexts-domains/'>How to formulate the Domain Model in Domain Driven Design properly (Bounded Contexts, Domains)</a></li><li class="list-group-item"><a href='../design-what-do-i-use-as-an-alternative-to-domain-driven-design-if-i-cannot-define-a-competitive-advantage-area-of-the-system-to-apply-it/'>Design &#8211; What do I use as an alternative to Domain-Driven Design, if I cannot define a Competitive-Advantage area of the system to apply it</a></li><li class="list-group-item"><a href='../inventory-pricing-and-product-catalog-communication/'>Inventory, Pricing and Product Catalog communication</a></li><li class="list-group-item"><a href='../c-pitfalls-of-domain-driven-design-with-entity-framework/'>C# &#8211; Pitfalls of Domain Driven Design with Entity Framework</a></li><li class="list-group-item"><a href='../c-domain-driven-design-navigation-properties-and-aggregate/'>C# &#8211; Domain Driven Design // Navigation Properties and Aggregate</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>