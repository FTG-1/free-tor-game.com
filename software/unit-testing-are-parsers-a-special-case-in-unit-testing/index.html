<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Unit-testing &#8211; Are parsers a special case in unit testing &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083883 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083883" class="post-1083883 software type-software status-publish hentry category-software tag-parsing tag-unit-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Unit-testing &#8211; Are parsers a special case in unit testing</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">parsing</span><span class="mr-2 badge badge-info">unit testing</span></p><div class="entry-content"><h1>Context</h1><p>While trying to get my parser classes under test, I noticed a common challenge for (unit-)testing them: They have only one public method, with a string as input and the parsed class as output. They are further divided into methods for readability, but those are all private. These classes are not <em>huge</em> &#8211; I would say on average we&#39;re talking about the whole class being 150 lines of code (including whitespace) with around 8 private methods.</p><p>According to <a href="https://softwareengineering.stackexchange.com/questions/126545/would-you-rather-make-private-stuff-internal-public-for-tests-or-use-some-kind">this question</a>, you shouldn&#39;t make methods public just for the sake of testing. I don&#39;t have the same problem as that question, because calling that one public method does indeed touch all the private methods.</p><h1>Issue</h1><p>However, I struggle a bit with the thought of re-creating the whole string input with just a slight change for every <code>if</code> in those private methods. Also these tests seem like integration-, rather than unit-tests to me, simply because they test too many lines of code at once &#8211; I&#39;m not sure about this though.</p><h1>Possible options I thought of</h1><p>I also see some options which could be of help with that. Lets go with an example of a parser that needs an XML-formatted input string. I could use a hard-coded XML string or I could dynamically create that XML with language-given XML tools (e.g. <code>XDocument</code> in C#).</p><p>If we further think about a program that saves some XML-data in a file to read it later, that program has the corresponding &#34;encoder&#34; for that parser. I could create the XML with the encoder and decode it with the parser/decoder, effectively testing that they work together &#8211; which seems like all the program needs anyway, unless the spec says otherwise.</p><h1>Question</h1><p>Are parsers a special case in unit testing?<br /> If yes, to what extent? Are their certain &#34;dos and don&#39;ts&#34; to look out for which differ from &#34;standard&#34; testing?<br /> Or am I maybe just writing my parsers in a very inconvenient way?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Parsers are not a special case, what you desribe is somewhat common. If the class in question is of a reasonable size, adheres to seperation of concerns, single-responsibility principle and so on, then you should test it through its single public method. This just means the class has a tight public surface which is a good thing.</p><p>But you should not focus on &#34;testing every if&#34; in the class. That would be coupling the test to the implementaion which we want to avoid. You should test all the specific requirements which the parser is supposed to satisfy.</p><blockquote><p>Also these tests seem like integration-, rather than unit-tests to me, simply because they test too many lines of code at once - I&#39;m not sure about this though.</p></blockquote><p>No, the distinction between unit test and integration test is whether the test touches seperate subsystems. If it is all in single class, then it is definitely not an integration test.</p><blockquote><p>If we further think about a program that saves some XML-data in a file to read it later, that program has the corresponding &#34;encoder&#34; for that parser. I could create the XML with the encoder and decode it with the parser/decoder, effectively testing that they work together - which seems like all the program needs anyway, unless the spec says otherwise.</p></blockquote><p>It makes sense to test a &#34;roundtrip&#34; to ensure the components work together. This is a valuable form of integration test. But it is important that you also unittest input/output of the components individually, since otherwise you run the risk of both components having a similar bug (not unlikely if written by the same person) which whould not be discovered by the integration test.</p><p>Your test input/output samples should be at the same abstraction level as the class you are testing. E.g if the class takes strings as input, you should test it with hardcoded strings. Otherwise your input generation gets to complex and you run the risk of bugs in input generation which may in turn mask bugs in the class you are testing. Tests should be simple code.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../unit-testing-unit-testing-internal-components/'>Unit-testing &#8211; Unit testing internal components</a></li><li class="list-group-item"><a href='../unit-testing-unit-testing-methods-that-call-suppliers-webservices/'>Unit-testing &#8211; Unit testing methods that call suppliers webservices</a></li><li class="list-group-item"><a href='../unit-testing-how-to-test-a-parser-for-a-bespoke-xml-schema/'>Unit-testing &#8211; How to test a parser for a bespoke XML schema</a></li><li class="list-group-item"><a href='../unit-testing-how-to-unit-test-an-encoder/'>Unit-testing &#8211; How to unit test an encoder</a></li><li class="list-group-item"><a href='../c-how-does-breaking-up-a-big-method-into-smaller-methods-improve-unit-testability-when-the-methods-are-all-private/'>C# &#8211; How does breaking up a big method into smaller methods improve unit testability when the methods are all private</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>