<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Why did SQL injection prevention mechanism evolve into the direction of using parameterized queries &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066491 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066491" class="post-1066491 software type-software status-publish hentry category-software tag-hacking tag-history tag-security tag-sql tag-sql-injection"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Why did SQL injection prevention mechanism evolve into the direction of using parameterized queries</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">hacking</span><span class="mr-2 badge badge-info">history</span><span class="mr-2 badge badge-warning">Security</span><span class="mr-2 badge badge-primary">sql</span><span class="mr-2 badge badge-danger">sql-injection</span></p><div class="entry-content"><p>The way I see it, SQL injection attacks can be prevented by:</p><ol><li>Carefully screening, filtering, encoding input (before insertion into SQL)</li><li>Using <a href="https://en.wikipedia.org/wiki/Prepared_statement">prepared statements</a> / parameterized queries</li></ol><p>I suppose that there are pros and cons for each, but why did #2 take off and become considered to be more or less the de facto way to prevent injection attacks? Is it just safer and less prone to error or were there other factors?</p><p>As I understand, if #1 is used properly and all caveats are taken care of, it can be just as effective as #2.</p><p><strong>Sanitizing, Filtering, and Encoding</strong></p><p>There was some confusion on my part between what <em>sanitizing</em>, <em>filtering</em>, and <em>encoding</em> meant. I&#39;ll say that for my purposes, all of the above can be considered for option 1. In this case I understand that sanitizing and filtering have the potential to <em>modify or discard</em> input data, while encoding <em>preserves data as-is</em>, but encodes it properly to avoid injection attacks. I believe that escaping data can be considered as a way of encoding it.</p><p><strong>Parameterized Queries vs Encoding Library</strong></p><p>There are answers where concepts of <code>parameterized queries</code> and <code>encoding libraries</code> that are treated interchangeably.  Correct me if I&#39;m wrong, but I am under impression that they are different.</p><p>My understanding is that <code>encoding libraries</code>, no matter how good they are always have the <em>potential</em> to modify SQL &#34;Program&#34;, because they are making changes to the SQL itself, before it is sent off to the RDBMS.</p><p><code>Parameterized queries</code> on the other hand, send the SQL program to the RDBMS, which then optimizes the query, defines the query execution plan, selects indexes that are to be used, etc., and then plug in the data, as the last step inside the RDBMS itself.</p><p>Encoding Library</p><pre><code>  data -&gt; (encoding library)
                  |
                  v
SQL -&gt; (SQL + encoded data) -&gt; RDBMS (execution plan defined) -&gt; execute statement
</code></pre><p>Parameterized Query</p><pre><code>                                               data
                                                 |
                                                 v
SQL -&gt; RDBMS (query execution plan defined) -&gt; data -&gt; execute statement
</code></pre><p><strong>Historal Significance</strong></p><p>Some answers mention that historically, parameterized queries (PQ) were created for performance reasons, and before injection attacks that targeted encoding issues became popular.  At some point it became apparent that PQ were also pretty effective against injection attacks.  To keep with the spirit of my question, why did PQ remain the method of choice and why did it flourish above most other methods when it comes to preventing SQL injection attacks?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The problem is that #1 requires you effectively parse and interpret the entirety of the SQL variant you&#39;re working against so you know if it is doing something it shouldn&#39;t. And keep that code up to date as you update your database. <em>Everywhere</em> you accept input for your queries. <em>And</em> not screw it up.</p><p>So yes, that sort of thing would stop SQL injection attacks, but it is absurdly more costly to implement.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../sql-injection-attacks-how-to-test-and-secure-coldfusion-queries/'>SQL injection attacks, how to test and secure coldfusion queries</a></li><li class="list-group-item"><a href='../why-not-just-make-non-parameterized-queries-return-an-error/'>Why not just make non-parameterized queries return an error</a></li><li class="list-group-item"><a href='../database-why-cant-clients-query-the-db-directly-using-sql/'>Database &#8211; Why can&#8217;t clients query the DB directly using SQL</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>