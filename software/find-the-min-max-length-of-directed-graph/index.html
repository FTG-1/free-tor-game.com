<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Find the min/max length of directed graph &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085104 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085104" class="post-1085104 software type-software status-publish hentry category-software tag-algorithms tag-graph"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Find the min/max length of directed graph</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithms</span><span class="mr-2 badge badge-info">graph</span></p><div class="entry-content"><p>The problem is simple on paper&#8230; but a bit harder when it comes to write the algorithm to solve it.</p><p>Let&#39;s use the following graph:</p><p><a href="../../../i.stack.imgur.com/AmPlP.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/AmPlP.png" alt="enter image description here"/></a></p><h3>First part</h3><p>This graph has an entry point <code>A</code> and two possible exits <code>B</code> and <code>J</code>. I&#39;m looking for a way to find the minimum and maximum number of nodes needed to go from entry to an exit (the plan is more to find the numbers from <em>ANY</em> node to an exit, but let&#39;s go from start to end for now).</p><p>In the graph above, the min length is obviously 1 (<code>A -&gt; B</code>). The max distance is trickier to find because of node <code>E</code> which is linked to a &#34;previous&#34; node <code>C</code> and can create an infinite loop. If we exclude <code>E</code> the max length is 6 (<code>A -&gt; C -&gt; D -&gt; F -&gt; G -&gt; I -&gt; B</code>).</p><p>However if we keep <code>E</code> what&#39;s the best strategy here to avoid infinite loops?</p><ul><li>Tag links when visited to avoid crossing a link twice?<ul><li>it won&#39;t be possible to move after <code>C</code> again when coming from <code>E</code></li></ul></li><li>Set a high number to infinite loop (something like: exit when you have crossed this section more than 1000 times)?<ul><li>every graph containing a tiny loop will have a max length of 1000 which is not relevant</li></ul></li></ul><p>What is the way to go? How to find the min / max distance the most relevant way possible?</p><h3>Second part</h3><p>Ultimately the goal is to get the min / max distance from any node of the graph (starting from <code>C</code>, <code>G</code>, or <code>E</code> for instance).</p><p>Also some conditions can be set to define which node can be crossed / linked to a given node. For example when you&#39;re on <code>E</code>, according to certain values and variable states, only <code>G</code> may be available&#8230;</p><p>Thanks for your help.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>For the shortest path, start at the well known Dijkstra&#39;s algorithm.</p><hr/><blockquote><p>When you&#39;re on E, according to certain values and variable states, only G may be available...</p></blockquote><p>A simple solution - which I want to encourage you to implement - is to implement dijkstra such that it calls a function to get the outgoing links from a given node. You can then do your checks there. When the conditions change, you would then invalidate the results of the search, and execute it again.</p><p><strong>Note</strong>: It is even better if you can mark nodes as invalidated. That way the algorithm can cache the lists of links and only reevaluate for the invalidated nodes.</p><p>That a given link or node could be unavailable is not really a problem if the graph cannot change while it is being used. You simply compute it for the graph as you have it.</p><p>Since this is a concern, I suppose that there is something that will be traversing the graph and it could find that it changed from one moment to the other... when that happens, this something has advanced some distance on the graph, and it makes sense to compute the path from the current position to the target on the modified graph.</p><hr/><p>I am not sure how do you want to define longest path...</p><p>Perhaps, a good definition for longest path is: the shortest path that maximizes the number of visited nodes. Under that definition, walking an infinite loop is not beneficial.</p><p>We would searching for the shortest path... but we need a new metric to call &#34;distance&#34;. My initial intuition is to use a metric that does not increase when we visit a new node.</p><p>If the distance does not increase nor decrease when visiting a new node, then the following paths are the same length:</p><pre><code>A -&gt; B
A -&gt; C -&gt; F -&gt; G -&gt; I -&gt; B
</code></pre><p>However, we want the second path to be better (I mean, &#34;shorter&#34;, I mean, to have a lower value in the metric, I mean, to be preferible).</p><p>A simple solution is to decrease the metric when visiting a new node.</p><p><strong>Notes:</strong></p><ul><li>A negative metric can be problematic. For path finding, it is not safe to use Dijkstra with negatives. We can normalize it to only positive values by using a sigmoid function before comparing.</li><li>We also need to encode the rule that distance is different depending on whatever or not we have visited a node. You can solve this by similar means to what I described for having parts of the graph unavailable. Except, instead of passing the current node to evaluate the available links, you pass the current path.</li></ul><p>With this metric we have:</p><pre><code>A B - length: -1

A C D F G I B - length: -6

A C D E G I B - length: -6

A C D E B - length: -4

A C D E J - length: -4

A C D E C D F G I B - length: -5
        ¯ ¯
A C D E C D E G I B - length: -3
        ¯ ¯ ¯
A C D E C D E B - length: -1
        ¯ ¯ ¯
A C D E C D E J - length: -1
        ¯ ¯ ¯
A C D E C D E C D E F G I B - length: -1
        ¯ ¯ ¯ ¯ ¯ ¯
</code></pre><p>Then our &#34;longest&#34; path is one of the two longer paths that does not loop (<code>A C D F G I B</code> or <code>A C D E G I B</code>).</p><p>In case it is not evident, a path with a loop is always considered worse than its variant without loops because the loop traverses visited nodes, and thus increases the metric. And remeber that we are minizming the metric.</p><p>If you are using Dijkstra with a sigmoid of this metric - as I suggest - the loops will be discarded because - as explained above - they will always yield worst paths that those without loop.</p><p><strong>Addendum</strong>: After posting the answer, I notice that I got some interesting results... for instance: <code>A C D E C D F G I B</code> manages to visit more nodes than <code>A C D F G I B</code> but scores worse (higher), that is not what I expected. I suppose we can tweak it to be more or less interested in going out of its way to reach more nodes before going to the target by applying factors to the added or decreased distance... for example, we could increase only half the value when traversing a visited node. What is the ideal proportion to increase? I have no idea. For practical purposes it can be tweaked to suit the design or problem domain.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../randomly-generate-directed-graph-on-a-grid/'>Randomly generate directed graph on a grid</a></li><li class="list-group-item"><a href='../finding-the-shortest-path-through-a-digraph-that-visits-all-nodes/'>Finding the shortest path through a digraph that visits all nodes</a></li><li class="list-group-item"><a href='../merge-directed-acyclic-graphs-minimizing-number-of-nodes/'>Merge directed acyclic graphs minimizing number of nodes</a></li><li class="list-group-item"><a href='../find-k-max-integers-of-an-array-min-heap-vs-selection-algo-vs-selection-sort/'>Find k max integers of an array &#8212; Min Heap vs. Selection Algo vs. Selection Sort</a></li><li class="list-group-item"><a href='../how-to-find-the-shortest-path-with-wormhole-nodes/'>How to find the shortest path with wormhole nodes</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>