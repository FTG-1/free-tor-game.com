<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Python &#8211; Strategy for keeping up with (Python) language changes &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080201 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080201" class="post-1080201 software type-software status-publish hentry category-software tag-python"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Python &#8211; Strategy for keeping up with (Python) language changes</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">python</span></p><div class="entry-content"><h2>Writing code that will still run years from now</h2><p>Programming languages change.<br /> Libraries change.<br /> Some code from 5, 10, or even 20 years ago might still run and produce expected results, whereas some code from 2 years might fail with a syntax error.<br /> This is partly inevitable, since languages evolve (at least, most do).<br /> Developers have a responsibility to maintain their code. But sometimes, stability is an important requirement in production code, and code should simply run for 10 years without the need for someone going through the code every year to adapt it for language changes.<br /> Or I might have small scripts, for example for scientific data analysis, that I need to revisit after not touching them for years.<br /> For example, at meteorological offices there is a lot of operational Fortran code even for non-speed-essential parts, and code stability is one of the reasons.<br /> I&#39;ve heard fear for instability is one of the objects they have against moving to Python (apart from language inertia of course; it&#39;s only possible for new code not dependent on old code).<br /> Of course, one strategy for stable code is to freeze the entire operating system. But that is not always feasible.</p><p>I&#39;m using Python as on example, but the issue is not limited to Python in particular.</p><h2>Documents on Python compatibility issues</h2><p>In the case of Python, there are several documents outlining policy for backward-incompatible changes.</p><h3>PEP-5</h3><p>According to <a href="http://www.python.org/dev/peps/pep-0005/">PEP 5</a>:</p><blockquote><p>There must be at least a one-year transition period between the<br /> release of the transitional version of Python and the release<br /> of the backwards incompatible version.  Users will have at<br /> least a year to test their programs and migrate them from use<br /> of the deprecated construct to the alternative one.</p></blockquote><p>Personally, I consider that one year is rather short. It means I might write some code, and 1½ years from now it won&#39;t run anymore.</p><h3>PEP 291</h3><p><a href="http://www.python.org/dev/peps/pep-0291/">PEP 291</a> contains an incomplete lists of guidelines of things that should be avoided in order to maintain backward compatibility. However, it relates only to Python 2.x. As Python 2.7 is the final release in the 2.x series and Python 2.7 is bugfix-only, this PEP is now only of historical interest.</p><h3>PEP 387</h3><p>There is also <a href="http://www.python.org/dev/peps/pep-0387/">PEP 387</a> on backward-incompatible changes. PEP 387 is a draft and not official policy. In June 2009, this was <a href="http://mail.python.org/pipermail/python-dev/2009-June/090121.html">discussed on the Python-ideas mailing-list</a>. Part of the discussion focussed on how developers can write code that is robust against language changes. One post <a href="http://mail.python.org/pipermail/python-dev/2009-June/090150.html">listed some advice on what <em>not</em> to do</a>:</p><blockquote><p>Along with this there are several rules you can infer that are probably<br /> true most of the time: don&#39;t call stuff starting with <code>&#34;_&#34;</code>, don&#39;t monkey-<br /> patch anything, don&#39;t use dynamic class replacement on objects from<br /> classes other than your own, don&#39;t depend on the depth of inheritance<br /> hierarchies (for example, no <code>&#34;.__bases__[0].__bases__[0]&#34;</code>), make sure<br /> your tests run without producing any DeprecationWarnings, be mindful of<br /> potential namespace conflicts when adding attributes to classes that<br /> inherit from other libraries.  I don&#39;t think all these things are<br /> written down in one place though.</p></blockquote><p>In addition, there were some points about &#34;mine fields&#34; (new features likely to change) and &#34;frozen areas&#34; (very sold APIs virtually guaranteed not to change). <a href="http://mail.python.org/pipermail/python-dev/2009-June/090125.html">Quoting Antoine Pitrou</a>:</p><blockquote><p>I think the &#34;frozen area&#34; should be defined positively (explicit public APIs and<br /> explicitly guaranteed behaviour) rather than negatively (an explicit &#34;mine<br /> field&#34;). Otherwise, we will forget to put some important things in the minefield<br /> and get bitten later when we need to change those things in a<br /> backwards-incompatible way.</p></blockquote><p>There doesn&#39;t seem to be any conclusion from this thread, but it gets pretty close to the core of what I&#39;m looking for. The thread is almost four years old, so perhaps the situation has changed or improved. What kind of code is likely to survive, and what kind of code is more fragile?</p><h3>Porting guidelines</h3><p>In addition to the documents outlined above, each Python version comes with a porting guideline: <a href="http://docs.python.org/3.2/whatsnew/3.2.html#porting-to-python-3-2">porting to Python 3.2</a>, <a href="http://docs.python.org/3/whatsnew/3.3.html#porting-to-python-3-3">porting to Python 3.3</a>, etc.</p><h3>Useful compatibility</h3><p><a href="http://www.python.org/dev/peps/pep-3151/#compatibility-strategy">PEP 3151</a> introduced me to the concept of <em>useful compatibility</em>. In my own words, this boils down to the idea that only if code is carefully written language developers need to be careful to maintain compatibility. It doesn&#39;t really define <em>useful compatibility</em>, but I think it&#39;s similar to the ideas I quoted from the PEP 387 discussion above.</p><h2>From the programmers&#39; point of view</h2><p>As a programmer, I know that Python will change in the future and that people — most notably myself — will try to run my code perhaps several years from now in a Python version that is one, two, or perhaps three minor versions up. Not everything will be compatible, and in fact it&#39;s easy to come up with code that will fail (I once encountered code stating <code>if sys.version[:3] != &#39;2.3&#39;: print &#39;Wrong version, exiting&#39;</code>). What I&#39;m looking for is a set of guidelines on <em>what to do and what</em> <strong>not</strong> <em>to do</em> to enhance the chances that my code will still run unaltered in the future.</p><p>Are there any such guidelines? <strong>How do I write Python code that will still run in the future?</strong></p><p>My question relates both to the Python core, to its standard library, but also to commonly used add-on libraries, in particular <code>numpy</code>, <code>scipy</code>, <code>matplotlib</code>.</p><hr/><p><strong>EDIT</strong>: So far, two of the answers relate to python2 vs. python3. This is not what I mean. I know about tools to migrate from Python2 to Python3. My question relates to language changes <em>yet to come</em>. We can do better than a <em>crystal ball</em> in finding coding guidelines that are more stable. For example:</p><ul><li><p><code>import module</code> is more future-proof than <code>from module import *</code>, because the latter can break code if <code>module</code> grows one or more new functions/classes.</p></li><li><p>Using undocumented methods may be less future-proof than using documented methods, as something being undocumented may be a sign of something being not stable yet.</p></li></ul><p>It&#39;s this kind of practical coding advices that I&#39;m after. Since it&#39;s about present→future, we can limit ourselves to Python3, because Python2 is not going to change anymore.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>This is an unsolved problem in our field.  There&#39;s no way to be sure that your code will indefinitely work.  Even if your code was truly perfect in the forwards-compatible sense (and if it is, please come work for my company! ;) ), if it runs on, uses, or is used by any other software which gets a bug or changes in any way, your code may not work.</p><p>So I can&#39;t give you a list of things to do that, if you follow them, will guarantee success.  But what you can do is minimize the risk of future breakages and minimize their impacts.  A more knowledgeable Pythonist would be able to give you advice more specific to Python, so I will have to be more general:</p><ul><li><p>write unit tests.  Even for things that you know don&#39;t need them.</p></li><li><p>using popular/well-designed/stable libraries and technologies, avoiding unpopular (and thus likely to soon be unsupported) ones</p></li><li><p>avoid writing code that exploits implementation details.  Code to interfaces, not implementations.  Code against multiple implementations of the same interface.  For example, run your code in CPython, Jython, and IronPython and see what happens.  This will give you some great feedback about your code.  This might not be helpful for Python3 though -- last I heard, some implementations were still in Python2.</p></li><li><p>write simple, clear code that is explicit about its assumptions</p></li><li><p>write modular, composable code.  If some code must do something dangerous (in the future-proof sense), separate it so that even if it has to change, the rest of the code doesn&#39;t.</p></li><li><p>have a specification of some form.  This is similar to the points about unit tests, if you use tests as a spec, and interfaces, which can also be used as specs. <em>(I mean interface in the general sense, not the Java keyword sense).</em></p></li></ul><p>Doing any of these things may/will increase the amount of work you have to do.  I think that makes sense -- a lot of these points can also be made for how to write good code, which is quite difficult (in my opinion).  Sometimes you may need to violate some of these suggestions.  That is perfectly acceptable, but be aware of the costs.</p><p>It&#39;s great that the Python team is thinking about this, and for sure they are far more talented and skilled than I will ever be.  Still, I would estimate there&#39;s a 100% that somebody&#39;s code somewhere will stop working the way the want it&#39;s intended to when Python is upgraded.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-choosing-between-cl-and-python-for-web-development/'>Python &#8211; Choosing between CL and Python for web development</a></li><li class="list-group-item"><a href='../python-good-practice-for-returns-in-python/'>Python &#8211; Good practice for returns in Python</a></li><li class="list-group-item"><a href='../python-microservices-and-shared-libraries/'>Python &#8211; Microservices and shared libraries</a></li><li class="list-group-item"><a href='../python-is-it-consider-bad-practice-to-formally-document-implementation-code/'>Python &#8211; Is it consider bad practice to formally document implementation code</a></li><li class="list-group-item"><a href='../python-are-exceptions-for-flow-control-best-practice-in-python/'>Python &#8211; Are exceptions for flow control best practice in Python</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>