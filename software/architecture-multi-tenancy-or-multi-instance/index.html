<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture &#8211; Multi tenancy or multi instance &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070545 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070545" class="post-1070545 software type-software status-publish hentry category-software tag-architecture tag-docker tag-laravel tag-multitenancy tag-software-as-a-service"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture &#8211; Multi tenancy or multi instance</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">docker</span><span class="mr-2 badge badge-warning">laravel</span><span class="mr-2 badge badge-primary">multitenancy</span><span class="mr-2 badge badge-danger">software-as-a-service</span></p><div class="entry-content"><p>I&#39;m trying to build a web-based SaaS solution, and I hit a road where I&#39;m not sure to use multi tenancy or multi instance. I will try to describe what I&#39;m trying to achieve, and each approach advantages and disadvantages (my opinion, according to what I read). Please include your suggestions in case I missed anything in one approach over the other.</p><p>The application that I&#39;m trying to build is, as I mentioned, a SaaS solution where companies can create their accounts, and each account/company has it&#39;s own users, customers, products, services&#8230;etc. Each user; who is a company employee; related to one account/company will have access only to his/her company customers, products, and services. Companies could have unlimited number of customers, products and services, thus each company should have it&#39;s own data center.</p><p>For that I decided to create a shared database (saving all users credentials for login purposes) and multiple databases shared schema (database per account/company). Basically, <strong>Multi Tenancy</strong>.</p><p>Then somebody suggested to use <strong>Multi Instance</strong> instead, where each company will have its own instance of the application (i.e. code, libraries, database, frameworks&#8230; etc) totally separated from the other companies. This sounds better as I don&#39;t have to take care of an extra layer where I need to make sure that each tenant&#39;s users have access only to their company&#39;s data. I think it&#39;s good to mention that I&#39;m depending on <em><a href="https://www.docker.com/" rel="noreferrer">Docker</a></em> to achieve this approach (I&#39;ve never used it before), but I think it lacks features (more on those later) I will need in the future (at least I didn&#39;t find them with a little bit of search).</p><p>However, each approach comes with pros and cons, so I couldn&#39;t make a decision with which approach to go. Here is a list, but bare with me as I lack the knowledge in them both, so there could be something that I&#39;m not aware of, or a solution for a problem I didn&#39;t find on the web: [Each approach has an ordered list of which I followed a one by one comparison]</p><p><strong>Multi Tenancy</strong>:</p><ol><li>Shared host/hardware, shared code, and multi database.</li><li>It&#39;s <em>easier</em> to extend the functionality of the code and fix bugs (shared code).</li><li>It&#39;s <em>harder</em> to extend the hardware (could use a cloud service), or move the database of individual tenant to another system without doing changes to the code.</li><li>Most importantly, as I mentioned before, I need to add an extra layer to the system to make sure that the user is actually belongs to his/her company, and not accessing other company&#39;s information.</li></ol><p><strong>Multi Instance</strong>:</p><ol><li>Shared or unshared host/hardware, code per instance, and database per instance.</li><li>It&#39;s <em>harder</em> to extend the functionality or fix bugs (I&#39;m not sure if there is a way to do it in Docker where you can add functionality/feature to one instance or Docker container, and deploy it to the others).</li><li>It&#39;s <em>easier</em> to move the whole instance to a different host/hardware.</li><li>As the instance, I don&#39;t need to take care of that layer as each instance will have its own database.</li></ol><p>All of the advantages and disadvantages are redundant in case I want to do anything manually (as creating an instance for each tenant manually), and that&#39;s why I doubt the Docker solution, unless there is a way to solve that, which is maybe the main reason of the question. I would appreciate it if you would answer the question with references to the solutions, and why do you think this approach is better than the other.</p><p>In case that would help (maybe?), we&#39;re using <a href="https://laravel.com/" rel="noreferrer">Laravel</a> as the main framework for the back-end (all RESTfully).</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I am asking myself the exact same question at the moment.</p><p>I am leaning towards the multi-instance single tenancy solution but have not taken a definitive decision yet. Let me share some of my thoughts :</p><p>The main historical advantage of the multi-tenant architecture is a <strong>better use of infrastructure resources</strong>, by <strong>mutualisation</strong> (single OS, single Database, single application layer) and better occupying of said resources (when one user is away another can use the same resource).</p><p>It also greatly <strong>simplifies software lifecycle</strong> : you deploy new versions to you one instance, all the customers are updated at the same time.</p><p>It seems however, that recent advancements in cloud technology make the first class of advantages largely available in a multi-instance (instance-per-customer) architecture (I am thinking specifically of a platform like Jelastic here but I am sure there are others that provide the same features):</p><ul><li>Container-based PaaS</li><li>Provisioning and auto-scaling of containers (elastic containers)</li></ul><p>So hardware and platform management is not the Software provider&#39;s concern any more. <strong>Resources are mutualised much more efficiently than before at the infrastructure and plaform levels</strong>.</p><p>There will still be an overhead for multi-instance (some app and middleware will be ran N times instead of just one), but much lower than when using a separate (virtual) machine per instance. The database could be shared anyway (one schema per instance, several schemas per DB server)</p><p>Also :</p><ul><li>Automation of creation of new instances is possible via PaaS API</li><li>Automation of deployment of new versions is possible via PaaS API, with zero downtime (takes some work to put in place)</li><li>Scaling is always out, never up. We don&#39;t have to worry about huge datasets at the instance level.</li></ul><p>Of course, we would need some kind of central service that manages all this automatically (e.g. creation of instance when a new user creates an account). This would also manage payment and licensing issues, interaction between instances etc. This central service might be quite complex and hard to develop, but the good thing is that we don&#39;t have to implement it upfront (now that we don&#39;t have much resource) whereas multi-tenant would need to be baked into the app from the start.</p><p>Which brings me to the final advantages of developing single-tenant for a very early stage (pre-invesment) startup project :</p><ul><li>Same (or almost same) version of the app <strong>can be deployed on-premises</strong> either as a virtual appliance or docker container or even on customer-managed machine (some companies are still reluctant towards the Cloud and it may help an early stage startup to not push out important early adopters)</li><li><strong>Faster to get a product out with limited resources</strong> (the application layer and database schema is quite less complex), can get a &#34;dumb&#34; single instance single tenant product out first (MVP) for early adopters and to show the business value of the app to potential investors, and add all the cloud automation later on</li><li>Can be seen as a selling argument for customers worried about data security : <strong>the data is better encapsulated</strong> since every customer has his own schema or even database. Much less risk of &#34;spillage&#34;</li></ul><p>NB: I am obviously thinking here of a business app where customers would be businesses (each with multiple individual users) and not individuals. It would not make any sense to run a separate instance of an app for each individual user (or would it ?)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/using-redis-as-a-cache-in-a-multi-tenant-application/'>Using Redis as a cache in a Multi-Tenant application</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/multi-tenant-in-a-micro-service/'>Multi tenant in a micro-service</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>