<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Decoupling microservices with gRPC &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1068892 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1068892" class="post-1068892 software type-software status-publish hentry category-software tag-apache-kafka tag-microservices"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Decoupling microservices with gRPC</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">apache-kafka</span><span class="mr-2 badge badge-info">microservices</span></p><div class="entry-content"><p>I&#39;m setting up a microservices architecture, and am confused about how gRPC can loosely-couple services (compared to a pub-sub message service like Kafka).  Doesn&#39;t the request go directly to the server, and not through a pub/sub system?  While gRPC supports asynchronous requests, should I still use pub/sub as a buffer between services to scale them independently?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>gRPC and queues / brokers are not mutually exclusive. We could choose one, both or none. We could also use an SMTP server as a queue, or a plain text file.</p><p>In other words, they complement each other because they satisfy different purposes.</p><h3>Decoupling</h3><p>Think in a pipeline where stages are Services.</p><pre><code>[Service A] &lt; ----- &gt; [Servicie B]
</code></pre><p><em><sup>Arrows denote cardinality and dependency. </sup></em></p><p>Both services are client and server at the same time. <em>A</em> is  client and server of <em>B</em>. And vice-versa. Regardless the protocol, the IPC here involves services being aware of each other.</p><p>Now, set a queue or broker in-between</p><pre><code>[Process A]  &lt;----- &gt; [Queue|Broker] &lt;------&gt; [Process B]
</code></pre><p><em><sup>Arrows denote cardinality or dependency. </sup></em></p><p>Queues and brokers break the cardinality between services, hence the dependency. They no longer need to be aware of each other. We could drop any of the services or change them so that the other remains unaware of these thingse.</p><h3>Adopting features</h3><p>Queues and brokers are usually designed to be performant/reliable/consistent/scalable/resilient  I/O and we can provide our architecture with these features by implementing one or another. For example,  gRPC is a transport mechanism for request/response and (non-persistent) streaming use cases. If we can not afford missing messages, we probably will have to look for alternatives or complementary architectural components. Queues and brokers might do the job. Persistence is not the only feature to provide our IPC with. To mention a few</p><ul><li>Message consistency and persistence</li><li>Catching and batching</li><li>Error handling</li><li>Failover</li><li>Retry</li><li>Scalability</li><li>Modularity or compartmentality (having dedicated brokers or queues)</li><li>Compatibility with several protocols out-of-the-box</li><li>Traffic traceability</li><li>Traffic monitoring</li><li>Tooling</li></ul><h3>Related links</h3><p>I found <a href="https://programmaticponderings.com/2017/05/08/decoupling-microservices-using-message-based-rpc-ipc-with-spring-rabbitmq-and-ampq" rel="nofollow noreferrer">this blog post</a> which dives a little more into the subject.</p><p>Worth a mention the <a href="https://www.nginx.com/blog/building-microservices-inter-process-communication/" rel="nofollow noreferrer">Nginx blog post about Microservice and IPC implementations</a>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/architecture-communication-between-microservices-distinguishing-internal-calls-safely/'>Architecture &#8211; Communication between microservices &#8211; distinguishing internal calls safely</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/python-two-processes-in-a-single-docker-container-or-two-services-connecting-to-the-same-db/'>Python &#8211; Two processes in a single docker container or two services connecting to the same db</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/rest-microservices-and-data-storage/'>Rest &#8211; Microservices and data storage</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/architecture-microservices-communication-avoiding-single-point-of-failure/'>Architecture &#8211; Microservices communication: Avoiding single point of failure</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/architecture-data-replication-in-microservices/'>Architecture &#8211; Data replication in microservices</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>