<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Git structure for java project &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077557 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077557" class="post-1077557 software type-software status-publish hentry category-software tag-code-organization tag-design tag-eclipse tag-git"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Git structure for java project</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">code-organization</span><span class="mr-2 badge badge-info">design</span><span class="mr-2 badge badge-warning">eclipse</span><span class="mr-2 badge badge-primary">git</span></p><div class="entry-content"><p>I know there are multiple posts on similar problems, so please be kind with me.<br /> I am asking for suggestions I have not thought of and for good advice.</p><p>I have a java &#34;project&#34; that is structured in a server-client pattern.<br /> There are some classes that are common to both parts but most of it is either server (backend and control logic) or client (GUI). To not write one monolithic application (where the client depends on <code>JDBC</code> jars) I decided to split the project into multiple eclipse projects:</p><ul><li><code>proj_server</code> (where <code>JDBC</code> is needed)</li><li><code>proj_client</code></li><li><code>proj_common</code></li><li><code>proj_test</code></li></ul><p>In <code>proj_test</code> there is some code to test parts of the client/server. I setup eclipse such that both server and client depend on the common module.</p><p>Now I use git to manage all these eclipse projects.<br /> My first thought was to manage all parts in separate repos as suggested by git.<br /> But I have the problem that I loose the relation of the different commits: Any modification in the <code>proj_common</code> will typically reflect some data type modification. This makes the new version incompatible with old commit in the other projects.</p><p>I then thought of several possibilities:</p><ol><li>Using of <code>git submodules</code></li><li>Using of <code>git subtree</code></li><li>Using of a single git repository that contains the modules together</li><li>Using different repositories and adding regularly tags to the commits to keep track of the relations</li></ol><p>The solution 1 has the problem that it is quite heavy to maintain. Especially if you want to check in multiple small modifications you have to go multiple times &#34;around the folders&#34; to <code>add</code>/<code>commit</code> and then pack it all in the main repository up.</p><p>The <code>subtree</code> method might work well as far as I have read with a bunch of scripts to manage the git calls. The main disadvantage is that <code>subtree</code> fits perfectly if most work is done in the main repository and updates to the imported repos happen occasionally. If the updates happen merely in the subprojects the history of the main projects gets quite crumpled.<br /> On branching it might get complicated.</p><p>The solution number 3 is my favourite solution so far as everything is kept tight and branching is done without any problem.</p><p>The solution 4 is mainly what is done now, but no tag have been created yet (pre-alpha, thus no sense in creating tags). As the project grows this might get also very nasty and error-prone.</p><p>What would you suggest? One of the given solutions or did I miss the one perfect solution?</p><p><em>Edit:</em></p><p>I have found the following related posts: <a href="https://softwareengineering.stackexchange.com/questions/105575/how-do-you-organise-your-git-repositories?rq=1">a</a>, <a href="https://softwareengineering.stackexchange.com/questions/175668/how-to-structure-git-repositories-for-project">b</a>, <a href="https://softwareengineering.stackexchange.com/questions/161293/choosing-between-single-or-multiple-projects-in-a-git-repository">c</a> and <a href="https://softwareengineering.stackexchange.com/questions/207014/organizing-a-git-repository-with-several-projects-sharing-code">d</a>.<br /> Unfortunately the big picture is not clear.<br /> In <a href="https://softwareengineering.stackexchange.com/questions/105575/how-do-you-organise-your-git-repositories?rq=1">a</a> (second answer!) and <a href="https://softwareengineering.stackexchange.com/questions/207014/organizing-a-git-repository-with-several-projects-sharing-code">d</a> the advice tends towards multiple repositories in different files.<br /> But they do not explicitly state how to manage the relationship of the different commits.<br /> That is you cannot go for the running configuration at Jan 10th 2013 for example without looking at the history explicitly for all subprojects.<br /> In <a href="https://softwareengineering.stackexchange.com/questions/175668/how-to-structure-git-repositories-for-project">b</a> solution 3 is suggested.<br /> In <a href="https://softwareengineering.stackexchange.com/questions/161293/choosing-between-single-or-multiple-projects-in-a-git-repository">c</a> a comparision is made. They first had something like multiple manually managed projects but then migrated to solution 3.</p><p>In all these Q&amp;As the first two solutions were at most mentioned but not suggested by the answering persons.<br /> In the net you can find much about <code>git submodule</code> that tells you that you get quite much overhead by it (e.g. <a href="http://blogs.atlassian.com/2013/05/alternatives-to-git-submodule-git-subtree/" rel="nofollow noreferrer">here</a> or <a href="https://hpc.uni.lu/blog/2014/understanding-git-subtree/" rel="nofollow noreferrer">here</a>).</p><p>The problem is (as far as I can see) that in practice I will have not only one project with some reference to one or more libraries.<br /> In this case (hopefully) the library would not change regularly and the coding takes place in the &#34;main&#34; repository.<br /> In this case all the advances solutions (<code>subtree</code>, <code>submodules</code>, &#8230;) might be very useful.</p><p>In my case on the contrary I have only a dummy master repository that holds the four subprojects in sync.<br /> These subprojects themselves are under high development.<br /> So it is a critical part that the contribution to the different online  (sub)projects is straight forward.<br /> Not much additional magic with git.</p><p>In <a href="http://lostechies.com/johnteague/2014/04/04/using-git-subtrees-to-split-a-repository/" rel="nofollow noreferrer">another site</a> they suggest solution 1 but I am unsure what their main development goal is: The main repository or the imported library.</p><p>I want to avoid getting into trouble and later have to migrate to another system. Thus I ask for advice of somebody who might have done similar things.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>For this kind of work, I suggest you to learn about Maven which deals with dependency compatibility (among a lot of other things).</p><p>With Maven, you could for example use one of these two ways:</p><p>Either the &#34;standard&#34; way: by creating a <a href="http://www.sonatype.org/nexus/" rel="nofollow noreferrer">Nexus</a> repository which you will feed with a compiled jar of each version of your common package and to fully exploit maven/nexus the version(s) of JDBC you use. Each time you build your project from any commit, the versioned config file will be read and will use the good revision of your library &#34;common&#34;.</p><p>(I say Nexus, but there are others software doing the same thing, I&#39;ve also heard of one named Artifactory).</p><p>Or, you could make a more complicated script which, when you build your server or client project, go download the source of your library on your &#34;common&#34; repository and build it.</p><p>Maven may seems a bit overkill and is (in my opinion) a pain to learn alone, but it&#39;s handy, powerful, and is the professional standard in Java and works seamlessly with Eclipse.</p><p>As for the Maven usage, the Nexus way is (depending on your scripting skill) a bit heavier to init, but more standard, easy to scale with your project, and can be used for all your other future projects.</p><p>If you&#39;re working in a professional context, I strongly advise to look for a colleague knowing it to help you mavenize your project.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/git-how-to-structure-git-repositories-for-project/'>Git &#8211; How to structure git repositories for project</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/git-team-switching-from-tfs-source-control-to-tfs-with-git-not-sure-how-to-handle-complex-project-structure/'>Git &#8211; Team switching from TFS Source Control to TFS with Git, not sure how to handle complex project structure</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/git-grouping-multiple-git-repositories-that-are-part-of-the-same-overall-project/'>Git &#8211; Grouping multiple Git repositories that are part of the same overall project</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/git-managing-multiple-interdependent-git-repositories/'>Git &#8211; Managing multiple interdependent git repositories</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>