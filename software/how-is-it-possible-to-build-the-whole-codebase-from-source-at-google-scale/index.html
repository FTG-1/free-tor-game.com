<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How is it possible to build the whole codebase from source at Google scale &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1078772 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1078772" class="post-1078772 software type-software status-publish hentry category-software tag-build-system tag-continuous-integration tag-ide tag-static-analysis"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How is it possible to build the whole codebase from source at Google scale</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">build-system</span><span class="mr-2 badge badge-info">continuous integration</span><span class="mr-2 badge badge-warning">ide</span><span class="mr-2 badge badge-primary">static analysis</span></p><div class="entry-content"><p>The <a href="https://softwareengineering.stackexchange.com/a/41451/25936">first answer</a> to an old, recently active <a href="https://softwareengineering.stackexchange.com/q/41435/6605">question</a> linked to a <a href="http://www.infoq.com/presentations/Development-at-Google" rel="nofollow noreferrer">video</a> which talks about how Google repository is done.</p><p>One interesting thing which was mentioned is the fact that <strong>everything is build from source, without relying on binaries.</strong> This helps avoiding issues with dependencies becoming obsolete but still being used in other projects, an issue I indeed encountered a lot.</p><p>How is it technically possible? If I try the same thing in my company, even considering the huge gap between the scale of my company codebase and the scale of Google&#39;s one, it wouldn&#39;t be possible for two reasons:</p><ul><li><p>The IDE (Visual Studio) will quickly become unresponsive, given that is suffers a lot at even small solutions containing, say, 50 projects.</p></li><li><p>Any static analysis would be crunched by the size of the whole codebase. For example code metrics or static checking of code contracts would hardly be possible (code contracts would probably take days or weeks).</p></li><li><p>With continuous integration, compiling would take a huge amount of time too and would crunch the servers as soon as a project with lots of dependencies is modified, requiring a large tree of projects to be recompiled.</p></li></ul><p>How can a small company circumvent those issues and be able to:</p><ol><li><p>Use the IDE without being affected by poor performance,</p></li><li><p>Compile the code after each commit without crunching the server, even when the consequences of a change require a large amount of the codebase to be recompiled?</p></li></ol></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You are assuming a traditional build process, and Google&#39;s process is anything but traditional. There&#39;s a series of articles in the <a href="http://google-engtools.blogspot.gr/2011/06/build-in-cloud-accessing-source-code.html">Engineering Tools blog</a> that explain their process in some detail, elaborating on the 2010 presentation: <a href="http://www.youtube.com/watch?v=b52aXZ2yi08">Tools for Continuous Integration at Google Scale</a>:</p><ol><li><a href="http://google-engtools.blogspot.gr/2011/06/build-in-cloud-accessing-source-code.html">Build in the Cloud: Accessing Source Code</a></li><li><a href="http://google-engtools.blogspot.gr/2011/08/build-in-cloud-how-build-system-works.html">Build in the Cloud: How the Build System works</a></li><li><a href="http://google-engtools.blogspot.gr/2011/09/build-in-cloud-distributing-build-steps.html">Build in the Cloud: Distributing Build Steps</a></li><li><a href="http://google-engtools.blogspot.gr/2011/06/build-in-cloud-accessing-source-code.html">Build in the Cloud: Accessing Source Code</a></li><li><a href="http://google-engtools.blogspot.gr/2011/06/testing-at-speed-and-scale-of-google.html">Testing at the speed and scale of Google</a></li></ol><p>To summarise, they use a custom distributed build system that allows for a very high degree of parallelism and automation, taking full advantage of their existing infrastructure. It also relies heavily on caching, with a 90% overall cache hit rate.</p><p>But how can you apply all this in your company? The first step is distributing compiling, and for that you&#39;d need:</p><ul><li>A cloud</li><li>A distributed compiler</li><li>A compiler cache</li></ul><p>On a gcc development environment, setting up a compile farm is relatively easy. <a href="https://code.google.com/p/distcc/">distcc</a> takes care of distribution and <a href="http://ccache.samba.org/">ccache</a> takes care of caching, and they work beautifully together. I don&#39;t know of any similar tools for Microsoft&#39;s ecosystem (I&#39;m assuming you are using a Microsoft language based on your choice of IDE), but I do know that <a href="http://msdn.microsoft.com/en-us/library/vstudio/bb651793.aspx">MSBuild can run builds in parallel</a>, taking advantage of multi-core CPUs. Not really a compile farm, but certainly a step in the right direction.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-many-developers-before-continuous-integration-becomes-effective-for-us/'>How many developers before continuous integration becomes effective for us</a></li><li class="list-group-item"><a href='../ides-for-dynamic-languages-how-far-can-you-get/'>IDEs for dynamic languages &#8211; how far can you get</a></li><li class="list-group-item"><a href='../c-does-it-make-sense-to-write-build-scripts-in-c/'>C++ &#8211; Does it make sense to write build scripts in C++</a></li><li class="list-group-item"><a href='../java-warn-about-3rd-party-methods-that-are-forbidden/'>Java &#8211; Warn about 3rd party methods that are forbidden</a></li><li class="list-group-item"><a href='../correlation-between-the-scale-of-the-project-and-the-strictness-of-the-language/'>Correlation between the scale of the project and the strictness of the language</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>