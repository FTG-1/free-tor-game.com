<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; How to use Git Flow with multiple dependent projects &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075008 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075008" class="post-1075008 software type-software status-publish hentry category-software tag-c tag-gitflow tag-release-management tag-semantic-versioning"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; How to use Git Flow with multiple dependent projects</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">gitflow</span><span class="mr-2 badge badge-warning">release-management</span><span class="mr-2 badge badge-primary">semantic-versioning</span></p><div class="entry-content"><p>We are trying to work through an effective branching strategy for our organization so releases, versioning and such are all handled consistently.</p><p>We have many C#-based solutions, each with anywhere from 2-60 projects. Each solution relates to a particular product for which we release updates on a regular basis. These products have some interdependency, but not much. When they do cross over, we have traditionally created a proxy-type project that provides the logic to access the resource to the dependent projects.</p><p>For example, we have a Web API website which has a proxy project to abstract the endpoints (spinning up a WebClient, authenticating and making the call to the URL) so other projects just need to call that proxy. These proxy projects share a version number with the project they relate to and are released/consumed via an internal NuGet feed. We generally follow SemVer to help manage any breaking changes, with appropriate version checking on the proxied project (e.g., the Web API) to ensure behavior works as expected.</p><p>This strategy has worked well for us, but there seems to be one downfall we can&#39;t overcome &#8211; the release cycle.</p><p>According to Git Flow, we cut <code>release</code> branch from our primary <code>develop</code> branch for each solution (we release all of our products in tandem at the same time). Within this branch, we increment the version number (major/minor depending on the types of changes) and update internal NuGet packages to the latest version. These release branches feed into our final QA environment, which is where all the products are tested together for emergent bugs and a final signoff occurs.</p><p>Technically, we should be able to finalize all of the release branches and deploy the resulting code from each master branch. However, a version mismatch between deployed and consumed assemblies would occur.</p><p>An example for clarity:</p><p>We have Project A, which includes a Project A Proxy and has no dependencies, and Project B, which consumes the Project A Proxy.</p><p>I&#39;m going to assume every commit, regardless of the branch, is built with a unique version number per project, and we deploy the assemblies that are build from the <code>master</code> branch.</p><ol><li>We cut our two <code>release</code> branches: <code>A 1.0.0.001</code> (which yields <code>A 1.0.0.001</code> and <code>A Proxy 1.0.0.001</code>) and <code>B 1.0.0.001</code> (which yields <code>B 1.0.0.001</code>).</li><li>Both projects get their version number advanced one minor version number: <code>A 1.1.0.002</code> and <code>B 1.1.0.002</code></li><li>We update NuGet packages for Project B: <code>B 1.1.0.003</code>, now consuming <code>A 1.1.0.002</code></li><li>Testing is completed, no bugs were found, final signoff is approved. Both project are merged to <code>master</code>: <code>A 1.1.0.003</code> and <code>B 1.1.0.004</code> (consuming <code>A 1.1.0.002</code>)</li></ol><p>However, now there is a mismatch in version numbers &#8211; we deployed <code>A 1.1.0.003</code>, but are consuming <code>A 1.1.0.002</code>. In this case, we might be able to assume that these contain the exact same code and that the difference in version numbers is due to a branching merge, which is true here, but may not always be.</p><p>In the past, the way we worked around this was to sequentially merge the release branches in order of the dependency chain and update the dependent projects, but if a bug is found upstream in the release cycle, we have no way of patching it outside of a <code>hotfix</code> branch (which doesn&#39;t seem to make sense because the code is technically not deployed yet &#8211; it&#39;s still in testing because of the dependent products, and has not been completely signed off yet).</p><p>How can we resolve this paradox? We must keep all our product release cycles in sync because of the dependent relationship between them, but we also want to ensure that for each product and dependency the versions that have been tested and signed off on are the ones that were released.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I don&#39;t quite understand how you suddenly got to version B 1.1.0.003, however I can&#39;t help but feel you are making this much more complicated than it needs to be.  You said yourself that all of your projects get released at one time, and that is likely because of the spider web of dependencies that projects seem to have with one another.  A single change for a hotfix in Project A sounds like it can have a downstream effect where Project B likely needs to update its version dependency on Project A to the new hotfix version, causing Project B to have a new hotfix version, and etc...</p><h2>Develop Branch</h2><p>The way to think about the develop branch of any one project is for ongoing development towards the next major or minor version of that software component.  Only after this has been thoroughly tested and ready for final QA testing will you ever need to commit to a new release number.</p><h2>Release Branch</h2><p>When you have committed to a new Release number, and everything is good to go, you increment your major or minor version numbers and update your dependencies.  Its finally official, these components are going into production.  You can always rebase your dev branch later and now your dev branch has the latest version number in production, and the latest bug fixes that were resolved in the Release branch.</p><h2>Hotfix Branch</h2><p>Basically same as release except you change the update or patch number in your software component versions.</p><h2>Nuget Build Numbers to the Rescue</h2><p>Official version numbers should ONLY be incremented or changed for stable &#34;complete&#34; code.  All other code is considered in development so when managing changes in dependencies currently under development you should use tools in Nuget to reference dependencies on versions + build numbers.  Build numbers are inherently temporary and can be lobbed off before you merge Release back into Master.  I understand there are other tools that do this even better like Paket.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../git-in-git-is-the-use-of-a-production-branch-necessary-and-or-would-it-be-feasible-to-have-more-than-one-of-them/'>Git &#8211; In Git, is the use of a &#8216;PRODUCTION&#8217; branch necessary and/or would it be feasible to have more than one of them</a></li><li class="list-group-item"><a href='../web-development-gitflow-workflow-for-web-development/'>Web-development &#8211; Git(flow) workflow for web development</a></li><li class="list-group-item"><a href='../git-package-and-version-strategies-in-a-multi-repository-environment/'>Git &#8211; package and version strategies in a multi repository environment</a></li><li class="list-group-item"><a href='../git-flow-w-vsts-build-pipelines/'>Git Flow w/ VSTS Build Pipelines</a></li><li class="list-group-item"><a href='../git-which-artifact-should-i-deploy-to-prod-when-using-git-flow/'>Git &#8211; Which artifact should I deploy to prod when using Git Flow</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>