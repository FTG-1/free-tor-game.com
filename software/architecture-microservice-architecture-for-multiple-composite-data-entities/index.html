<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture &#8211; Microservice architecture for multiple composite data entities &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1087979 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1087979" class="post-1087979 software type-software status-publish hentry category-software tag-architecture tag-microservices"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture &#8211; Microservice architecture for multiple composite data entities</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">microservices</span></p><div class="entry-content"><p>We have a high read, low write website which currently has monolithic architecture on back end.</p><p>We have recently started breaking it into micro-services.<br /> We have designed some micro-services &#8211; Product, Price, Offers, Content(images, videos, etc&#8230;).</p><p>There is another micro-service &#8211; &#34;Recommend&#34;. This service runs a logic and provides similar product ids for a given product id.</p><p>On our product page we want to show Product details, prices, offers and a image. This is very similar to Amazon product page.<br /> This part looks fairly simple, as we call all micro-services in parallel and compose the required entity.</p><p>Next section is of &#34;Similar products&#34; which shows basic details of multiple similar products. This section is similar to Amazon&#39;s &#34;Sponsored products&#34; section.</p><p><a href="../../../i.stack.imgur.com/IDXhc.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/IDXhc.png" alt="enter image description here"/></a></p><p>Now as per our current approach, we first invoke &#34;Recommend&#34; service which returns list of product ids. Then we send these ids to all other micro-services to fetch their product details, prices, offers &amp; image.</p><p>This approach works fine but there are some points of discussion to it:</p><ol><li><p>Some micro-service calls are dependent on others. We have to wait for first call to complete before we can start with others. As much I&#39;ve read, people say that all micro-service calls should be as much independent as possible.</p></li><li><p>Is it even the correct approach? Could there be some better approach such as:</p><p>i. Another service that performs this composition and caches composed data. But now this new service will have to listen to changes from all micro services and invalidate cache accordingly. This approach improves overall performance.</p><p>ii. Sync some high traffic data like prices to Product micro-service but this increases complexity and makes micro-services somewhat dependent on each other which is against the principles of micro-service.</p></li></ol><p>Would like to know what others are doing in such cases.<br /> I checked on StackExchange but could not find something like my problem.<br /> Something similar &#8211; <a href="https://softwareengineering.stackexchange.com/questions/351309/how-to-query-data-from-multiple-microservices">How to query data from multiple microservices</a></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>As with many issues in the field of software engineering, there are some tradeoffs to consider here. Yes, you do want microservices to be as independent as possible, but since they need to work as a single system, you can&#39;t avoid all dependencies. The tough point is deciding how much dependency is still OK while giving you the end result you need. Apart from very simple systems, you will always have some services which need to access data produces by others.</p><p>Two common approaches are:</p><ul><li>service A calls service B to get its data</li><li>service A owns its own copy of the data which originates in service B</li></ul><p>Hybrid approaches are also possible, such as using the former method for some kinds of data and the latter for others.</p><p>Main advantages and disadvantages to consider:</p><ul><li>service A calls service B to get its data<ul><li>pro<ul><li>data is fetched at the latest possible moment, so it is as up-to-date as possible</li><li>simplicity: no data duplication and synchronization issues</li></ul></li><li>con<ul><li>performance: calls to service A become longer since it has to call service B during each call</li><li>reliability: if service B goes down, service A becomes unusable as well (and any performance issues propagate likewise)</li></ul></li></ul></li><li>service A owns its own copy of the data which originates in service B<ul><li>pro<ul><li>performance: data is available directly with service A&#39;s &#34;own&#34; data</li><li>reliability: if service B goes down or becomes slow, service A is not affected</li></ul></li><li>con<ul><li>complexity: you have to provide a mechanism of propagating data updates e.g. via events sent over a message bus</li><li>data duplication requires extra storage, network bandwidth for synchronization, etc.</li><li>there will be a lag between the data being updated in service B and this information being propagated to service A; whether this is a problem will depend on the context</li></ul></li></ul></li></ul><p>In practice, for large systems, the approach using data duplication is preferable due to improved reliability and performance. Moving data transfers to asynchronous communication wherever possible can be very helpful, and is actually essential for a truly cloud-native environment, but comes at the costs outlined below.</p><p>One factor you should consider is that your recommendation service probably has to use some of the offers&#39; data anyway: recommendations are probably made based on the products&#39; properties, so you need to have access to these properties in the Recommendation service anyway. Then, you could return them in your responses as well. However, if you need to return many details which your service does not need for itself (e.g. picture URL or some details of the text formatting), you may be better off pulling such data from an external service in real time and returning only product IDs.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../architecture-why-is-it-so-bad-to-read-data-from-a-database-owned-by-a-different-microservice/'>Architecture &#8211; Why is it so bad to read data from a database &#8220;owned&#8221; by a different microservice</a></li><li class="list-group-item"><a href='../how-to-query-data-from-multiple-microservices/'>How to query data from multiple microservices</a></li><li class="list-group-item"><a href='../data-security-between-users-in-a-microservice-architecture/'>Data Security Between Users in a Microservice Architecture</a></li><li class="list-group-item"><a href='../architecture-data-replication-in-microservices/'>Architecture &#8211; Data replication in microservices</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>