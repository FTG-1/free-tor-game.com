<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Dealing with similar objects with different method signatures &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082733 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082733" class="post-1082733 software type-software status-publish hentry category-software tag-design-patterns tag-object-oriented tag-object-oriented-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Dealing with similar objects with different method signatures</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">object-oriented</span><span class="mr-2 badge badge-warning">object-oriented-design</span></p><div class="entry-content"><p>I am fairly new to OO design and have problems with the design of some software and looking for a pattern or a combination of patterns that could help me solving my problem.</p><p>I have a type that has a collection of different geometric shapes (say lines, rectangles, and cubes). I actually even have composites of these shapes.<br /> Each shape has one or more values. A value is a coordinate (between one-dimensional for lines and three-dimensional for cubes).</p><p>All types of shapes have two methods that are essential. A method for adding values and a method for getting all values of a shape. E.g. <code>Cube.AddValue(new Value3D{X=4,Y=7,Z=11})</code> or <code>Line.AddValue(new Value1D{X=42})</code> respectively <code>Cube.GetValues()</code> would return a collection of <code>Value3D</code> and <code>Line.GetValues()</code> would return a collection of <code>Value1D</code>.</p><p>Since these methods have fundamentally different signatures, I can&#39;t just derive from a single interface to store all of these different objects in one collection. Splitting the collection into multiple separate collections, one for each type would be possible, but not desirable since they belong together (domain wise).</p><p>I&#39;ve considered using three-dimensional values for all shapes and just ignoring Y/Z for lines/rectangles, but that isn&#39;t really nice and would actually violate the O and L in SOLID (a 4th dimension is possibly needed in the future).</p><p>Another possibility would probably be to use a generic Interface like <code>IShape&lt;T&gt;</code> where <code>T</code> is Value*D. This interface would look like:</p><pre><code>public interface IShape&lt;T&gt; {
    public IEnumerable&lt;T&gt; GetValues();
    public void AddValue(T value);
}
</code></pre><p>But this would require another, non-generic <code>interface INonGenericShape {}</code> because I can&#39;t use a generic interface without specifying the type. I would end up with something like this:</p><pre><code>public class SomeShape{
    private IList&lt;INonGenericShape&gt; _shapes = new List&lt;INonGenericShape&gt;();
}
</code></pre><p>But then I could as well use <code>System.Object</code>, since IShape does not provide any valuable information. So here I am, not knowing how to solve this (storing the objects in a single collection for consumers of that class). Can anyone provide some idea or insight?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Contrary to many (perhaps most) object-oriented design tutorials out there, inheritance hierarchies should not necessarily match up with a domain&#39;s real-world taxonomy.  In other words, just because all your objects are shapes in the real world doesn&#39;t necessarily mean they should all inherit from <code>IShape</code> in your program.  Even if they do all share an interface, just because they have similar methods doesn&#39;t mean those methods need to be part of that interface.</p><p>The trick is to look at the <em>calling</em> code to see what operations you really need at that point.  For example:</p><pre><code>for shape in shapes:
  shape.doSomething()
</code></pre><p>Are you really going to call <code>AddValue</code> in a loop like that?  I doubt it.  More likely, it&#39;s going to be something like <code>Draw</code> or <code>GetEditControl</code>, and <code>AddValue</code> will be called before it&#39;s even put into <code>shapes</code>, or by a dimension-aware <code>EditControl</code>.  In other words, <code>IShape</code> should only have methods that don&#39;t care about dimension, and operations that care about dimension should be handled by other interfaces.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-does-this-model-pattern-have-a-name/'>Object-oriented &#8211; does this model-pattern have a name</a></li><li class="list-group-item"><a href='../c-generics-vs-common-interface/'>C# &#8211; Generics vs common interface</a></li><li class="list-group-item"><a href='../java-generating-java-classes-with-compile-time-value-parameters/'>Java &#8211; Generating Java Classes with Compile-time Value Parameters</a></li><li class="list-group-item"><a href='../design-architecture-for-a-tower-defense-game-with-multiple-towers-of-similar-type/'>Design &#8211; Architecture for a Tower Defense game with multiple towers of similar type</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>