<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Best practices for logging and tracing in .NET &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064013 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064013" class="post-1064013 software type-software status-publish hentry category-software tag-logging tag-net"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Best practices for logging and tracing in .NET</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">logging</span><span class="mr-2 badge badge-info">net</span></p><div class="entry-content"><p>I&#39;ve been reading a lot about tracing and logging, trying to find some golden rule for best practices in the matter, but there isn&#39;t any. People say that good programmers produce good tracing, but put it that way and it has to come from experience.</p><p>I&#39;ve also read similar questions in here and through the internet and they are not really the same thing I am asking or do not have a satisfying answer, maybe because the questions lack some detail.</p><p>So, folks say that tracing should sort of replicate the experience of debugging the application in cases where you can&#39;t attach a debugger. It should provide enough context so that you can see which path is taken at each control point in the application.</p><p>Going deeper, you can even distinguish between tracing and event logging, in that &#34;event logging is different from tracing in that it captures major states rather than detailed flow of control&#34;.</p><p>Now, say I want to do my tracing and logging using only the standard .NET classes, those in the <code>System.Diagnostics</code> namespace. I figured that the TraceSource class is better for the job than the static Trace class, because I want to differentiate among the trace levels and using the TraceSource class I can pass in a parameter informing the event type, while using the Trace class I must use <code>Trace.WriteLineIf</code> and then verify things like <code>SourceSwitch.TraceInformation</code> and <code>SourceSwitch.TraceErrors</code>, and it doesn&#39;t even have properties like <code>TraceVerbose</code> or <code>TraceStart</code>.</p><p>With all that in mind, would you consider a good practice to do as follows:</p><ul><li>Trace a &#34;Start&#34; event when begining a<br /> method, which should represent a<br /> single logical operation or a<br /> pipeline, along with a string<br /> representation of the parameter<br /> values passed in to the method.</li><li>Trace an &#34;Information&#34; event when<br /> inserting an item into the database.</li><li>Trace an &#34;Information&#34; event when<br /> taking one path or another in an<br /> important if/else statement.</li><li>Trace a &#34;Critical&#34; or &#34;Error&#34; in a<br /> catch block depending on whether it<br /> is a recoverable error.</li><li>Trace a &#34;Stop&#34; event when finishing<br /> the execution of the method.</li></ul><p>And also, please clarify when best to trace Verbose and Warning event types. If you have examples of code with nice trace/logging and are willing to share, that would be excelent.</p><p><strong>Note:</strong> I&#39;ve found some good information here, but still not what I am looking for: <a href="http://msdn.microsoft.com/en-us/magazine/ff714589.aspx" rel="nofollow noreferrer">http://msdn.microsoft.com/en-us/magazine/ff714589.aspx</a></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The importance of trace types must be chosen not because of where the trace is in code, but because the traced message is more or less important. Example:</p><blockquote><p>Trace a &#34;Start&#34; event when beginning a method, which should represent a single logical operation or a pipeline, along with a string representation of the parameter values passed in to the method.</p></blockquote><p>Use start type when you start a logical operation. This doesn&#39;t mean that the start trace must be at the beginning of a method, nor does it mean that a method must have a start trace.</p><p>This being said, in most cases, a logical operation will actually start at the beginning of the method. Otherwise, you should ask yourself if the code is refactored correctly.</p><p><strong>Tracing parameters may also be a bad idea</strong>. You have to think what to trace, case by case. For example it is really bad to trace parameters of a method <code>void Authenticate(string userName, string plainPassword)</code>.</p><blockquote><p>Trace an &#34;Information&#34; event when inserting an item into the database.</p></blockquote><p>It depends. Some items must be traced, but not every item.</p><ul><li>For example imagine you are actually inserting a log item into your database. Would you trace logs? And then log traces? And then trace the logging of the trace?</li><li>Another example: you&#39;re inserting a sensitive data. This requires auditing. Since you audited the insertion, why tracing it?</li></ul><blockquote><p>Trace an &#34;Information&#34; event when taking one path or another in an important if/else statement.</p></blockquote><p>Again, it depends.</p><blockquote><p>Trace a &#34;Critical&#34; or &#34;Error&#34; in a catch block depending on weather this is a recoverable error.</p></blockquote><p>The action taken after a non-recoverable error can be more than tracing. For example server-side, you would like to store the exception in the database for further analysis. Also, some exceptions are less important than others, and does not require tracing.</p><blockquote><p>Trace a &#34;Stop&#34; event when finishing the execution of the method.</p></blockquote><p>See the first point.</p><blockquote><p>please clarify when best to trace Verbose and Warning event types.</p></blockquote><p><strong>Verbose:</strong></p><p>Verbose is used to trace what you need to trace when something goes really wrong. It means that in most cases, you will disable the tracing of verbose messages, but sometimes, you have to debug some parts of your code to understand why something fails on an edge case.</p><p>You usually have lots of verbose messages which let you understand really well the application flow. It also means that those messages must be disabled most of the time because:</p><ul><li>otherwise, the log will grow really fast,</li><li>you don&#39;t need them most of the time,</li><li>they may contain sensitive data about the application flow.</li></ul><p>Think about verbose as a tool you have to use when you don&#39;t have an access to the debugger.</p><p><strong>Warning:</strong></p><p>Warning type trace is used when something wrong and important happens, but is not too crucial to be treated as an error. For example low RAM may emit a warning, but there is no reason to trace an error, since your application can continue, even if it will be slower than usual.</p><p><strong>Examples:</strong></p><ul><li><p>Example 1: the application failed to open the file the user requested to open. The file exists and is not in use, permissions are set correctly, but something blocks the opening of a file. In this case, you will trace an <strong>error</strong>, since your application cannot manage this case and continue to work as expected by the user (i.e. actually read the file).</p></li><li><p>Example 2: after inspection of the error in the first example, you find that the error is caused by the fact that the file path is longer than 259 characters. So you refactor your code to catch <code>PathTooLongException</code>. When, the next time, the user tries to open the same file, the new version of the application shows a message explaining that the file is too long and must be moved to another folder to shorten the full path in order to open this file in this application. You also trace a <strong>message</strong>.</p></li><li><p>Example 3: your application spent twenty seconds opening and parsing a small file while most files take ten to one hundred milliseconds to open and parse. You trace a <strong>warning</strong> with relevant info: the type of disk where the file actually is, the file system, the size of the file, the exact time spent, the time the computer was on, etc. When the user complains that it takes twenty seconds to open the file, you take the trace to find what happens. You find for example that it takes so long to load the files from a network share when the computer have just started. You explain to the user that the delay is due to the network and is not related to your application.</p></li><li><p>Example 4: the opened file is displayed incorrectly. You enable <strong>verbose</strong> trace where you actually see how the data is loaded from file and then parsed, step by step.</p></li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../whats-the-best-way-to-manage-error-logging-for-exceptions/'>What&#8217;s the best way to manage error logging for exceptions</a></li><li class="list-group-item"><a href='../java-rules-and-advice-for-logging/'>Java &#8211; Rules and advice for logging</a></li><li class="list-group-item"><a href='../java-why-does-the-trace-level-exist-and-when-should-i-use-it-rather-than-debug/'>Java &#8211; Why does the TRACE level exist, and when should I use it rather than DEBUG</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>