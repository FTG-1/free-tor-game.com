<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Javascript &#8211; What does it mean to inject data (vs behaviour) in a class constructor, and why is that considered bad practice &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085676 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085676" class="post-1085676 software type-software status-publish hentry category-software tag-class tag-decorator tag-javascript tag-typescript"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Javascript &#8211; What does it mean to inject data (vs behaviour) in a class constructor, and why is that considered bad practice</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">class</span><span class="mr-2 badge badge-info">decorator</span><span class="mr-2 badge badge-warning">javascript</span><span class="mr-2 badge badge-primary">typescript</span></p><div class="entry-content"><p>I am reading the book &#34;Learning TypeScript&#34; by Remo Jansen. In one section the author describes how to create a very simple proof-of-concept MVC framework including how to create the <code>Model</code> class and says the following:</p><blockquote><p>A model needs to be provided with the URL of the web service that it consumes. We are going to use a class decorator named ModelSettings to set the URL of the service to be consumed. We could inject the service URL via its constructor, but <em><strong>it is considered a bad practice to inject data (as opposed to a behavior) via a class constructor</strong></em>.</p></blockquote><p>I don&#39;t understand that last sentence. In particular, I don&#39;t understand what it means to &#34;inject data&#34;. It seems to me that in almost all introductions to JavaScript classes using over-simplified examples, data is introduced (&#34;injected&#34;?) into the constructor via its parameters. For example:</p><pre><code>class Person {
  constructor(name) {
    this.name = name;
  }
}
</code></pre><p>I certainly think of <code>name</code> as data, not as behaviour, and it is universally included in this sort of example as a constructor parameter, and there is never any mention that this is bad practice. I thus assume I&#39;m misunderstanding something in the above quote, either what is meant by &#34;data&#34; or by &#34;inject&#34; or something else.</p><p>Your answers could include explanations of when, where, how and why to use decorators in JavaScript/TypeScript, as I strongly suspect that concept is intimately connected to the understanding I seek. However, more importantly, I want to understand more generally what is meant by injecting data via a class constructor and why that&#39;s bad.</p><hr/><p>To give more context to the above quote, this is the situation: A <code>Model</code> class is created which, in this example, will be used to create stock exchange models, one for NASDAQ and one for NYSE. Each model requires the path of the web service or static data file that will provide the raw data. The book states that a decorator should be used for this information, rather than a constructor parameter, leading to the following:</p><pre><code>@ModelSettings(&#34;./data/nasdaq.json&#34;)
class NasdaqModel extends Model implements IModel {
  constructor(metiator : IMediator) {
    super(metiator);
  }
...
}
</code></pre><p>I just haven&#39;t been understanding why I should add the service url via the decorator rather than simply as a parameter for the constructor, e.g.</p><pre><code>constructor(metiator : IMediator, serviceUrl : string) {...
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;ll give the author the benefit of the doubt and perhaps that is the way things are for Typescript, but otherwise in other environments that&#39;s a totally unsubstantiated claim that shouldn&#39;t be taken seriously.</p><p>Off the top of my head, I can think of a variety of situations where passing data via constructor is good, some that are neutral, but none where it&#39;s bad.</p><p>If a particular class depends on a particular piece of data in order to be in a valid state and run properly, it makes perfect sense to demand that data in the constructor. A class representing a serial port could take the port name, a file object could require the filename, a drawing canvas requiring its resolution, etc. Unless you pass the data in the constructor, it&#39;s possible you could have the object in an invalid state that has to be watched for and checked. Otherwise you can check only at object instantiation and afterwards assume its working for the most part. The authors claim makes that beneficial situation impossible.</p><p>Additionally, deciding to forbid passing data in a constructor also makes virtually all immutable objects impossible. Immutable objects have a variety of benefits in many situations, and all of those would be thrown out with the author&#39;s policy.</p><p>Even if mutable objects are what you want, how is this bad practice:</p><pre><code>var blah = new Rectangle(x,y,width,height);
</code></pre><p>in favor of:</p><pre><code>var blah = new Rectangle();
blah.X = x;
blah.Y = y;
blah.Width = width;
blah.Height = height;
</code></pre><p>Does the author really think the first is bad practice and I should always go with option 2? I think that&#39;s crazy talk.</p><p>So, since I don&#39;t have the book, and wouldn&#39;t read it anyway even if I did, I&#39;d view that statement and pretty much any general statement in it at this point with a significant amount of suspicion.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/object-oriented-what-are-the-benefits-of-using-a-decorator-factory-that-decorates-objects/'>Object-oriented &#8211; What are the benefits of using a &#8216;decorator factory&#8217; that decorates objects</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/object-oriented-optional-data-in-the-constructor-bad-practice/'>Object-oriented &#8211; optional data in the constructor, bad practice</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/object-oriented-how-should-an-employee-class-be-designed/'>Object-oriented &#8211; How should an `Employee` class be designed</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/typescript-and-angular-6-mapping-service-results-to-data-transfer-objects/'>Typescript and Angular 6 &#8211; Mapping Service Results to Data Transfer Objects</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>