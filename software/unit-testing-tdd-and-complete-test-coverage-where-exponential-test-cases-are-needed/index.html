<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Unit-testing &#8211; TDD and complete test coverage where exponential test cases are needed &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1078969 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1078969" class="post-1078969 software type-software status-publish hentry category-software tag-algorithms tag-tdd tag-unit-testing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Unit-testing &#8211; TDD and complete test coverage where exponential test cases are needed</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithms</span><span class="mr-2 badge badge-info">tdd</span><span class="mr-2 badge badge-warning">unit testing</span></p><div class="entry-content"><p>I am working on a list comparator to assist sorting an unordered list of search results per very specific requirements from our client.  The requirements call for a ranked relevance algorithm with the following rules in order of importance:</p><ol><li>Exact match on name</li><li>All words of search query in name or a synonym of the result</li><li>Some words of search query in name or synonym of the result (% descending)</li><li>All words of the search query in the description</li><li>Some words of the search query in the description (% descending)</li><li>Last modified date descending</li></ol><p>The natural design choice for this comparator seemed to be a scored ranking based on powers of 2.  The sum of lesser important rules can never be more than a positive match on a higher importance rule.  This is achieved by the following score:</p><ol><li>32</li><li>16</li><li>8 (Secondary tie-breaker score based on % descending)</li><li>4</li><li>2 (Secondary tie-breaker score based on % descending)</li><li>1</li></ol><p>In the TDD spirit I decided to start with my unit tests first.  To have a test case for each unique scenario would be at a minimum 63 unique test cases not considering additional test cases for secondary tie breaker logic on rules 3 and 5.  This seems overbearing.</p><p>The actual tests will actually be less though.  Based on the actual rules themselves certain rules ensure that lower rules will always be true (Eg. When &#39;All Search Query words appear in description&#39; then rule &#39;Some Search Query words appear in description&#39; will always be true).  Still is the level of effort in writing out each of these test cases worth it?  Is this the level of testing that is typically called for when talking about 100% test coverage in TDD?  If not then what would be an acceptable alternative testing strategy?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Your question implies that TDD has something to do with &#34;writing all test cases first&#34;. IMHO that&#39;s not &#34;in the spirit of TDD&#34;, actually it&#39;s <em>against</em> it. Remember that TDD stands for &#34;test <strong>driven</strong> development&#34;, so you need only those test cases which really &#34;drive&#34; your implementation, not more. And as long as your implementation is not designed in a way where the number of code blocks grows exponentially with each new requirement, you won&#39;t need an exponential number of test cases either. In your example, the TDD cycle probably will look like this:</p><ul><li>start with the first requirement from your list : words with &#34;Exact match on name&#34; must get a higher score than everything else</li><li>now you write a first test case for this (for example: a word matching a given query) and implement the minimal amount of working code which makes that test pass</li><li>add a second test case for the first requirement (for example: a word not matching the query), and <em>before adding a new test case</em>, change your existing code until the 2nd test passes</li><li>depending on details of your implementation, feel free to add more test cases, for example, an empty query, an empty word etc (remember: TDD is a <em>white box</em> approach, you can make use of the fact that you know your implementation when you design your test cases).</li></ul><p>Then, start with the 2nd requirement:</p><ul><li>&#34;All words of search query in name or a synonym of the result&#34; must get a lower score than &#34;Exact match on name&#34;, but a higher score than everything else.</li><li>now build test cases for this new requirement, just like above, one after another, and  implement the next part of your code after each new test. Don&#39;t forget to refactor in between, your code as well as your test cases.</li></ul><p><strong>Here comes the catch</strong>: when you add test cases for requirement/category number &#34;n&#34;, you will only have to add tests for making sure that the score of the category &#34;n-1&#34; is higher than the score for category &#34;n&#34;. You will not have to add any test cases for every other combination of the categories 1,...,n-1, since the tests you have written before will make sure that the scores of that categories will still be in the correct order.</p><p>So this will give you a number of test cases which grows approximately linear with the number of requirements, not exponentially.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-estimate-the-entropy-of-a-password/'>How to estimate the entropy of a password</a></li><li class="list-group-item"><a href='../unit-testing-is-it-a-good-idea-to-write-all-possible-test-cases-after-transforming-the-team-to-tdd-to-achieve-a-full-coverage/'>Unit-testing &#8211; Is it a good idea to write all possible test cases after transforming the team to TDD to achieve a full coverage</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>