<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; JSON object and storage of nosql &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080728 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080728" class="post-1080728 software type-software status-publish hentry category-software tag-azure tag-c tag-json tag-nosql"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; JSON object and storage of nosql</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">azure</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">json</span><span class="mr-2 badge badge-primary">nosql</span></p><div class="entry-content"><p>I have read <a href="https://softwareengineering.stackexchange.com/questions/111594/would-a-nosql-db-be-more-efficient-than-a-relational-db-for-storing-json-objects">Would a NoSQL DB be more efficient than a relational DB for storing JSON objects?</a> and am building a small test project in Asp.Net. I have a <a href="http://www.asp.net/web-api" rel="nofollow noreferrer">webapi</a> up in Azure. It returns a <code>List&lt;Company&gt;</code> and Company is my object which has several properties and child list and a lat/long value.</p><pre><code>//id, name etc.
public List&lt;Certification&gt; Certifications { get; set; }
public float Latitude { get; set; }
public float Longitude { get; set; }
public GeoCoordinate Cordinate // etc. GeoCoordinate is from System.Device reference
</code></pre><p>I return this List of companies and use the JSON output.<br /> Now internally, loading this list I load the complete list of companies out of a json file. and if there is no file, a file will be created. This is all good. But the Latitude and Longtitude is empty on the initial basis. So I fill it using googles reverse geocode. That works, but has a request limit. So I&#39;d like to load the list and if lat/long is empty, retrieve the values from google&#39;s service and store it. But I am looking for a solution not to store the complete json list to a file again. And I am not looking for a relational database solution, because that is something that I have done enough. Now I have read about mongoDB. But it is a bit hard to set up on Azure. I have had Redis on Azure. What easy and fast solution do you recommend for me to store my list of objects? Do you even recommend it to store it as JSON? or something else? like XML? and use xpath to update values?<br /> So I am looking for an architecture/design to update all lat/longs untill google gives the quota limit error and give it a go next try I access the list of companies.</p><p>ps. I do not want to store a list of <code>Certification</code>&#39;s. I am curious if I can keep it as property of company and store the complete company project.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;m gonna show how I would solve this using the Starcounter database to store the data and using it&#39;s internal web server to fetch the data as JSON models. The application model is automatically the database if [Database] attribute is set.</p><p>The database</p><pre><code>[Database]
public class Company{
   public String Name; 
   public String RegistrationNumber;
   ... and so on
   public IEnumerable&lt;Certificate&gt; Certificates{
         get{
            return Db.SQL(&#34;SELECT c FROM Certificate where c.Position=?&#34;,this);
         }
   }

   private Coordinate Coordinate;
   public double Latitude{
        get{
            if(Coordinate == null){
                 AssureCoordinates();
            }
            return Coordinate.Latitude;
         }
   }
   public double Longitute
        get{
            if(Coordinate == null){
                 AssureCoordinates();
            }
            return Coordinate.Longitute;
         }
   }

   private void AssureCoordinates(){
          ... fetch from whatever source and set to Coordinate
   }
</code></pre><p>And then in the integrated web server I would define a JSON model for the Company:</p><pre><code>{
     Name:&#34;ACME Ltd&#34;,
     RegistrationNumber:&#34;555-5555&#34;,
     Longitude:&#34;123.4&#34;,
     Latitude:&#34;123.4&#34;,
     Certificates:[
        {
            ... certifcates properties
        }],
     $:{DataType:&#34;Company&#34;},
     $Certificates:{DataType:&#34;Certificate&#34;
 }
</code></pre><p>This JSON model will be automatically bound to the persistent data in the database upon request.</p><p>And lastly register the REST verb+URI to respond to:</p><pre><code>Handle.GET(&#34;/company/?&#34;, (String registrationNumber) =&gt;
{
    CompanyModel cModel = new CompanyModel();
    Company comp = ... find company in DB using SQL
    cModel.Data = comp;
return cModel;
});
</code></pre><p>Now a JSON model of the requested company would be returned and all data is filled automatically from the database. The Coordinate will be fetched if not set upon first call to Long/Lat. You could of course also return a list of these Companies as well.</p><p>This setup will make your regular database act like a JSON source, and you can skip the regular web server as well.</p><p>Hope this helped you on how to solve this problem using a NoSQL database!</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-i-need-advice-developing-a-sensitive-data-transfer-storage-encryption-system/'>C# &#8211; I need advice developing a sensitive data transfer/storage/encryption system</a></li><li class="list-group-item"><a href='../design-nosql-azure-table-storage-rowkey-design-for-ordered-data/'>Design &#8211; NoSQL (Azure Table Storage) RowKey design for ordered data</a></li><li class="list-group-item"><a href='../c-representing-a-parent-child-hierarchy-in-a-relational-database/'>C# &#8211; Representing a parent/child hierarchy in a Relational Database</a></li><li class="list-group-item"><a href='../architecture-data-integrity-in-nosql-situations/'>Architecture &#8211; Data integrity in NoSQL situations</a></li><li class="list-group-item"><a href='../database-how-would-you-design-a-user-database-with-custom-fields/'>Database &#8211; How would you design a user database with custom fields</a></li><li class="list-group-item"><a href='../json-without-quotes-for-keys/'>JSON without quotes for keys</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>