<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; What&#8217;s the difference between the code inside a finally clause and the code located after catch clause &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075194 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075194" class="post-1075194 software type-software status-publish hentry category-software tag-exceptions tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; What&#8217;s the difference between the code inside a finally clause and the code located after catch clause</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">exceptions</span><span class="mr-2 badge badge-info">java</span></p><div class="entry-content"><p>My java code is just like below:</p><pre><code>public void check()throws  MissingParamException{
    ......
}
public static void main(){
    PrintWriter out = response.getWriter();
    try {
        check();
    } catch (MissingParamException e) {
        // TODO Auto-generated catch block
        out.println(&#34;message:&#34;+e.getMessage());
        e.printStackTrace();
        out.close();
    }finally{
        out.close();
    }
    //out.close();
}
</code></pre><p>Then, my confusion is: what the difference if I put <code>out.close()</code> in a finally code block or if I just remove finally code block and put <code>out.close()</code> behind catch clause (which has been commented in the code). I know that in both ways, the <code>out.close()</code> will be executed because I know that whether the exception happened, the code behind the catch clause will always be executed.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The <code>finally {}</code> block is <em>always</em> called (unless you call <code>exit()</code> before finally is reached - but you won&#39;t be doing that most of the time).</p><p>The purpose of finally is to clean up any resources allocated in the <code>try {}</code> block, even if something was thrown and it hit the <code>catch{}</code> block.</p><p>Consider the code:</p><pre><code>public class Hello {

    public static void main(String[] args) {
        hello();
    }

    public static void hello() {
        try {
            System.out.println(&#34;hi&#34;);
            return;
        } catch (RuntimeException e) {
        } finally {
            System.out.println(&#34;finally&#34;);
        }
    }
}
</code></pre><p>While there isn&#39;t any resource allocation in this, just pretend there is.  This will print out:</p><pre>hi
finally
</pre><p>If you had opened a file in the try block, the finally is the place to clean it up.  If you had opened one file, and then tried to open another one (that threw an exception), the finally is the place to clean that up.</p><p>If there was an uncaught exception by the <code>catch</code> block, then the <code>finally</code> would run, and the exception would get passed on up.</p><p>Putting <code>out.close()</code> in the <code>catch</code> <em>and</em> the <code>finally</code> is redundant - because it will be run in the finally block - on a caught exception or successful completion of the <code>try</code>.</p><p>With the existing code, the following code paths are possible:</p><ul><li><p>No exception:</p><ol><li>check() - no exception thrown</li><li>finally { } - out.close</li></ol></li><li><p>Caught exception:</p><ol><li>check() - MissingParamException thrown</li><li>catch { } - stuff and out.close</li><li>finally { } - out.close</li></ol></li><li><p>Uncaught exception:</p><ol><li>check() - NPE thrown</li><li>finally { } - out.close</li></ol></li></ul><p>You should be able to see from this, the <code>finally</code> is always called, and in the caught exception, <code>out.close()</code> is invoked twice.</p><p>The associated spec is <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2">§14.20.2</a> in Java SE 7 language specification.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../why-use-try-finally-without-a-catch-clause/'>Why use try … finally without a catch clause</a></li><li class="list-group-item"><a href='../how-to-handle-exceptions-that-get-absorbed-by-a-3rd-party-library/'>How to handle exceptions that get absorbed by a 3rd party library</a></li><li class="list-group-item"><a href='../java-how-to-deal-with-ioexception-when-file-to-be-opened-already-checked-for-existence/'>Java &#8211; How to deal with IOException when file to be opened already checked for existence</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>