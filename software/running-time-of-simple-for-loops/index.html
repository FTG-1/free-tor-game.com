<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Running time of simple for-loops &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063848 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063848" class="post-1063848 software type-software status-publish hentry category-software tag-algorithms tag-big-o tag-runtime"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Running time of simple for-loops</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithms</span><span class="mr-2 badge badge-info">big o</span><span class="mr-2 badge badge-warning">runtime</span></p><div class="entry-content"><p>I&#39;m reading algorithms and I understand most of it, one thing that I can still struggle with a lot is something as simple as running times on different for-loops. Everyone seems to have easy with that, except for me and therefore I search help here.</p><p>I am currently doing some excercises from my book and I need help completing them in order to figure out the different running times.</p><p>The title of the exercise is: &#34;Give the order of growth(as a function of N) of the running times of each of the following code fragments&#34;</p><p>a:</p><pre><code>int sum = 0;
for (int n = N; n &gt; 0; n /= 2)
  for(int i = 0; i &lt; n; i++)
    sum++;
</code></pre><p>b:</p><pre><code>int sum = 0;
for (int i = 1; i &lt; N; i *= 2)
  for(int j = 0; j &lt; i; j++)
    sum++;
</code></pre><p>c:</p><pre><code>int sum = 0;
for (int i = 1; i &lt; N; i *= 2)
  for(int j = 0; j &lt; N; j++)
    sum++;
</code></pre><p>We have learned different kinds of running times/order of growth like n, n^2, n^3, Log N, N Log N etc. But I have hard understanding which to choose when the for loop differs like it does. the &#34;n, n^2, n^3&#34; is not a problem though, but I can&#39;t tell what these for-loops running time is.</p><p>Here&#39;s an attempt of something.. the y-axis represents &#34;N&#34; value and the x axis represents times the outer loop has been run. The drawings in the left is: arrow to the right = outer-loop, circle = inner loop and the current N value. I have then drawn some graphs just to look at it but I&#39;m not sure this is right though.. Especially the last one where N remains 16 all the time. Thanks.</p><p><img src="../../../i.stack.imgur.com/35QwR.jpg" alt="My drawing"/></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h1>Background</h1><ul><li><p>For an arbitrary <code>for</code> loop such as:</p><pre class="lang-c prettyprint-override"><code>for (int p = …; …)
    do_something(p);
</code></pre><p>it should be clear that the run time of this loop is simply the sum of the run times of the inner computations (i.e. <code>do_something(p)</code> in this case).  Note that the run time of the inner computation <em>may</em> depend on the loop variable(s).</p><p>In the special case where the run time of <code>do_something(p)</code> is independent of the loop variable(s), the run-time is then proportional to the number of times the inner computation is executed.</p></li><li><p>Typically, simple arithmetic such as incrementing (<code>sum++</code>) are constant-time operations.</p></li><li><p>For brevity I will use <code>log</code> to denote the base-2 logarithm.  Additionally, I will use <code>pow(x, y)</code> to denote <code>x</code> raised to the power <code>y</code> because <code>^</code> is often used for something else in the C-family of languages.</p></li></ul><h1>The problems</h1><p>The interesting coincidence in this set of problems is that the run time of each computation is actually proportional to the final value of the <code>sum</code> (can you see why?) so the question can be simplified to: how does the final value of <code>sum</code> vary with the parameter <code>N</code>?</p><p>The <code>sum</code> can be calculated algebraically, but we don&#39;t need to know the exact result.  We just need to make some good <em>estimates</em>.</p><h2>Problem A</h2><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int n = N; n &gt; 0; n /= 2)
  for (int i = 0; i &lt; n; i++)
    sum++;
</code></pre><p>How many times does the outer loop run?  It starts at <code>N</code> and goes down by half each time until it hits zero.  This is just (a discrete version of) an <em>exponential decay</em> with a base of 2.  Therefore, we can make an educated guess that</p><pre><code>n ∝ 1 / pow(2, p)    [approximately]
</code></pre><p>Here, we define <code>p</code> to be a counter that increases by 1 each time the outer loop is repeated.  In fact, this is exactly what your graph plots.</p><p>Where does <code>p</code> start?  We can just pick <code>p_start = 0</code> for convenience, and this allows us to determine the coefficient of proportionality:</p><pre><code> n ≈ N / pow(2, p)
</code></pre><p>Where does <code>p</code> end?  Whenever <code>n</code> reaches zero!  Since this is integer division, <code>n</code> can only be zero if <code>N &lt; pow(2, p)</code>.  From this we can deduce that <code>p_end ≈ log(N)</code> (base-2 logarithm).  With experience, you can easily skip this entire analysis and jump straight to this conclusion instead.</p><p>Now we can rewrite the loop using the variable <code>p</code> instead of <code>n</code> (again, <em>approximately</em>).  Notice that <em>every</em> instance of <code>n</code> must be substituted:</p><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int p = 0; p &lt; log(N); p++)
  for (int i = 0; i &lt; N / pow(2, p); i++)
    sum++;
</code></pre><p>The advantage of writing the loop like this is that it becomes obvious how many times the outer loop is repeated.  (Keen readers may notice that this is</p><p>The inner loop consists of only increments to <code>sum</code> and is repeated <code>N / pow(2, p)</code> times, so we can just rewrite the above to:</p><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int p = 0; p &lt; log(N); p++)
  sum += N / pow(2, p);
</code></pre><p>(Note that the run time of this loop may no longer be the same, but the value of <code>sum</code> still reflects the run time of the original problem.)</p><p>From this code we can write the value of <code>sum</code> as:</p><p><img src="https://latex.codecogs.com/png.latex?%5Cdpi%7B150%7D%20%5Ctext%7Bsum%7D%20%5Capprox%20%5Csum_%7Bp%20%3D%200%7D%5E%7B%5Clog%20N%7D%20%5Cfrac%7BN%7D%7B2%5Ep%7D" alt="sum ≈ ∑[p = 0 to log(N)] (N / pow(2, p))"/></p><p>(As randomA noted, this is just a <a href="https://en.wikipedia.org/wiki/Geometric_series" rel="nofollow noreferrer">geometric series</a> so there is a well-known closed-form <a href="https://en.wikipedia.org/wiki/Geometric_series#Formula" rel="nofollow noreferrer">expression for the sum</a>.  Here I use a more general technique based on calculus, however.)</p><p>This can be simplified further by approximating the summation as an integral:</p><p><img src="https://latex.codecogs.com/png.latex?%5Cdpi%7B150%7D%20%5Ctext%7Bsum%7D%20%5Capprox%20%5Cint_0%5E%7B%5Clog%20N%7D%20%5Cfrac%7BN%7D%7B2%5Ep%7D%20%5C%2C%20%5Cmathrm%20d%20p%20%5Capprox%20%5Cfrac%7BN%7D%7B%5Cln%202%7D" alt="sum ≈ ∫[0 to log(N)] (N / pow(2, p)) dp ≈ N / ln(2)"/></p><p>And there you go, the run time of the problem A is linear with respect to <code>N</code>.</p><h2>Problem B</h2><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int i = 1; i &lt; N; i *= 2)
  for (int j = 0; j &lt; i; j++)
    sum++;
</code></pre><p>The problem here is similar, but I&#39;ll omit some of the steps.  The variable <code>i</code> grows exponentially, so we can do the transformation:</p><pre><code>i ≡ pow(2, p)
</code></pre><p>with <code>p</code> increasing by one at each iteration, starting from <code>0</code>, and ending at <code>log(N)</code>.  After variable substitution, the loop becomes:</p><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int p = 0; p &lt; log(N); p++)
  for (int j = 0; j &lt; pow(2, p); j++)
    sum++;
</code></pre><p>which reduces to:</p><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int p = 0; p &lt; log(N); p++)
  sum += pow(2, p);
</code></pre><p>You can apply the same tricks again to find a closed-form expression for the sum: it is also <code>O(N)</code>.</p><h2>Problem C</h2><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int i = 1; i &lt; N; i *= 2)
  for (int j = 0; j &lt; N; j++)
    sum++;
</code></pre><p>This one is actually quite a bit easier because the number of repeats of the inner loop doesn&#39;t depend on the outer loop variable, so we can go right away and simplify this to:</p><pre class="lang-c prettyprint-override"><code>int sum = 0;
for (int i = 1; i &lt; N; i *= 2)
  sum += N;
</code></pre><p>The loop has the same exponential behavior as in Problem B, so it is run only <code>log(N)</code> times, so this can then be simplified to:</p><pre class="lang-c prettyprint-override"><code>int sum = 0;
sum += log(N) * N;
</code></pre><p>Hence, the run time is <code>O(N log(N))</code>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../single-for-loop-runtime-explanation-problem/'>Single for-loop runtime explanation problem</a></li><li class="list-group-item"><a href='../is-this-a-sorting-algorithm-faster-than-onlogn/'>Is this a sorting algorithm faster than O(n*log(n))</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>