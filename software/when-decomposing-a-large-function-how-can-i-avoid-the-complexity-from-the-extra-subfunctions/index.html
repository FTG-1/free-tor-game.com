<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>When decomposing a large function, how can I avoid the complexity from the extra subfunctions &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080956 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080956" class="post-1080956 software type-software status-publish hentry category-software tag-design-patterns tag-language-agnostic tag-programming-practices"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">When decomposing a large function, how can I avoid the complexity from the extra subfunctions</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">language-agnostic</span><span class="mr-2 badge badge-warning">programming practices</span></p><div class="entry-content"><p>Say I have a large function like the following:</p><pre><code>function do_lots_of_stuff(){

    { //subpart 1
      ...
    }

    ...

    { //subpart N
      ...
    }
}
</code></pre><p>a common pattern is to decompose it into subfunctions</p><pre><code>function do_lots_of_stuff(){
    subpart_1(...)
    subpart_2(...)
    ...
    subpart_N(...)
}
</code></pre><p>I usually find that decomposition has two main advantages:</p><ol><li>The decomposed function becomes much smaller. This can help people read it without getting lost in the details.</li><li>Parameters have to be explicitly passed to the underlying subfunctions, instead of being implicitly available by just being in scope. This can help readability and modularity in some situations.</li></ol><p>However, I also find that decomposition has some disadvantages:</p><ol><li>There are no guarantees that the subfunctions &#34;belong&#34; to do_lots_of_stuff so there is nothing stopping someone from accidentally calling them from a wrong place.</li><li>A module&#39;s complexity grows quadratically with the number of functions we add to it. (There are more possible ways for things to call each other)</li></ol><p><strong>Therefore:</strong></p><p>Are there useful convention or coding styles that help me balance the pros and cons of function decomposition or should I just use an editor with code folding and call it a day?</p><hr/><p>EDIT: This problem also applies to functional code (although in a less pressing manner). For example, in a functional setting we would have the subparts be returning values that are combined in the end and the decomposition problem of having lots of subfunctions being able to use each other is still present.</p><p>We can&#39;t always assume that the problem domain will be able to be modeled on just some small simple types with just a few highly orthogonal functions. There will always be complicated algorithms or long lists of business rules that we still want to correctly be able to deal with.</p><pre><code>function do_lots_of_stuff(){
   p1 = subpart_1()
   p2 = subpart_2()
   pN = subpart_N()
   return assembleStuff(p1, p2, ..., pN)
}
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><strong>Keep each function as simple as possible.</strong></p><p>Think of it in simple terms, the <strong><a href="http://en.wikipedia.org/wiki/Function_(mathematics)" rel="nofollow noreferrer">way a function is meant to be</a>:</strong></p><ul><li>gets 0 to N inputs,</li><li>returns 0 or 1 result (possible a composite or collection),</li><li><p>and isn&#39;t tied to state.</p><p><img src="../../../i.stack.imgur.com/7tji1.png" alt="Programming functions should aim to be equivalent to mathematical functions"/></p></li></ul><p>When you stick to <strong><a href="http://en.wikipedia.org/wiki/Functional_programming" rel="nofollow noreferrer">functional programming</a></strong> idioms, you get rid of most of these questions you&#39;re asking yourself. Sure, your class will get bigger in terms of number of functions. But if the methods are not tied to each by internal state changes, they get easier to understand, manage and <a href="http://en.wikipedia.org/wiki/Composition_of_functions" rel="nofollow noreferrer">compose</a> to achieve an end result.</p><p><img src="../../../i.stack.imgur.com/dL60r.png" alt="Function composition"/></p><p>Also, try to give them appropriate accesses based on the above design decisions. Helpers will commonly easily be declared as statics (and if they don&#39;t seem to need to be private or can be reused, they could extracted to an helper class), which gives a strong hint to the other developers: this thing is meant to be independent and side-effect free.</p><p>Repeat the following mantras to aim for <a href="http://en.wikipedia.org/wiki/Purely_functional" rel="nofollow noreferrer">purity</a>:</p><ul><li>My function shall be:<ul><li><strong>short</strong>,</li><li><strong>side-effects free</strong>,</li><li><strong>realizing one and one function only</strong>.</li></ul></li><li>My function shall be <strong>strict on output</strong>. <sup>[1]</sup></li><li>My function shall be <strong>testable</strong>, and <strong>tested</strong>.</li><li>My function shall be <strong>readable</strong> and <strong>read like a natural language expression</strong>.</li><li>My function shall be <strong><a href="https://softwareengineering.stackexchange.com/questions/78611/style-and-recommendations-of-commenting-code/78653#78653">documented</a></strong>. <sup>[2]</sup></li><li>My function shall be <strong>null-hostile</strong>.</li></ul><p><sup><em>[1] Whether it shall be strict or lenient on input depends on whether it&#39;s consumer code or library code.</em></sup> <br/> <sup><em>[2] Self-documentation counts, comments for tricky parts count as well.</em></sup></p><hr/><p>Of course, if you are in a generally non-FP-oriented code base, you won&#39;t manage to avoid shared mutable state for ever, <strong>but</strong> it&#39;s a very good, sensitive and no-BS guideline to follow. Even if you do get it wrong by over-modularizing and complexifying your class, it&#39;ll still be easier to pick up from there and refactor again than from a giant dump of code with high complexity and tight coupling.</p><p>Regarding the rules of the <a href="http://en.wikipedia.org/wiki/Principle_of_compositionality" rel="nofollow noreferrer">compositionality</a> of your functions, these are your business rules. They are dictated by what you want to achieve, there&#39;s no automagical way of determining it for you.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-decouple-configuration-data-from-the-program-that-uses-it/'>How to decouple configuration data from the program that uses it</a></li><li class="list-group-item"><a href='../an-example-of-a-continuation-not-implemented-as-a-procedure/'>An example of a continuation not implemented as a procedure</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>