<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Overriding methods by passing as argument the subclass object where the supertype is expected &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064201 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064201" class="post-1064201 software type-software status-publish hentry category-software tag-java tag-polymorphism"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Overriding methods by passing as argument the subclass object where the supertype is expected</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">polymorphism</span></p><div class="entry-content"><p>I am just learning Java, and am not a practicing programmer.</p><p>The book I am following says that when overriding a method, the argument types must be the same, but the return types can be polymorphically compatible.</p><p><em>My question</em> is why can&#39;t the arguments passed to the overriding method not be a subclass type of the super-type expected?</p><p>In the overloaded method, whatever method I call on the object is guaranteed to be defined on the object.</p><hr/><p>Notes on suggested duplicates:</p><p>The <a href="https://softwareengineering.stackexchange.com/questions/200919/making-subclass-more-type-specific-with-accessors">first suggestion</a> appears to be about class hierarchy and where to put functionality.  My question is more focused on why the language restriction exists.</p><p>The <a href="https://softwareengineering.stackexchange.com/questions/267037/template-pattern-with-varying-input-type-in-overridden-method">second suggestion</a> explains how to do what I&#39;m asking, but not <em>why</em> it has to be done that way.  My question is focused on the why.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The concept you initially refer to in your question is called <a href="http://en.wikipedia.org/wiki/Covariant_return_type">covariant return types</a>.</p><p>Covariant return types work because a method is supposed to return an object of certain type and overriding methods may actually return a subclass of it. Based on the subtyping rules of a language like Java, if <code>S</code> is a subtype of <code>T</code>, then wherever <code>T</code> appears we can pass an <code>S</code>.</p><p>As such it is safe to return an <code>S</code> when overriding a method that expected a <code>T</code>.</p><p>Your suggestion to accept that an overriding a method uses arguments that are subtypes of those requested by the overridden method is much more complicated since it leads to unsoundness in the type system.</p><p>By one hand, by the same subtyping rules mentioned above, most likely it already works for what you want to do. For instance</p><pre><code>interface Hunter {
   public void hunt(Animal animal);
}
</code></pre><p>Nothing prevents implementations of this class from receiving any kind of animal, as such it already satisfies the criteria in your question.</p><p>But let&#39;s suppose we could override this method as you suggested:</p><pre><code>class MammutHunter implements Hunter {
  @Override
  public void hunt(Mammut animal) {
  }
}
</code></pre><p>Here&#39;s the funny part, now you could do this:</p><pre><code>AnimalHunter hunter = new MammutHunter();
hunter.hunt(new Bear()); //Uh oh
</code></pre><p>As per the public interface of <code>AnimalHunter</code> you should be able to hunt any animal, but as per your implementation of <code>MammutHunter</code> you only accept <code>Mammut</code> objects. Therefore the overriden method does not satisfy the public interface. We just broke the soundness of the type system here.</p><p>You can implement what you want by using generics.</p><pre><code>interface AnimalHunter&lt;T extends Animal&gt; {
   void hunt(T animal);
}
</code></pre><p>Then you could define your MammutHunter</p><pre><code>class MammutHunter implements AnimalHunter&lt;Mammut&gt; {
   void hunt(Mammut m){
   }
}
</code></pre><p>And using generic covariance and contravariance you can relax the rules in your favor when necessary. For instance we could make sure that a mammal hunter can only hunt felines in a given context:</p><pre><code>AnimalHunter&lt;? super Feline&gt; hunter = new MammalHunter();
hunter.hunt(new Lion());
hunter.hunt(new Puma());
</code></pre><p>Supposing <code>MammalHunter</code> implements <code>AnimalHunter&lt;Mammal&gt;</code>.</p><p>In that case this would not be accepted:</p><pre><code>hunter.hunt(new Mammut()):
</code></pre><p>Even when mammuts are mammals it would not be accepted due to the restrictions on the contravariant type we are using here. So, you can still excercice some controll over the types to do things like the ones you mentioned.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/java-why-a-static-main-method-in-java-and-c-rather-than-a-constructor/'>Java &#8211; Why a static main method in Java and C#, rather than a constructor</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-overriding-access-to-members-with-reference-reassignment/'>Java &#8211; Overriding &#8211; Access to Members with Reference Reassignment</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-why-do-collections-accept-a-comparator-but-not-a-hypothetical-hasher-and-equator/'>Java: why do collections accept a Comparator but not (a hypothetical) Hasher and Equator</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-using-super-keyword-to-access-super-class-members/'>Java &#8211; Using super keyword to access super class members</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-how-to-implement-an-opaque-handle-in-c/'>C# &#8211; How to implement an opaque handle in C#</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>