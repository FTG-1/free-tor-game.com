<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Python &#8211; Can &#8220;higher order function&#8221; feature allow/maintain abstraction and encapsulation &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1087435 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1087435" class="post-1087435 software type-software status-publish hentry category-software tag-abstraction tag-encapsulation tag-functional-programming tag-python"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Python &#8211; Can &#8220;higher order function&#8221; feature allow/maintain abstraction and encapsulation</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">abstraction</span><span class="mr-2 badge badge-info">encapsulation</span><span class="mr-2 badge badge-warning">functional programming</span><span class="mr-2 badge badge-primary">python</span></p><div class="entry-content"><p>Below is the function <code>repeat</code> written using a functional paradigm, such that when called as <code>repeat(square, 2)(5)</code> it will apply the <code>square</code> function <code>2</code> times on the number <code>5</code>, something like <code>square(square(5))</code>.</p><pre><code>def repeat(f, n):
    def identity(x):
        return x
    def apply_n_times(n):
        def recursive_apply(x):
            return apply_n_times(n - 1)(f(x))

        if n &lt; 0:
            raise ValueError(&#34;Cannot apply a function %d times&#34; % (n))
        elif n == 0:
            return identity 
        else:
            return recursive_apply
    return apply_n_times(n)

def square(x):
    return mul(x, x)
</code></pre><p>With regards to abstraction, I see that <code>repeat(square, 2)</code> returns an implementation detail in the form of <code>apply_n_times(n - 1)(f(x))</code> multiple times before providing the actual result.</p><p>With regards to encapsulation, for the expression <code>f = repeat(square, 2)</code> one could mutate the members of function object, for example: <code>f.__name__=&#39;garbage&#39;</code></p><p>Does the concept of <code>higher order function</code> allow supporting abstraction and encapsulation? Because they return the implementation details and provide access for mutation.</p><p>Such existing implementations in large software are very tedious to use, as the user has to have an idea of the implementation before using it.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Wrt abstraction, I see that repeat(square, 2) returns implementation detail in the form of apply_n_times(n - 1)(f(x)) multiple times before providing the actual result.</p></blockquote><p>The function returned by <code>repeat(square, 2)</code> is not an implementation detail; it&#39;s the whole point of calling <code>repeat</code>. An implementation detail is something that the caller doesn&#39;t need to know about (and in most cases isn&#39;t allowed to know anything about either) and that could be changed without breaking any of the caller&#39;s code. The caller wants and needs the function returned by <code>repeat</code>.</p><p>It seems to me that you&#39;re looking at <code>repeat</code> as if its purpose is to give you the result of applying <code>f</code>, and that&#39;s why you see the fact that it returns <code>apply_n_times</code> as an implementation detail. If you only wanted the result of composing <code>f</code> with itself <code>n</code> times, you could have defined <code>repeat</code> to take three arguments. But what makes curried functions useful it the fact that you can make use of the in-between functions it creates! E.g.</p><pre><code>numbers = range(1, 10)
numbersSquaredTwice = map(repeat(square, 2), numbers)
</code></pre><p>In other words, their purpose isn&#39;t to compute the final result, it&#39;s to compute a function that can compute the final result. The function returned by <code>repeat</code> is a useful thing to have in and of itself.</p><blockquote><p>With regards to encapsulation, for expression f = repeat(square, 2) one could mutate the members of function object, for example: f.<strong>name</strong>=&#39;garbage&#39;</p></blockquote><p>Everything in Python has metadata that can be inspected and modified, and function objects are no exception. Python won&#39;t stop you from deeply inspecting and messing with every piece of data in the program. That lets you break almost any abstraction if you choose to do so. So you could say that it&#39;s Python that doesn&#39;t have very good support for encapsulation. In functional languages a function doesn&#39;t &#34;know its name&#34;, because asking a function for its name makes about as much sense as asking an integer for its name. Functions don&#39;t need names, and if you choose to give them one, they don&#39;t need to know it.</p><p>But do note that every call to <code>repeat</code> produces a <em>new</em> function object, so even if you choose to muck around with it, the changes you made won&#39;t affect the return values of other calls to <code>repeat</code>.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-how-to-maintain-encapsulation-with-composition-in-c/'>C++ &#8211; How to maintain encapsulation with composition in C++</a></li><li class="list-group-item"><a href='../c-can-higher-order-functions-ever-be-pure/'>C++ &#8211; Can higher order functions ever be pure</a></li><li class="list-group-item"><a href='../object-oriented-can-objects-be-implemented-in-terms-of-higher-order-functions/'>Object-oriented &#8211; Can objects be implemented in terms of higher order functions</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>