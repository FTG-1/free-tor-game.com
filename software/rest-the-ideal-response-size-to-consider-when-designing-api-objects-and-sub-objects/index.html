<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211;  the ideal response size to consider when designing API objects and sub-objects &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064640 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064640" class="post-1064640 software type-software status-publish hentry category-software tag-api tag-api-design tag-github tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211;  the ideal response size to consider when designing API objects and sub-objects</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">api-design</span><span class="mr-2 badge badge-warning">github</span><span class="mr-2 badge badge-primary">rest</span></p><div class="entry-content"><p>We are working with a performance metric that all API requests should respond within 50ms when running locally. I am taking this from the average response time of <a href="https://status.github.com/" rel="noreferrer">Githubs API</a>.</p><p>I have an object called Foo. A single Foo might contain 6KB of text when serialized as json.</p><p>Foo has a sub object which makes up about 3KB called Bar.</p><p>There is an endpoint in my API which returns a page of Foos at a time eg:</p><p><a href="https://apidomain/v1/foos?pageSize=25" rel="noreferrer">https://apidomain/v1/foos?pageSize=25</a></p><p>The response for a single page of 25 Foos is then ~150KB. This takes 75ms to respond when running locally.</p><p>There is a design option to take the Bars out of the Foos object, and make them available as a sub object like this:</p><p><a href="https://apidomain/v1/foos/fooId123/bar" rel="noreferrer">https://apidomain/v1/foos/fooId123/bar</a></p><p>This would bring the response for a single page of 25 foos is then down to 75KB. With an extra request needed to get the bar for that foo. This brings the avg response time closer to the goal of 50ms.</p><p>When designing a RESTful API and it&#39;s object definitions, what is the ideal response <strong>size</strong> if 50ms is an ideal response <strong>time</strong>?</p><p>What other considerations should I have when designing API objects and sub objects?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think it&#39;s important to distinguish between <em>mean</em> response time and <em>absolute</em> response time.  According to the metrics page you linked to, that&#39;s exactly what the GitHub does.  They track 2 metrics regarding response times:</p><ul><li>mean (average)</li><li>98th percentile</li></ul><p>That provides 2 pictures: the response time most people will deal with, and the worst response times people deal with.</p><p>The next question is where you are measuring response time.  If you measure response time from the web server access logs (as most people do), you are measuring the delta from when the request is received to the time that the server sends the response--not including the transfer time.  If you measure the response time from within a browser&#39;s developer tab, you are measuring the time from when you sent the request to the time the response is fully received, which includes 2 network trips in the timing.</p><p><strong>Minimizing Network Time</strong></p><p>There is very little you can do to improve data transfer time.  The network speeds are typically limited in places you don&#39;t have control.  However, you can do the following:</p><ul><li>Enable <a href="https://en.wikipedia.org/wiki/HTTP_compression" rel="nofollow noreferrer">HTTP compression</a>.  JSon and XML are highly compressible so you might be able to save some money as well.</li></ul><p><strong>Consistent Metrics</strong></p><p>Make sure you know what you are measuring and why those metrics exist.  Keep in mind that we humans have trouble perceiving any time differences less than 100ms (1/10th of a second).</p><p><strong>Design to your Needs</strong></p><p>Design your APIs around what you need.  If something becomes a real bottleneck, you can look at how you can improve or optimize at that time.</p><ul><li>If you have clients that need the full payload, have an API endpoint for that full payload</li><li>If you have clients that need an abbreviated payload, have an API endpoint for that abbreviated payload</li><li>Don&#39;t think about absolute data sizes.  Think about actual need.  Returning appropriate data sets minimizes API calls.</li></ul><p>It&#39;s common to need a list of summary data, and then request a full payload when the user is ready to drill into the information.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-api-wrapper-class-design-for-lite-object-responses/'>REST API wrapper &#8211; class design for &#8216;lite&#8217; object responses</a></li><li class="list-group-item"><a href='../rest-json-api-specification-when-do-i-need-to-return-a-404-not-found/'>Rest &#8211; JSON API specification : When do I need to return a 404 not found</a></li><li class="list-group-item"><a href='../restful-api-and-i18n-how-to-design-the-response/'>RESTful API and i18n: how to design the response</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>