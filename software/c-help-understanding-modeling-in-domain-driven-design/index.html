<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Help understanding modeling in domain-driven design &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084931 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084931" class="post-1084931 software type-software status-publish hentry category-software tag-architecture tag-c tag-domain-driven-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Help understanding modeling in domain-driven design</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">domain-driven-design</span></p><div class="entry-content"><p>I&#39;ve been trying to learn domain-driven design (and similarly Onion Architecture) the last week or so. I think I&#39;ve got an understanding of it, but like math, I suck at extracting all of the details&#8230;</p><p>So, I&#39;m designing/building an ASP.NET MVC application (building a site to promote game jams), applying DDD to the project. I&#39;ve read all of Vaughn Vernon&#39;s <a href="http://dddcommunity.org/wp-content/uploads/files/pdf_articles/Vernon_2011_1.pdf" rel="nofollow noreferrer">essay</a> (just discovered the book).</p><p>However, I&#39;m a bit hung up about my particular project&#39;s domain model. Conceptually, I think I have one bounded context within my domain. I&#39;m not sure if you include web users (ASP.NET Identity I plan on using).</p><p>Here&#39;s my current (prototype) model (currently one bounded context):</p><p><a href="../../../i.stack.imgur.com/eQ8DE.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/eQ8DE.png" alt="DDD Prototype Model"/></a></p><p>Another bounded context I can foresee later, but I think it&#39;s more in-tune with the infrastructure (thinking Onion here), is the User (linked with &#39;Developer&#39; on the above bounded context) authentication. I have two &#39;value objects&#39; (&#34;Developer&#34; and &#34;Description&#34;). I&#39;m unsure whether &#34;Description&#34; should be just a simple string on the entity &#34;Project&#34; though.</p><p>Thinking about my invariant behaviors, I&#39;ve come up with the following:</p><ol><li>An <strong>event</strong> is created by a <strong>Developer</strong> (using a role for this) with a start and end dates.</li><li><strong>Teams</strong> are created a <strong>Developer</strong> for an <strong>event</strong>.</li><li>A <strong>team</strong> creates a <strong>project</strong> for an <strong>event</strong></li><li><strong>Developers</strong> sign-up for an event through a <strong>project(s)</strong> by <em>applying</em><ul><li><strong>Developers</strong> can join multiple <strong>projects</strong></li><li><em>applying</em>: providing the team leader with a developer&#39;s name and role in which they are seeking on a project.</li></ul></li><li><strong>Teams</strong> can be created as either open (<strong>Developers</strong> can apply to join) or closed (team leader must invite a <strong>Developer</strong> to the <strong>team</strong>/<strong>project</strong>)</li></ol><p>For my aggregates, what do I do here? Do I write a &#34;service&#34; class like &#34;<code>TeamProjectService</code>&#34; with methods such as &#34;<code>CreateTeamProject</code>&#34;? Or what?</p><hr/><p>Am I going about this the right way? Or am I maybe over-complicating it or missing something?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>Am I going about this the right way? Or am I maybe over-complicating it or missing something?</p></blockquote><p>I think you have a start of a design; you are teasing out the concepts and their basic relationships and the constraints on the relationships, which is a great start.</p><p>For me, what I like to do is before I do any real detail on classes and operations (e.g. what methods, where business logic goes), I like to lightly enumerate the concepts and relationships in the business terms that create the ubiquitous language for a domain model.  The concepts that have business identities (e.g. plane ticket with record locator, user having unique user name or id, etc...) will probably end up being aggregate roots.  Ideally, these concepts and relationships are already known in the business and one doesn&#39;t have to try reinvent them as part of design. (And of course, iteration, improvements, refactoring, etc... will occur.)</p><p>Next, for me personally, having a good start at the concepts and relationships, I like to do application design from the ends toward the middle.  I think of it a bit like designing a bridge.  I like to have a design for the embankments first, then the middle (the span).  In this analogy one embankment end is the persistence implementation, where I&#39;m thinking about modeling concepts and also their relationships and some of their constraints with SQL using tables.  The other end is the externally exposed interface, where I&#39;m thinking about a REST API using OData principles.</p><p>I then design the classes, methods, and operations as a bridge that spans between the two, now-known embankments.  Also note that we have many choices when it comes to class design (e.g. to use ORM or not, which classes get which methods and where business &amp; application logic go), as the classes in the middle are closer to internal implementation and farther from externally exposed API.</p><hr/><p>I think you will want a formal notion of different kinds of Users (in addition to Developer), such as Business Stake Holder -- they might be the ones to initiate Projects.</p><p>The term event is overused in our business, so I try to use it only in a narrow way (my opinion is that an &#34;event&#34; is something that happened, once, either just now or in the past, and events can fire, be subscribed to, etc...).  So, you might choose a more specific name within your business domain for what you are calling event.  On the other hand, I&#39;d probably move in the direction of more general recursively composed projects, so projects can compose/decompose into any number of other projects.  You already have several specific layers of composition: Event, Project, Application, why not get more general?  Yet still, recursive composition may not suffice, you may also need to track dependencies between projects (e.g between peer sub projects, or independent project that are not composed).  I might try to formalize the notion of schedule along with notions of dependency.</p><blockquote><p>For my aggregates, what do I do here? Do I write a &#34;service&#34; class like &#34;TeamProjectService&#34; with methods such as &#34;CreateTeamProject&#34;? Or what?</p></blockquote><p>I have two comments here.</p><p>First, I would tend to think about the items you list in bold as aggregate roots as they probably have solid identities externally referable from outside the aggregate.  Aggregate roots can be related to other aggregate roots (and for NxM relations I would model persistence for each of those with their own first-class table).  The way you are using the term aggregate above makes me think about the relationships between aggregate roots more than the entities within the aggregate.</p><p>Second, I would probably do relationship creation via an operation attached to one or both of the aggregate roots being related.  For example, a team entity might be able to create a project, or the project collection could create a project though requiring a team as a parameter.</p><hr/><p>These days, I like to use OAuth2 (e.g. Windows Live, Facebook, Google+, Twitter, Stackoverflow) for authentication (I do OAuth2 directly but perhaps Azure ACS can help abstract this across the variety of OAuth2 providers).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../ddd-domain-events-vs-application-events/'>DDD &#8211; Domain events vs application events</a></li><li class="list-group-item"><a href='../domain-events-cqrs-and-dependency-resolution-in-handlers/'>Domain Events, CQRS, and dependency resolution in handlers</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>