<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Javascript &#8211; Event-driven vs. &#8216;reference&#8217;-driven programming (i.e. in JavaScript) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074616 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074616" class="post-1074616 software type-software status-publish hentry category-software tag-event tag-javascript tag-reference tag-scope"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Javascript &#8211; Event-driven vs. &#8216;reference&#8217;-driven programming (i.e. in JavaScript)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">event</span><span class="mr-2 badge badge-info">javascript</span><span class="mr-2 badge badge-warning">reference</span><span class="mr-2 badge badge-primary">scope</span></p><div class="entry-content"><p>I haven&#39;t been able to find the appropriate terminology to search for content on the web related to what I&#39;m asking, so I&#39;m hoping someone on here can at least point me in the right direction.</p><p>I&#39;m a fairly senior JavaScript developer, but I have a secret &#8212; I don&#39;t like event-driven programming (aside from user-triggered event binding I mean). Something about it has never sat well with me, it&#39;s the feeling of a &#34;disconnect&#34; in the logic flow.</p><p>In the simple example of some module invoking arbitrary numbers of views, an event-driven friend would create event listeners for elements those views could have and keep any reference to the parent module out of the view code.</p><p>I, on the other hand, would pass reference to the parent module in to the views so that I could directly trigger the module&#39;s methods.</p><p>I go for the second approach because I know exactly what is going to happen and what method I&#39;m triggering at all points in the code. In the event-driven case I&#39;m separating the assignment of an event response from the element that would trigger it, putting things in to the &#39;listening ether&#39;.</p><p>I know responsible event-driven programming should avoid any risks like double-binding, etc., but even when that care is taken I still see it all as a bit of a black-box ripe for debugging nightmares. While passing references may be a bit more cumbersome in the code, at least it&#39;s clear what things are going to happen and when.</p><p>Can anyone identify the pros and cons of these two methods, and in particular why JS seems to be pushing in general toward the event-driven stuff?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Not sure what you mean with <em>reference driven</em> programming. From what I gather, you&#39;re wondering what the advantages of event-driven programming are as opposed to writing code, and then using a bunch of branches to determine when to call a given method.</p><p>Before I set off, allow me to be pedantic and point out that: <em>a module</em> can&#39;t listen for any event, nor can a <em>button have a reference</em> to a module. The button is part of the DOM, the module is JS. Both live in separate universes, and never the twain shall meet.<br/> You can have the event loop pick up on certain events, and then invoke a given function object (either stand-alone, anonymous, or a function object that is part of a module) to handle that event, or you can mix JS into your markup, using certain html attributes (<code>onclick=&#34;&#34;</code> and the like).<br/> The latter method is generally said to be <em>outdated</em>, messy, and therefore bad practice. In this day and age, where OOP-buzzwords have found there way into the daily vocab of the average middle-manager, mixing JS in with markup isn&#39;t what I&#39;d call <em>separation of concern</em>...</p><p>I see it like this:<br/> JavaScript was originally intended to run client side. It&#39;s not been considered a valid server-side language for that long. It&#39;s small, light and portable, and was meant to make it easy to <em>&#34;liven up&#34;</em> your website. Making the UI responsive, move stuff around and, most importantly, load content dynamically using AJAX.<br/> When talking about AJAX, I think you&#39;ll agree, event-driven programming is the better option: you request content, based on user input (clicks links, scrolls the page down etc...), and as you probably know: an ajax response is dealt with using an event handler (<code>xhr.onreadystatechange = function</code>).</p><p>Since then, we&#39;ve come a long way, but some things have remained the same: JS is, in essence, a functional language, which implies closures, lambda&#39;s and callback functions to be used all over the place. The easiest way to make functional code work is to set all the functions up, and then let a change in the state (aka event) call one or more of these functions. Basically: functional languages feel at home in an event driven universe.<br/> The expressive power of these constructs is huge, and so it stands to reason that with every new trick, technology or feature that gets added, the people developing the JS engines will tend to implement events to better support these new bells and whistles. Couple that to the fact that the main libs/toolkits will probably provide an API that requires you to pass around functions, and you end up with a bunch of developers who, when confronted with a problem, will look at it as a series of events, that they can tap into to respond accordingly.<br/> So, I guess you might say that JS was <em>designed</em> to be event-driven to a rather large extent, and that the people who use it are <em>&#34;trained&#34;</em> if you will to think accordingly.</p><p>Another thing to consider is: how the engines work. V8, for example, is great at idling. If you run node.js, you&#39;ll see that it&#39;s perfectly happy, consuming very little resources, just sitting there, doing nothing. Once it receives a request (which is an event in a way), it&#39;ll wake up and set to work.<br/> Event driven code <em>does</em> reflect this:</p><pre><code>http.createServer(function(){}).listen();
</code></pre><p>This script doesn&#39;t <em>do</em> anything, until the server <em>&#34;has to be there&#34;</em>, then the function passed to <code>createServer</code> is invoked, and, you could say, becomes the server.</p><p>Back to the client-side:<br/> You say you see the point of event binding with DOM elements, and responding to the user&#39;s actions. Well, that&#39;s what client-side JS <em>does</em>. Its main purpouse was (and is) to augment the user experience. Whatever code gets executed client side, should be triggered by an event.<br/> The event could be the <code>load</code> event, or a <code>click</code> or <code>change</code> event... it doesn&#39;t matter. If the user isn&#39;t doing anything, JS shouldn&#39;t be busy. Some browsers kill a script if it&#39;s busy for too long anyway.<br/> You ought to realize that picking up on changes, without using the event loop JS already has to offer, leaves you no real alternative than to write a busy loop: JS isn&#39;t meant to be a system language, so you could end up with: <code>for(;;)</code> or <code>while(1)</code> loops. If you then were to have a single event handler, owing to JS being single threaded, that handler can&#39;t ever get called, because the JS thread is always busy, claiming the CPU like there&#39;s no tomorrow.</p><p>I can&#39;t see how else you could set about your business, to be honest. <code>Worker</code>&#39;s? No, because they communicate only through events. <code>setTimout</code> and <code>setInterval</code>? Not really: it&#39;s a right hasstle to sort out the scope, it&#39;s error prone and expensive. Besides, an event probably translates to an interrupt at some lower level, as does an interval, or a timeout. What those do is, essentially the same thing as events, only: they&#39;re obtrusive, because they weren&#39;t initiated by the user, and they could block the UI.<br/> The only <em>&#34;alternative&#34;</em> I can think of, and reading your question and comments again is what you&#39;re actually thinking of, is something along the following lines. The first is the <em>reference driven</em> example, the second is a quick translation of the same basic concept to <em>event-driven</em> programming:</p><pre><code>var btnMod = (function(w)
{
    var nextOn = false,
    stopEvent = function(e)
    {
        e.returnValue = false;
        e.cancelBubble = true;
        if (e.preventDefault)
        {
            e.preventDefault();
            e.stopPropagation();
        }
        return false;
    },
    module = {};
    module.switch = function(e,elem)
    {
        e = e || w.event;
        //do stuff
        nextOn = !nextOn;//toggle bool
    };
    module.next = function(e,elem)
    {
        e = e || w.event;
        //do stuff
        if (nextOn) location.href = &#39;next-url&#39;;//for example
        else return stopEvent(e);
    };
    return module;
}(window));
</code></pre><p>then either have markup like below, or bind the module methods to certain elements</p><pre><code>&lt;li onclick=&#34;module.switch(event, this)&#34;&gt;on/off&lt;/li&gt;
&lt;li onclick=&#34;module.next(event,this)&#34;&gt;next&lt;/li&gt;
</code></pre><p>As opposed to doing something like</p><pre><code>var btnMod = (function(w)
{
    var stopEvent = function(e)
    {
        e.returnValue = false;
        e.cancelBubble = true;
        if (e.preventDefault)
        {
            e.preventDefault();
            e.stopPropagation();
        }
        return false;
    },
    module = {};
    module.switch = function(e,elem)
    {
        e = e || w.event;
        w.removeEventListener(&#39;click&#39;, module.switch, false);
        w.addEventListener(&#39;click&#39;, module.next, false);
    };
    module.next = function(e,elem)
    {
        e = e || w.event;
        w.removeEventListener(&#39;click&#39;, module.next, false);//unbind to disable
        //do stuff
    };
    if (!nextOn) w.addEventListener(&#39;click&#39;, module.switch,false);
    else w.addEventListener(&#39;click&#39;, module.next, false);
}(window));
</code></pre><p>Well, quite apart from the fact that event-driven code is lighter (only one listener is bound at a time), and less error prone (if the <code>module.next</code> listener is bound, the <code>switch</code> listener isn&#39;t), it also doesn&#39;t require JS to mixed in with JS. Given some more effort, it can also be written a lot shorter than the snippets I&#39;ve posted here, <em>and</em> it&#39;s not littered with tons of <code>if</code>&#39;s and <code>else</code>&#39;s. <strong><em>it uses functions, which is what you do in a functional language</em></strong></p><p>Bottom line:<br/> The advantages of event-driven JS are simple, IMO: JS was intended to be used on the web, client-side. It was meant to enhance the user experience by making static pages responsive, and fetching content on-the-fly. All through events. Coupled with the functional paradigm, that makes for a rather expressive little language. To use it in any other way means using it in a way it wasn&#39;t designed to be used (excel).</p><p>If you don&#39;t use a hammer to fasten a screw if you have a screwdriver lying right next to it.<br/> Likewise: you don&#39;t work <em>around</em> events, if there is an event readily available.</p><p>In the end, though, <em>what&#39;s in a name?</em>. If ever you write a standalone program in C, using the GTK+ lib, you&#39;ll use <em>&#34;events&#34;</em>, too. C# is popular nowadays, guess what, it wont take many tutorials before you see the word <em>&#34;event&#34;</em> crop up. You want to react on some changes in state or user input? That&#39;s what we happen to call an event. Lastly: as svidgen pointed out: JS engines already have an event system written out. Good programmers are lazy: they don&#39;t go and write their own systems, if they can find an existing one that allows them to do what they need to do. Sure, sometimes you may find the existing systems lacking in some respect, and curse the people making it for not seeing that there might be a need for whatever you happen to need at that time, but that&#39;s life.<br/> Personally, I&#39;d say: if you don&#39;t like event-driven programming, you don&#39;t really like JS(?)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../javascript-observer-pattern-prevent-multiple-firings-on-changed-internal-property/'>Javascript &#8211; Observer pattern: Prevent multiple firings on changed internal property</a></li><li class="list-group-item"><a href='../api-gateway-rest-event-driven-microservices/'>API Gateway (REST) + Event-Driven Microservices</a></li><li class="list-group-item"><a href='../c-getting-a-reference-out-of-a-try-block/'>C++ &#8211; Getting a reference out of a try block</a></li><li class="list-group-item"><a href='../designing-events-in-an-event-driven-event-sourced-architecture-and-managing-duplication/'>Designing events in an event-driven (event sourced) architecture and managing duplication</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>