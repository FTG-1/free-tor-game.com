<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Version-postfixed class name for REST api &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083444 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083444" class="post-1083444 software type-software status-publish hentry category-software tag-coding-standards tag-java tag-naming tag-rest tag-spring-mvc"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Version-postfixed class name for REST api</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">coding-standards</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">naming</span><span class="mr-2 badge badge-primary">rest</span><span class="mr-2 badge badge-danger">spring-mvc</span></p><div class="entry-content"><p>I&#39;m working on a Spring-based REST api that has v1 and v2 variants:</p><pre><code>/api/v1/dates
/api/v2/dates
</code></pre><p>Correspondingly, there are v1 and v2 packages in the code base:</p><pre><code>com.company.api.v1
com.company.api.v2
</code></pre><p>Is it a good practice to postfix class names with version number like below:</p><ul><li>DatesControllerV1.java (in v1 package)</li><li>DatesControllerV2.java (in v2 package)</li></ul><p>I prefer <strong><em>not</em></strong> postfixing version in the class name as:</p><ul><li>their package names should tell you about the version already, redundant;</li><li>I simply don&#39;t like numeric character in class name.</li></ul><p>However, not postfixing version(ie. same class name but in different packages) will increase the probability of using the wrong class accidentally due to IDE auto-complete/auto-import by careless developers.</p><p>I tried looking for a github repo that has similar code base structure and see how they deal with it. But could not find one unfortunately.</p><p>I&#39;m wondering which approach do you think is better and the reason. I&#39;m also wondering if there is a better approach(for the current code base setup) than these two?</p><p><strong>UPDATE</strong></p><p>With the help from Azuaron and CormacMulhall, I realized that I really don&#39;t have other options to improve my current situation, given that both the v1 and v2 APIs reside in the same code base and I cannot change this setup.</p><p>For those who are seeking for the proper way of doing this(having different versions of APIs), please see <a href="https://softwareengineering.stackexchange.com/a/328751/76266">Azuaron&#39;s answer</a> below.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I must admit, my heart contracted in stress when I read &#34;...there are v1 and v2 packages in the code base...&#34; Typically, versioned APIs are, well, <em>versions</em> of your code, and don&#39;t live side-by-side in your codebase.</p><p>How I&#39;ve done it before is forking the repo. V1 sticks around for bug fixes until we can get everyone onto V2, and V2 is where all the new features go. Then in production, you deploy <em>both</em> codebases (either on different servers, or side-by-side), and your URL routing points to the appropriate instance.</p><p>This gives you the following benefits:</p><ol><li><p>The only way someone writes code against the wrong API is if they&#39;re in the wrong repo (at which point, there&#39;s not much else you can do for that programmer).</p></li><li><p>You don&#39;t have to worry about backward compatibility in &#34;shared&#34; non-API classes (utility, service, DAO, what have you).</p></li><li><p>A deploy of one API does not impact the other.</p></li><li><p>Honestly? It provides a demonstrable business reason to abandon v1 as soon as possible (you can shut down the old server) that can clearly be explained to non-developers.</p></li></ol><p>The downside is that the codebase is not shared, so changes in one that are &#34;necessary&#34; in the other must be ported. I don&#39;t see this as a big deal. It shouldn&#39;t happen that much (new features go into v2, not v1, by design), and any changes that truly need to be shared can be extracted into libraries or other services.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/rest-a-recommended-pattern-for-rest-endpoints-planning-for-foresighted-changes/'>Rest &#8211;  a recommended pattern for REST endpoints planning for foresighted changes</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-how-to-document-the-high-level-structure-of-a-java-program/'>Java &#8211; How to document the high-level structure of a Java program</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/java-how-to-deal-with-classes-having-the-same-name-different-packages/'>Java &#8211; How to deal with Classes having the same name (different packages)</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-same-class-and-namespace-name/'>C# &#8211; Same class and namespace name</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>