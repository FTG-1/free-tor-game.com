<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Should I use friend classes in C++ to allow access to hidden members &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1066932 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1066932" class="post-1066932 software type-software status-publish hentry category-software tag-c tag-friends tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Should I use friend classes in C++ to allow access to hidden members</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">friends</span><span class="mr-2 badge badge-warning">object-oriented</span></p><div class="entry-content"><p>Here is my situation (a simple example).</p><p>Say I have a class called <code>HiddenData</code><br /> Then I have another class called <code>StoreHiddenData</code><br /> And finaly a class called <code>OperateHiddenData</code></p><p>Here&#39;s the thing, my class called <code>HiddenData</code> has private members that I don&#39;t want to be visible to the  rest of the world, but I still need classes to be able to operate on private members of this <code>HiddenData</code> class (<code>StoreHiddenData</code> and <code>OperateHiddenData</code> for example).  I would like to be able to pass this object around to different classes that do different things on it.</p><p>Another thing I was thinking of is to create a form of handle to these <code>HiddenData</code> objects, but I can&#39;t think of a way to use handles without using friend classes again (as to give the other classes access to a table that contains what the handles point to, without exposing it to the rest of the world as well).</p><p>I was reading <a href="https://softwareengineering.stackexchange.com/questions/105766/c-to-friend-or-not-to-friend">this</a> question on this site just a while ago as I was researching the use of friend classes, and it has me thinking if using friends is the best way to go.</p><p>If anyone has any suggestions for how to accomplish this task without the use of friend classes in C++, or if the use of friend classes is an OK OOP practice, please provide me with any suggestions.  Thanks.</p><p>EDIT:<br /> I figure I should add a little bit more information about my problem.  For one thing, I am trying to create an API that consists of several classes that hide their functionality from the outside and only allow public functions to be accessed.  On the inside I have data structures (or classes, doesn&#39;t really matter), that need to be passed around to these different classes with public functions.  I don&#39;t want the outside to have access to anything inside these data structures other than being able to pass them around to functions of the API.  I kind of think of it like the Windows API, where you pass around Handles to API functions, but you can&#39;t actually dissect the handles in your own code.  Well I would like to do something very similar, but while remaining object oriented, and NOT passing these private data structures around by value because they will be BIG.  Thanks again.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I would be extremely cautious about the use of friends.  Although friends, have their time and place, most of the time when people use them, it&#39;s only as a convenient way of breaking encapsulation, which makes the code easy to write and deliver v1.0 but as the number of classes that operates on your HiddenData increases and as the average size of those classes increases, it will become a nightmare to read and modify.</p><p>I&#39;ve used friends a few times, but only when alternatives would&#39;ve been even uglier/harder to maintain. Iterators which are associated with a specific collection is definitely a good example of using friends.</p><p>Another example is implementations of finite state machines(FSM), where each state is represented by a separate class. Here your FSM is your real class, the states are just a way of splitting up logic into manageable units, but generally the data still belongs to FSM.</p><p>Bottom line, I would lean towards friends if second class is extremely small and won&#39;t be extended with more and more functionality with each release. Also the placement of the two classes should be as close as possible to one another. In case of STL&#39;s iterators, those classes are defined right inside their own container classes. Don&#39;t get any closer than that.</p><p>There are several ways of implementing your scenario while not having to break encapsulation by using friends. Here&#39;s only few of many alternatives:</p><ol><li><p>Have HiddenData be truly hidden. Don&#39;t freely give out reference to it. Instead have another adapter/view/decorator (whatever you want to call it) class between the data and the public. This other class would ensure that only public operations are allowed.  Then your special manipulator classes would access normal public interface of HiddenData directly.</p></li><li><p>Take a look at <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CCwQFjAA&amp;url=http://en.wikipedia.org/wiki/Visitor_pattern&amp;ei=MvslT_nJAqnl0QG24vmqDw&amp;usg=AFQjCNHUqrzFCxWqFUL-prnFI7nCmHzGZg&amp;sig2=2VdwCsp2xea-doSWHSSuGQ">Visitor Pattern</a>. It might be exactly what you need. It give you the ability to add functionality to a class without actually touching the class itself. So to implement another special manipulator which has access to internal data, you would create a new visitor class and give a reference to a single Accept() method of the HiddenData.</p></li></ol></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-unit-test-private-method-in-c-using-a-friend-class/'>C++ &#8211; Unit test private method in c++ using a friend class</a></li><li class="list-group-item"><a href='../object-oriented-what-are-the-private-method-responsibilities-when-we-design-class-in-oop/'>Object-oriented &#8211; What are the private method responsibilities when we design class in OOP</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>