<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Creating a shared library that might be used with desktop applications and web projects &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071268 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071268" class="post-1071268 software type-software status-publish hentry category-software tag-c tag-design tag-libraries tag-mvc tag-projects-and-solutions"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Creating a shared library that might be used with desktop applications and web projects</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">design</span><span class="mr-2 badge badge-warning">libraries</span><span class="mr-2 badge badge-primary">mvc</span><span class="mr-2 badge badge-danger">projects-and-solutions</span></p><div class="entry-content"><p>I have been involved in a number of MVC.NET and c# desktop projects in our company over the last year or so while also managing to kept my nose poked into other projects (in a read-only learning capacity of course).</p><p>From this I&#39;ve noticed that across the various projects and teams there is a-lot of functionality that has been well designed against good interfaces and abstractions.  Because we tend to like our own work at times, I noticed a couple of projects had the exact same class, method copied into it as it had obviously worked on one and so was easily moved to a new project (probably by the same developer who originally wrote it)</p><p>I mentioned this fact in one of our programmer meetings we have occasionally and suggested we pull some of this functionality into a core company library that we can build up over time and use across multiple projects.  Everyone agreed and I started looking into this possibility.</p><p>However, I&#39;ve come across a stumbling block pretty early on.  Our team primarily focuses on MVC at the moment and we have projects mainly in 2.0 but are starting to branch to 3.0.  We also have a number of desktop applications that might benefit from some shared classes and basic helper methods.</p><p>Initially when creating this DLL I included some shared classes that could be used across any project type (Web, Client etc) but then I started looking at adding some shared modules that would be useful in our MVC applications only.  However this meant I had to include a reference to some Microsoft Web DLL&#39;s in order to leverage some of the classes I was creating (at this stage MVC 2.0).</p><p>Now my issue is that we have a shared DLL that has references to web specific libraries that could also possibly be used in a client application.  Not only that, our DLL referenced initially MVC 2.0 and we will eventually move onto MVC 3.0 for all projects.  But alot of the classes in this library I expect to still be relevant to MVC 3 etc</p><p>Our code within this DLL is separated into it&#39;s own namespaces such as:</p><ul><li>CompanyDLL.Primitives</li><li>CompanyDLL.Web.Mvc</li><li>CompanyDLL.Helpers etc etc</li></ul><p>So, my questions are:</p><ol><li>Is it OK to do a shared library like this, or if we have web specific features in it should we create a separate web DLL only targeted at a specific framework or MVC version?</li><li>If it&#39;s OK, what kind of issues might we face when using the library that references MVC 2 in a MVC 3 project for example.  I would be thinking that we might run into some sort of compatibility issue, or even issues where the developers using the library doesn&#39;t realize they need MVC 2.0 libraries.  They might only want to use some of the generic classes etc</li></ol><p>The concept seemed like a good idea at the time, but I&#39;m starting to think maybe it&#39;s not really a practical solution.  But the number of times I&#39;ve seen copied classes and methods across projects because they are <strong>proven</strong> tested code is a bit unnerving to be perfectly honest!</p><p><strong>UPDATED</strong>:<br /> Further to Bernards answer which I have taken on board and seems good advice.  However I want to create some shared classes that will probably be useful in both MVC 2 and MVC 3 projects.  However my shared assembly will have to reference one of the MVC frameworks in order for me to create my shared classes in the first place.</p><p>So further to expand on my Q2 above.</p><ol><li>If I wanted a MVC 3 web solution would I have to have a shared CompanyDLL.Web.Mvc3 project that would then specifically be referencing MVC 3?  Would that mean copying over all the code from my CompanyDLL.Web.Mvc2 solution to this new Mvc3 shared project?</li></ol><p>It seems I&#39;m missing some <strong>fundamental</strong> designing skills in the creation of shared assemblies and building and referencing against different framework versions.  Or it might just be as simple as we suck it up and create a <em>CompanyDLL.Web.Mvc2</em>, <em>CompanyDLL.Web.Mvc3</em>, <em>CompanyDLL.Web.Mvc4</em> etc etc libraries&#8230;</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Create separate shared libraries for your different platforms (desktop and web). Whatever both of these libraries will need should go in a separate shared library. Thus, you could split these libraries up as follows:</p><ul><li><code>Company.Core</code>: Used by all libraries. Contains generic code, helper classes, etc. that are not specific to any platform. References no other shared libraries.</li><li><code>Company.Core.Desktop</code>: Used by desktop applications. References <code>Company.Core</code> library.</li><li><code>Company.Core.Web</code>: Used by web applications. References <code>Company.Core</code> library.</li></ul><p>This allows you to change the web technology being used without affecting the desktop technology being used. This also allows you to add more platforms in the future (e.g. <code>Company.Core.Mobile</code>).</p><p>Ensure these libraries are unit tested and never again copy code between projects.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../best-way-restructure-an-existing-team-foundation-server-tfs-solution/'>Best way: restructure an existing Team Foundation Server (TFS) solution</a></li><li class="list-group-item"><a href='../c-how-to-manage-libraryies-used-by-multiple-projects/'>C# &#8211; How to manage library(ies) used by multiple projects</a></li><li class="list-group-item"><a href='../how-to-choose-between-a-library-and-shared-project/'>How to choose between a library and shared project</a></li><li class="list-group-item"><a href='../c-how-to-manage-objects-that-are-shared-between-back-end-services-and-front-end-services-apps/'>C# &#8211; How to manage objects that are shared between back-end services and front-end services/apps</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>