<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Authentication setup advice for web app and its backend API &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079059 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079059" class="post-1079059 software type-software status-publish hentry category-software tag-authentication tag-rest tag-web-api tag-web-applications"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Authentication setup advice for web app and its backend API</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">authentication</span><span class="mr-2 badge badge-info">rest</span><span class="mr-2 badge badge-warning">web-api</span><span class="mr-2 badge badge-primary">web-applications</span></p><div class="entry-content"><p>I am fairly new to web development, and I am learning to build web applications. I am facing a problem figuring out how to set up authentication mechanisms for a multi-user application. Let me provide some details about the architecture:<br /> <a href="../../../i.stack.imgur.com/YuJla.png" rel="noreferrer"><img src="../../../i.stack.imgur.com/YuJla.png" alt="Architecture"/></a></p><p>Here I have two web servers &#8211; Front-end application (written in Angular) and a back-end REST API. The two exist separately to have a more decoupled system (back-end provides the data, front-end presents it), as well as to allow third-parties to implement their own client-side applications. I am not sure if it is relevant, but the back-end API is a <a href="http://postgrest.org/en/v5.2/" rel="noreferrer">PostgREST</a> web-server sitting on top of a PostgreSQL database.</p><p>As I mention before, this is a multi-user application, so I would also like to set up authentication for clients. In the context of my architecture it means setting up authentication for <code>www.domain.com</code> to <code>api.domain.com</code> as well as for <code>client</code> to <code>www.domain.com</code>. I think that it makes more sense to use token-based authentication to access the back-end API, as it will not be accessed by browser-based client directly. As for the authentication on <code>www.domain.com</code> I think I have options to either go for token-based or session-based authentication. If am getting it right the authentication process should look something like this:<br /> <a href="../../../i.stack.imgur.com/1XbUh.png" rel="noreferrer"><img src="../../../i.stack.imgur.com/1XbUh.png" alt="enter image description here"/></a></p><p>The problem is that I do not understand how to set up the translation of <code>client</code>&#8211;<code>www.domain.com</code> authentication to the one between <code>www.domain.com</code> and <code>api.domain.com</code>. What kind of authentication mechanism is most suitable for the browser-frontend communication in this situation? How to &#34;forward&#34; the authentication to the back-end API? Is there another way of achieving this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The situation is quite common. The clients of the API are not the actual people using an application, but rather the applications between the final user and the APIâ€”your web application, or an Android/iOS application, or a batch script. All those API clients, however, can access users&#39; data, which creates the problem: the API is not expected to give unlimited read-write access to users&#39; data to any client willing to access it.</p><p>Why not? For two reasons:</p><ul><li><p>If the API is public, i.e. anyone can write a client, you&#39;re giving access to users&#39; data to everyone. This is not acceptable in nearly every case.</p></li><li><p>If the API is not public, i.e. you are the only one to be able to add clients, then you&#39;ll quickly find yourself limited in terms of which client can be created. Web application would be OK, as it&#39;s hosted on your servers; everything else is not. This means that it will be impossible, for instance, to have client apps for mobile devices or even applications for desktop PCs, since the exchange between such client and your server can easily be decrypted, analyzed and tampered with (HTTPS won&#39;t help at all here, since the owner of the device would be able to generate a custom root certificate).</p></li></ul><p>This means that it belongs to the user to confirm that he authorizes a given application to access his data through the API. You can see this sort of interactions a lot if you use applications which need to access your Google Drive or your Facebook data: Google and Facebook respectively will ask you to confirm that you want to give access to your data for a given application, explaining what exactly the application will be able to access, and it belongs to you to accept or refuse.</p><p>This, however, has one limitation: if the users come to your <a href="https://www.example.com/" rel="nofollow noreferrer">https://www.example.com/</a>, and are welcomed with a screen from <a href="https://api.example.com/" rel="nofollow noreferrer">https://api.example.com/</a> asking whether <a href="http://www.example.com/" rel="nofollow noreferrer">http://www.example.com/</a> can access their data or not, they won&#39;t understand. This means that you should have a list of trusted clients: in your case, the web application would be a trusted client of the API, being granted unlimited access to the data of every user.</p><p>This doesn&#39;t mean, however, that you should necessarily <code>POST http://www.example.com/login</code>. This is one way of doing it, but a simpler approach would be to use OpenID or OAuth 2.0. This became a <em>de facto</em> standard way of authenticating users, and if you rely on somebody else, such as Google, to do the authentication, you get a huge benefit of not having to deal with passwords.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-designing-authentication-for-rest-api/'>Rest &#8211; Designing authentication for REST API</a></li><li class="list-group-item"><a href='../sharing-authentication-methods-across-api-and-web-app/'>Sharing authentication methods across API and web app</a></li><li class="list-group-item"><a href='../php-why-use-authentication-token-instead-of-session_id-for-appandroid-side-in-rest-api/'>Php &#8211; why use authentication token instead of session_id for app(android side) in REST API</a></li><li class="list-group-item"><a href='../rest-authorization-and-authentication-design-for-splitting-a-site-into-rest-api-and-web-app-aspnetcore-mvc/'>Rest &#8211; Authorization and Authentication design for splitting a site into REST API and Web App (AspNetCore MVC)</a></li><li class="list-group-item"><a href='../architecture-integrate-web-api-services-with-multiple-authentication-services/'>Architecture &#8211; Integrate Web API Services with multiple authentication services</a></li><li class="list-group-item"><a href='../rest-api-authentication-cookie-vs-web-storage/'>REST API Authentication: Cookie vs Web Storage</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>