<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Forcing logger/appender to output line logged at lower than its current level &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1084615 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1084615" class="post-1084615 software type-software status-publish hentry category-software tag-enterprise-development tag-logging"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Forcing logger/appender to output line logged at lower than its current level</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">enterprise-development</span><span class="mr-2 badge badge-info">logging</span></p><div class="entry-content"><p>Consider the following scenario:</p><p>I am writing a Dispatcher Servlet that delegates processing to various handlers depending on the request URL; the handler objects having previously registered themselves for URL patterns, pretty much as Servlets register themselves in web.xml.</p><p>When a Handler registers or unregisters itself for a pattern, I want to log a line that includes the action and pattern; and also the current mappings, so that when a subsequent request processing logs a warning that a request was not processed I can go back in the logs and find out the mappings.</p><p>The question is how to ensure that lines logged by <code>registerUrlPattern</code>/<code>unregisterUrlPattern</code> actually appear in the log file:</p><ul><li><p>It seems to me that these methods should log the mapping changes at INFO level, since it is additional INFO being logged. But the logger&#39;s level is WARN so that will not work. The logger get many other messages at INFO level so it is not possible to change its level to INFO in production, except for troubleshooting.</p></li><li><p>I could log it at WARN level, but qa/usability/customer does not like such warnings to appear.</p></li></ul><p>I can think of the following alternatives:</p><ul><li><p>Change the Logger&#39;s level to INFO when logging these lines, possibly by adding a <code>forceInfo</code> method in my Logger (which wraps a standard log4j type logger)</p></li><li><p>Use a different Logger for these methods and set its level to INFO</p></li><li><p>Log at warning level but change the language to indicate that it is not something to be worried about</p></li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>So, you need different treshold within the same class.
I think you use a different logger corresponding to a specific name.
You can thus set the log level to INFO for this specific Logger in DispatchServlet class.</p><p>For me, the benefits would be:</p><ul><li>the possibility to specificly reduce the treshold to INFO as you required (the goal).</li><li>if one day you realize that your specific logs become too verbose and finally useless because the functionnality is 100% stable and doesn&#39;t cause any issue, you still can reduce the treshold by configuration and without impacting the rest of the logs. Logging in WARNING level or do something based on forcedLog would imply you to modify the sources for such a purpose.</li></ul><p>The only CON I see is that it might be &#34;surprising&#34; but a correct documentation solves everything.</p><p>For example in your log4j.xml file, you could have:</p><pre><code>&lt;!DOCTYPE log4j:configuration SYSTEM &#34;log4j.dtd&#34;&gt;
&lt;log4j:configuration xmlns:log4j=&#34;http://jakarta.apache.org/log4j/&#34;&gt;
    &lt;!-- general application log --&gt;
    &lt;appender name=&#34;MyLogFileAppender&#34; class=&#34;org.apache.log4j.FileAppender&#34;&gt;
        &lt;param name=&#34;File&#34; value=&#34;mylog.log&#34; /&gt;
        &lt;layout class=&#34;org.apache.log4j.PatternLayout&#34;&gt;
            &lt;param name=&#34;ConversionPattern&#34; value=&#34;%d{yyyy MM dd - HH:mm:ss,SSS} %-5p %t [%-40.40c] %x - %m%n&#34;/&gt;
        &lt;/layout&gt;
    &lt;/appender&gt;
    &lt;logger name=&#34;DispatchServletSpecific&#34;&gt;
        &lt;level value=&#34;INFO&#34; /&gt;
        &lt;appender-ref ref=&#34;MyLogFileAppender&#34; /&gt;
    &lt;/logger&gt;
    &lt;root&gt;
         &lt;level value=&#34;WARNING&#34; /&gt;
         &lt;appender-ref ref=&#34;MyLogFileAppender&#34; /&gt;
    &lt;/root&gt;
&lt;/log4j:configuration&gt;
</code></pre><p>And in the Java code you create a specific Logger</p><pre><code>Logger specificLogger = Logger.getLogger(&#34;DispatchServletSpecific&#34;);
</code></pre><p>This way the log treshold <em>should</em> be set to INFO while the rest of your app should be log only WARNING logs. 
Hope it helps.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-rules-and-advice-for-logging/'>Java &#8211; Rules and advice for logging</a></li><li class="list-group-item"><a href='../java-logging-in-a-latency-sensitive-system/'>Java &#8211; Logging in a latency sensitive system</a></li><li class="list-group-item"><a href='../java-why-does-the-trace-level-exist-and-when-should-i-use-it-rather-than-debug/'>Java &#8211; Why does the TRACE level exist, and when should I use it rather than DEBUG</a></li><li class="list-group-item"><a href='../java-log4j-logger-per-class-vs-logger-per-application/'>Java &#8211; Log4j logger per class vs logger per application</a></li><li class="list-group-item"><a href='../design-is-it-worth-logging-http-requests-when-they-enter-an-api-server/'>Design &#8211; Is it worth logging HTTP requests when they enter an API server</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>