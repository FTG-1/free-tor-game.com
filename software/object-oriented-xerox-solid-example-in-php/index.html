<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Object-oriented &#8211; Xerox SOLID example in PHP &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085937 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085937" class="post-1085937 software type-software status-publish hentry category-software tag-object-oriented tag-php tag-solid"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Object-oriented &#8211; Xerox SOLID example in PHP</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">object-oriented</span><span class="mr-2 badge badge-info">PHP</span><span class="mr-2 badge badge-warning">solid</span></p><div class="entry-content"><p>There is a good example on Wikipedia regarding the violation of SOLID principles.</p><blockquote><p>The ISP was first used and formulated by Robert C. Martin while<br /> consulting for Xerox. Xerox had created a new printer system that<br /> could perform a variety of tasks like stapling a set of printed papers<br /> and faxing. The software for this system was created from the ground<br /> up and performed its tasks successfully. As the software grew, making<br /> modification became more and more difficult so that even the smallest<br /> change would take a redeployment cycle of an hour. This was making it<br /> near impossible to continue development. The design problem was that<br /> one main Job class was used by almost all of the tasks. Anytime a<br /> print job or a stapling job had to be done, a call was made to some<br /> method in the Job class. This resulted in a huge or &#39;fat&#39; class with<br /> multitudes of methods specific to a variety of different clients.<br /> Because of this design, a staple job would know about all the methods<br /> of the print job, even though there was no use for them. The solution<br /> suggested by Martin is what is called the Interface Segregation<br /> Principle today. Applied to the Xerox software, a layer of interfaces<br /> between the Job class and all of its clients was added using the<br /> Dependency Inversion Principle. Instead of having one large Job class,<br /> a Staple Job interface or a Print Job interface was created that would<br /> be used by the Staple or Print classes, respectively, calling methods<br /> of the Job class. Therefore, one interface was created for each job,<br /> which were all implemented by the Job class.</p><p><a href="http://en.wikipedia.org/wiki/Interface_segregation_principle" rel="nofollow">http://en.wikipedia.org/wiki/Interface_segregation_principle</a></p></blockquote><p>I tried to find a good PHP solution for this, I got this far:</p><pre> class Job implements StampleJob, PrintJob {
 }

 class Print {
   protected $objPrintJob;
   public function __construct(PrintJob $objPrintJob) {
     $this-&gt;objPrintJob = $objPrintJob;
   }
 }

 class Staple {
   protected $objStapleJob;
   public function __construct(StapleJob $objStapleJob) {
     $this-&gt;objStapleJob = $objStapleJob;
   }
 }
</pre><p>I can understand how the interface will limit knowledge but this will not actually change the big Job class or remove the SRP violation. Can you clarify how this solution actually solves the problem: &#34;The design problem was that<br /> one main Job class was used by almost all of the tasks&#34;?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>First, lets understand what was the issue:
The <strong>Staple</strong> job knows about many more methods which it doesn&#39;t <strong>use today</strong>, (e.g., the <code>print</code> method) but which are <em>available</em> for it to use, should it want to. 
However, the Job class &#34;<strong>thinks</strong>&#34; that the Staple class will be &#34;a good citizen&#34; and never use the print method at all.</p><p>There are many potential big issues here - 
For some reason, the Staple job may start using the print method - by accident or intentionally.</p><p>Then down the road, either any changes to the print method may go untested, <br/>OR, any changes to the print method will trigger a regression test in the Staple job also, <br/>AND, any impact analysis for changes to the print job will necessarily involve impact analysis of the staple job too.</p><p>This is just the issue of Staple knowing about the print functions. Then there&#39;s the case of the <em>Print job knowing all about stapling functions</em>. Same problems.</p><p>Very soon, this system would reach a point where any change will require a full blown impact analysis of each module and a full blown regression test.</p><p>Another problem is that <strong><em>today</em></strong>, all jobs which can be printed can be stapled, and vice versa on this particular printer.</p><p>However, tomorrow, there could be a need to install the same firmware on a device that only prints or only staples. What then? The code already assumes that all <em>Jobs</em> are printable <em>and</em> stapleable. So any further granular breakdown / simplification of responsibilities is impossible.</p><p>In more recent terms, imagine a class called &#34;AppleDevice&#34; which has functions for MakePhoneCall as well as PlayMusic. Now your problem is while you can easily use this on an iPhone, you cannot use it for an iPod since the iPod cannot make phone calls.</p><p>So, the issue is <em>not</em> that the Job class is all-powerful. In fact, that&#39;s how it should be, so that it can act as a common link in the entire &#34;workflow&#34; where someone may scan a job, then print it, then staple it etc. 
The problem is that the <em>usage</em> of all its methods is not restricted. Anyone and everyone could use and abuse any method whenever they want to, thus making the maintenance difficult.</p><p>Hence, the Dependency Injection approach of only telling users &#34;exactly what they need to know, and nothing more&#34; ensures that calling modules only use the code that they are meant to. 
A sample implementation would look like:</p><pre><code>interface IStapleableJob { void stapleYourself(); }
interface IPrintableJob { void printYourself(); }
class Job implements IStapleableJob, IPrintableJob {
....
}

class Staple {
  public static void stapleAllJobs(ArrayList&lt;IStapleableJob&gt; jobs) {
    for(IStapleableJob job : jobs) job.stapleYourself();
  }
}

class Print {
  public static void stapleAllJobs(ArrayList&lt;IPrintableJob&gt; jobs) {
    for(IPrintableJob job : jobs) job.printYourself();
  }
}
</code></pre><p>Here, even if you pass a Job object to the Staple and Print methods, they dont <em>know</em> that its a Job, so they cannot use any methods that they are not supposed to. Thus, when you make any changes to a module, your scope of impact analysis and regression testing is restricted. That&#39;s the problem that ISP solves.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../solid-vs-static-methods/'>SOLID vs. static methods</a></li><li class="list-group-item"><a href='../object-oriented-arent-decorators-easily-breaking-the-isp/'>Object-oriented &#8211; Aren&#8217;t decorators easily breaking the ISP</a></li><li class="list-group-item"><a href='../object-oriented-does-interface-segregation-principle-apply-to-concrete-methods/'>Object-oriented &#8211; Does interface segregation principle apply to concrete methods</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>