<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; I&#8217;d like to write an &#8220;ultimate shuffle&#8221; algorithm to sort the mp3 collection &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071619 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071619" class="post-1071619 software type-software status-publish hentry category-software tag-algorithms tag-c tag-collections tag-random tag-sorting"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; I&#8217;d like to write an &#8220;ultimate shuffle&#8221; algorithm to sort the mp3 collection</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithms</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">collections</span><span class="mr-2 badge badge-primary">random</span><span class="mr-2 badge badge-danger">sorting</span></p><div class="entry-content"><p>I&#39;m looking for pseudocode suggestions for <strong>sorting my mp3 files in a way that avoids title and artist repetition</strong>. I listen to crooners &#8211; Frank Sinatra, Tony Bennett,  Ella Fitzgerald etc. singing old standards. Each artist records many of the same songs &#8211; Fly Me To The Moon, The Way You Look Tonight, Stardust etc. My goal is to arrange the songs (or order the playlist) with the maximum space between artists and song titles. So if I have 2000 songs and 20 are by Ella I&#39;d like to hear her only once in every 100 songs. If 10 artists sing Fly Me To The Moon I&#39;d like to hear it once in every 200 songs. Of course I want to combine these two requirements to create my &#34;ultimate shuffle&#34;.</p><p>I know this is a fairly wide open question. I haven&#39;t started programming it yet so I&#39;m just looking for suggestions of a good approach to take. I actually have some other requirements regarding evenly spacing other song attributes but I won&#39;t get into that here.</p><hr/><p>As a starting point I&#39;m modifying code I <a href="http://www.wynia.org/wordpress/2007/04/renaming-mp3-files-according-to-id3-tags-with-c" rel="nofollow noreferrer">found here</a> to manipulate mp3 files and read ID3 tags.</p><p>I wrote a small app that satisfies my need using parsifal&#39;s answer below. I also wrote a follow up <a href="https://softwareengineering.stackexchange.com/questions/196279/to-open-source-or-sell-how-to-choose-how-to-proceed">question here</a>. Thanks for all the great responses!</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Do you want to run your program once and generate a playlist, or pick the next song live?</p><p>If the latter, then the answer is simple:</p><ul><li>Create an array that contains all of your songs, with artist and title</li><li>Create a list (linked list preferable) to hold recently-played song titles. This list starts out empty, and each time you play a song you add it to the list. When the list hits your desired &#34;no song repeat&#34; size, drop the oldest (first) entry.</li><li>Ditto for a list of artists.</li></ul><p>Picking a song then becomes the following sequence of steps:</p><ol><li>Randomly pick a song from the &#34;all songs&#34; array. This is just a random number between 0 and the size of the array.</li><li>See if that song is already in the played songs list. If it is, go back to step #1.</li><li>See if the artist is already in the played artist list. If it is, go back to step #1.</li><li>Add the song artist/title to the appropriate lists, dropping old entries if needed.</li><li>Play the song.</li></ol><p>There are a couple of possible issues, but they should only matter if you&#39;re doing this as homework and not a real project.</p><ul><li>As @Dukeling said in a comment, if your collection is dramatically unbalanced in favor of a single artist or song title, you may get into a loop where you constantly reject songs. In practice, this is not going to be an issue. The solution is that you need to reduce the size of the &#34;already seen&#34; lists. And adding counters at steps #2 and #3 can tell you if it&#39;s a problem (if you see 10 failures in a row, raise a warning and/or reduce the size of the list).</li><li>If you&#39;re trying to produce a playlist that contains all of your songs played only once, you&#39;ll need to remove songs from the source array. This will also change how you deal with too many &#34;recently played&#34; failures (because eventually you might end up with only one artist in your source array).</li><li>If your ID3 tags are anything like mine, they contain plenty of misspellings. Does &#34;Duke Ellington&#34; need to be different from &#34;Duke Elingten&#34;? If yes, then look into using a Levenstein matcher when scanning the &#34;recently played&#34; lists.</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../count-sort-algorithm-efficiency/'>Count Sort Algorithm efficiency</a></li><li class="list-group-item"><a href='../java-algorithm-to-sort-ten-million-7-digit-integers-in-ascending-order-with-just-1-5mb-ram/'>Java &#8211; Algorithm to sort ten million 7-digit integers in ascending order with just 1.5Mb RAM</a></li><li class="list-group-item"><a href='../best-algorithm-to-sort-tasks-by-priorities-by-a-human/'>Best algorithm to sort tasks by priorities by a human</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>