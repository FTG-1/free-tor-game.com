<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Is writing your own Data Access / Data Mapping Layer a &#8220;good&#8221; idea &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071339 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071339" class="post-1071339 software type-software status-publish hentry category-software tag-database-development tag-design-patterns tag-entity-framework tag-nhibernate"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Is writing your own Data Access / Data Mapping Layer a &#8220;good&#8221; idea</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">database-development</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">entity-framework</span><span class="mr-2 badge badge-primary">nhibernate</span></p><div class="entry-content"><p>We&#39;re currently in a situation where we have a choice between using an out-of-the-box  object-relational mapper or rolling our own</p><p>We have a legacy application (ASP.NET + SQL Server) where the data-layer &amp; business-layer are unfortunately mashed together. The system isn&#39;t particularly complicated in terms of it&#39;s data access. It reads data from a large group (35-40) of inter-related tables, manipulates it in memory &amp; saves it back to some other tables in a summary format. We now have opportunity for some refactoring and are looking at candidate technologies to use to seperate &amp; properly structure our Data Access.</p><p>Whatever technology we decide on we would like to:</p><ul><li>have POCO objects in our Domain Model which are Persistence Ignorant</li><li>have an abstraction layer to allow us to Unit Test our domain model objects against a mocked up underlying datasource</li></ul><p>There&#39;s obviously lots of stuff out there on this already in terms of Patterns &amp; Frameworks etc.</p><p>Personally I&#39;m pushing for using EF in conjunction with the <a href="http://visualstudiogallery.msdn.microsoft.com/d2aa9e9a-1314-4a96-8365-81771b17c597/">ADO.NET Unit Testable Repository Generator / POCO Entity Generator</a>. It satisfies all of our requirements, can be easily bundled inside a Repo/UnitOfWork Pattern and our DB Structure is reasonably mature (having already undergone a refactor) such that we won&#39;t be making daily changes to the model.</p><p>However others in the group are suggesting architecting/rolling our own D.A.L. completely from scratch. (Custom DataMappers, DataContexts, Repository, Interfaces everywhere, Dependency Injection overkill to create concrete objects, Custom LINQ-to-Underlying Query Translation, Custom Caching Implementations, Custom FetchPlan Implementations&#8230;) the the list goes on and to be frank is strikes me as madness.</p><p>Some of the arguments been thrown about are &#34;Well at least we&#39;ll be in control of our own code&#34; or &#34;Oh I&#39;ve used L2S/EF in a previous project and it was nothing but headaches&#34;. (Although I&#39;ve used both in Production before and found any issues to be few and far between, and very manageable)</p><p>So do any of your uber-experienced devs/architects out there have any words of wisdom that might help me steer this product away from what seems to me like it&#39;s going to be a complete disaster. I can&#39;t help but think that any <em>benefit</em> gained by dodging EF issues, will be lost just as quickly by attempting to re-invent the wheel.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Both arguments against existing ORMs are invalid:</p><blockquote><p>&#34;Well at least we&#39;ll be in control of our own code&#34;</p></blockquote><p>Why not write your own language? Your own framework? Your own operating system? And to be sure you&#39;re in control of everything, it&#39;s also a good idea to create your own hardware.</p><blockquote><p>&#34;Oh I&#39;ve used L2S/EF in a previous project and it was nothing but headaches&#34;</p></blockquote><p>EF is mature enough and was used successfully by plenty of people. It means that a person who claims that EF is nothing but a headache should probably start learning how to use EF properly.</p><hr/><p>So, do you have to write your own ORM?</p><p>I wouldn&#39;t suggest that. There are already professional-level ORMs, which means that you have to write your own only if:</p><ul><li>You have a precise context where all existing ORMs cannot fit for some reason,</li><li>You are sure that the cost of creating and using your own ORM instead of learning an existing one is much lower. This includes the cost of future support, including by another team of developers who would have to read hundreds of pages of your technical documentation in order to understand how to work with your ORM.</li></ul><p>Of course, nothing forbids you to write your own ORM just out of curiosity, to learn things. But you should not do it on a commercial project.</p><hr/><p>See also points 2 to 3 of <a href="http://go.pelicandd.com/m/520433">my answer</a> to the question Reinventing the wheel and NOT regretting it. You can see that the different reasons for reinventing the wheel don&#39;t apply here.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-should-i-implement-the-repository-pattern-for-complex-object-models/'>How should I implement the repository pattern for complex object models</a></li><li class="list-group-item"><a href='../c-di-ioc-abstract-factory-galore/'>C# &#8211; DI / IoC Abstract Factory Galore</a></li><li class="list-group-item"><a href='../c-confused-on-how-to-properly-employ-a-repository-pattern-with-service-business-layer-on-top/'>C# &#8211; Confused on how to properly employ a Repository Pattern with Service/Business Layer on top</a></li><li class="list-group-item"><a href='../c-repository-pattern-exposing-data-context-to-underlying-layers/'>C# &#8211; Repository Pattern: Exposing Data Context to Underlying Layers</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>