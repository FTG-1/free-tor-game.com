<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Why are the Coffman conditions necessary for a deadlock to occur &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075271 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075271" class="post-1075271 software type-software status-publish hentry category-software tag-concurrency tag-conditions"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Why are the Coffman conditions necessary for a deadlock to occur</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">concurrency</span><span class="mr-2 badge badge-info">conditions</span></p><div class="entry-content"><p>Quoting <a href="https://en.wikipedia.org/wiki/Deadlock#Necessary_conditions" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/Deadlock#Necessary_conditions</a> :</p><blockquote><p>A deadlock situation can arise if all of the following conditions hold simultaneously in a system:</p><ol><li>Mutual exclusion: at least one resource must be held in a non-shareable mode.Only one process can use the resource at any given instant of time.</li><li>Hold and wait or resource holding: a process is currently holding at least one resource and requesting additional resources which are being held by other processes.</li><li>No preemption: a resource can be released only voluntarily by the process holding it.</li><li>Circular wait: a process must be waiting for a resource which is being held by another process, which in turn is waiting for the first process to release the resource. In general, there is a set of waiting processes, P = {P1, P2, …, PN}, such that P1 is waiting for a resource held by P2, P2 is waiting for a resource held by P3 and so on until PN is waiting for a resource held by P1.</li></ol></blockquote><p>Wikipedia claims these conditions are necessary for a deadlock to occur. In addition, I’ve heard claims they are also sufficient (although I may’ve misinterpreted these claims).</p><p>The problem is that I have examples that seem to me to contradict both necessity or sufficiency of those conditions. And I can’t see my error.</p><p>Necessity first:<br /> Let R1 and R2 be two resources shareable by two processes at most. Let P1, P2, P3, P4 be processes such as P1 and P2 hold one piece of R1 each and each wait for a piece of R2, and P3 and P4 hold one piece of R2 each and each wait for a piece of R1, as below:</p><p><a href="https://i.stack.imgur.com/cSG7x.gif" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/cSG7x.gif" alt="enter image description here"/></a></p><p>Assume that #3 holds. #2 and #4 are obviously fulfilled, but #1 is not as both R1 and R2 can be shared. Yet a deadlock seems to occur.</p><p>Now sufficiency:<br /> Let R1 and R2 be two resources, such as R1 is shareable by two processes at most and R2 is non-shareable. Let P1, P2 and P3 be processes such as P1 holds R2 and wants a piece of R1, R2 holds a piece of R1 and wants R2 and R3 holds a piece of R1 and wants nothing more, as below:</p><p><a href="https://i.stack.imgur.com/ERxId.gif" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/ERxId.gif" alt="enter image description here"/></a></p><p>Again, assume #3 holds. Then #1 is fulfilled as R2 is non-shareable, P1 and P2 both fulfil #2 so this condition also holds, and #4 is fulfilled by the cycle formed by P1 and P2. Yet no deadlock occurs, since as soon as P3 finishes its piece of R1 can be granted to P1, whose requirements will be fulfilled by then; so, as soon as P1 releases R2, P2 will be able to proceed.</p><p>Where is my error? Where is my misunderstanding?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You&#39;ve introduced a count restriction on sharing.  While this is interesting, it is different from what is normally considered.  A shareable resource ought to be shareable by anyone and everyone at the same time.</p><p>What #1 says is that one resource must be held in a non-sharable mode.  In your example if R1 were truly sharable, there would be no reason that another process couldn&#39;t also acquire R1 in a shareable mode (and thus, no deadlock would occur).</p><p>What you&#39;re doing is introducing a &#34;limited shareable&#34; resource, which initially behaves as a shareable resource, though when the limit is reached then behaves as a non-shareable resource.  So, you&#39;re playing with the rules (which is fine), but that changes things a bit.  We must consider that R1 morphs into a non-shared resource whenever its sharing limit is reached.</p><hr/><p>Think of it this way: shareable mode buys us nothing except a list of current users of a resource.  It does not restrict the program in any way.</p><p>Shareable use of resources alone is hardly worth considering in the context of deadlocks.  What starts to make it interesting is the use of and need for non-shareable modes.</p><p>When you&#39;re updating a resource, that is best done in a non-shared mode, otherwise you can have race conditions.  So, updates put you in a situation where you either have races or potential deadlocks.  Races are avoided by non-sharable modes (there are other methods, though more limited).  Deadlocks due to non-shared modes can be avoided by following a directed acyclic resource hierarchy, which eliminates the cycles necessary for deadlocks.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/java-how-to-avoid-halting-of-the-jvm-due-to-a-deadlock-in-java/'>Java &#8211; How to avoid halting of the JVM due to a deadlock in java</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/php-how-to-properly-reverse-the-if-statement-when-you-have-two-conditions-in-it/'>Php &#8211; How to properly reverse the if statement when you have two conditions in it</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/is-releases-mutexes-in-reverse-order-required-to-make-this-deadlock-prevention-method-work/'>Is &#8220;releases mutexes in reverse order&#8221; required to make this deadlock-prevention method work</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>