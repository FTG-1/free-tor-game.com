<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Functional programming: Compare all items in an array &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069700 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069700" class="post-1069700 software type-software status-publish hentry category-software tag-comparison tag-functional-programming tag-list"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Functional programming: Compare all items in an array</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">comparison</span><span class="mr-2 badge badge-info">functional programming</span><span class="mr-2 badge badge-warning">list</span></p><div class="entry-content"><p>In functional programming, how do I do an equality comparison of all items in an array?</p><hr/><p>I have an array of items that I want to compare, for example for equality. Is it possible to use a fold (also known as reduce) operation for this?</p><p>This code won&#39;t work, because after the first iteration, memo is a boolean:</p><pre><code>[a, b, c].reduce((memo, item) =&gt; memo === item)
</code></pre><p>I&#39;ve tried this variant, which returns the last item if they are equal, but this is no good, since I need a boolean as the result:</p><pre><code>[a, b, c].reduce((memo, item) =&gt; (memo === item) &amp;&amp; item)
</code></pre><p>Forcing a boolean <code>!!</code> is no good either, since the item itself may be falsy and so give the wrong result.</p><p>I would like to have a functional solution to this problem – saving the result outside of the fold is much more verbose.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I want to answer a small part of your question, that is nonetheless very interesting:</p><blockquote><p>Is it possible to use a fold (also known as reduce) operation for this?</p></blockquote><p>Yes, it is.</p><p>In fact, it <em>is</em> always possible to use a fold for <em>anything</em>! Fold is a <em>general</em> operation for iteration, <em>anything</em> you can do with iteration, you can do with fold!</p><p>The <a href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)#Universality" rel="nofollow noreferrer">Wikipedia page for fold</a> has a sketch of a proof for this, but I want to give another intuition thanks to a talk by <a href="http://blog.higher-order.com/" rel="nofollow noreferrer">Rúnar Óli Bjarnason</a> on <a href="https://vimeo.com/18554216" rel="nofollow noreferrer">Functional Programming for Beginners</a> which unfortunately seems to have vanished from the interwebs.</p><p>A collection can be either empty or not empty. The two arguments to fold tell it what to do when the collection is empty, and what to do with the next element when the collection is not empty. That covers all the cases, so it should be intuitively clear, that fold can do <em>anything</em>.</p><p>Another view, thanks to that same talk, is of fold as an interpreter. Think of a collection as a series of instructions. There are two kinds of instructions: the <code>HALT</code> instruction (which has no operands), and the <code>NEXT</code> instruction, which has one operand. The two arguments you supply to fold, are the two implementations of the interpreter functions for <code>HALT</code> and <code>NEXT</code>. Again, since there are only two instructions, and you supply the code for both of them, it comes as no surprise, that fold can do anything.</p><p>I actually put this to the test, and <a href="https://stackoverflow.com/a/3834035/2988">re-implemented many of the methods from Ruby&#39;s collection framework</a> (the <code>Enumerable</code> module), which normally rely <em>solely</em> on the <code>each</code> method (a <code>foreach</code>-style iterator which simply yields each element), so that they instead all rely on the <code>inject</code> method (which is how Ruby spells &#34;fold&#34;).</p><p>So, what <em>does</em> it look like with a fold in ECMAScript?</p><pre><code>someArray.reduce((memo, el, i, ary) =&gt; memo &amp;&amp; ary[0] === el, true)
</code></pre><p>However, just because fold <em>can</em> do everything, it shouldn&#39;t be used for everything. When there are more appropriate, more specialized operations, these should be used instead:</p><pre><code>someArray.every((el, i, ary) =&gt; ary[0] === el)
</code></pre><p><strong>Note:</strong> technically speaking, these two implementations do not check whether every element is equal to every other element, they only check whether every element is equal to the first element. Thus, it relies on <code>===</code> being transitive and symmetric (as a well-behaved equality should be). If you cannot rely on that, you should first build the Cartesian Product of the array with itself, map it to whether the two elements are equal, and then ask if everything is true:</p><pre><code>someArray.reduce((memo, el, _, ary) =&gt; memo.concat(ary.map(ell =&gt; [el, ell])), []).
map(([a, b]) =&gt; a === b).
every(el =&gt; el)
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/why-functional-programming/'>Why Functional Programming</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/why-are-all-the-functional-programming-tutorials-so-mathy/'>Why are all the functional programming tutorials so mathy</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/why-are-cons-lists-associated-with-functional-programming/'>Why are cons lists associated with functional programming</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/functional-methods-on-collections/'>Functional Methods on Collections</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/workaround-for-implementing-operations-on-doubly-linked-or-circular-data-structures-in-languages-with-immutable-data/'>Workaround for implementing operations on doubly linked or circular data structures in languages with immutable data</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>