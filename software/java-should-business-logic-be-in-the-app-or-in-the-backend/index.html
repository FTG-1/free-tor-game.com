<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Should business logic be in the app or in the backend &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069048 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069048" class="post-1069048 software type-software status-publish hentry category-software tag-android tag-architecture tag-clean-architecture tag-enterprise-architecture tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Should business logic be in the app or in the backend</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">android</span><span class="mr-2 badge badge-info">Architecture</span><span class="mr-2 badge badge-warning">clean-architecture</span><span class="mr-2 badge badge-primary">enterprise-architecture</span><span class="mr-2 badge badge-danger">java</span></p><div class="entry-content"><p>I&#39;ve recently started applying the Clean Architecture while developing an Android application. And so I divided my application in 4 different parts.</p><p><a href="../../../i.stack.imgur.com/SHtGE.png" rel="noreferrer"><img src="../../../i.stack.imgur.com/SHtGE.png" alt="enter image description here"/></a></p><h3>Data layer</h3><p>Contains the implementation of repositories.</p><h3>Device layer</h3><p>Contains implementation of android related stuff like AlarmManager, not related to storage of entities.</p><h3>Domain layer</h3><p>Use cases (interactors) are implemented here and interfaces for repositories are defined here.</p><h3>Presentation</h3><p>UI related stuff, fragments, view models, activities.</p><hr/><p>This application is not in isolation, it exists in a system with a backend and a frontend (web app) where some users use the mobile app and some use the web app.</p><p>Now, according to the clean architecture, the business logic should reside in the domain layer. But in this scenario I feel like it does not belong there. Let&#39;s take an example.</p><p>Let&#39;s say a User can purchase MovieTickets from different type of cinemas.<br /> In this scenario, we would have a use case called PurchaseMovieTicket.</p><p>Now the question is. Where should the actual logic on the purchase be implemented? There are two ways this can be done.</p><h3>Type 1</h3><p>Most examples on clean architecture on android only consider the Repository as something to do CRUD operations on whether its on the cloud or local storage (eg. Android Room). This would mean the PurchaseMovieTicket use case would include logic such as.</p><ul><li>Remove money from user</li><li>Add the movie ticket to the user</li><li>Call update on the repository with the User as parameter</li></ul><p>Now the drawbacks here is obvious. What if the backend needs to do other things related to purchasing of movie tickets, perhaps communicate to other systems even, then all this would also need to be implemented in the app. You can almost see how this is not possible.</p><h3>Type 2</h3><p>The Repository contains a method called purchaseMovieTicket which takes a MovieTicket and a User. This method would do the necessary logic on the backend or wherever it is implemented.</p><p>Drawback here is well, the use case becomes almost unnecessary because it just forwards the call from the view model to the repository. And there is no business logic to talk about.</p><h3>Question</h3><ul><li>Which type would be the best to use in this system? Why?</li><li>Is it good to put the business logic in the backend?</li><li>If you go with implementation type 2, does the repository break the clean architecture principles?</li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It should be on a case-by-case basis but I would expect most of the logic to go in the backend.</p><p>Your interactor might still contain several methods (&#34;Check ticket availability&#34;, &#34;Add ticket to basket&#34;, &#34;Checkout&#34;) but yes the implementation could be expected to be very simple in some cases.</p><hr/><p>You might want to consider:</p><ul><li><p><strong>Security</strong>. Any code that you need to trust, implement on the backend. Assume a hacker can change the client code to do what they want. In your type 1 example, what if they changed it to only call &#34;Add the movie ticket to the user&#34; and not &#34;Remove money from user&#34;?</p></li><li><p><strong>Communication coupling</strong>. As you mention, for anything that needs to communicate with other systems, prefer the backend so that the client only needs to communicate with your backend.</p></li><li><p><strong>Responsiveness</strong>. Things on the client end (aside from heavy computation) will generally have better performance for the user than communicating with the backend. Something like computing a total basket price might be better on the client end for this reason.</p></li><li><p><strong>Duplication</strong>. If you have two clients, implementing the logic in the client will require it to be duplicated, so prefer the backend.</p></li><li><p><strong>Data location</strong>. Prefer to put the logic with the data that it operates on. For example, if it requires computing on a lot of data from the backend database, but only sends a small result to the user, put that logic in the backend. Or the opposite might apply.</p></li><li><p><strong>API</strong>. Prefer to place the logic so that the backend&#39;s API feels cohesive and consistent.</p></li><li><p><strong>Race conditions</strong>. Placing logic in the backend makes use of transactions and similar techniques much easier, decreasing the risk of concurrency issues.</p></li><li><p><strong>Resource requirements</strong>. On mobile, I&#39;d suggest heavy computation should be done on the backend. If this was a desktop app known to run only on decent machines, it might be better to prefer the client end to reduce server load.</p></li></ul><p>Note this isn&#39;t an exhaustive list.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../architecture-how-to-structure-business-layer-logic-app-with-much-complicated-business-layer-logic-calculations-etc/'>Architecture &#8211; How to structure business layer logic (app with much complicated business layer logic, calculations etc.)</a></li><li class="list-group-item"><a href='../architecture-should-i-use-a-layer-between-service-and-repository-for-a-clean-architecture-spring/'>Architecture &#8211; Should I use a layer between service and repository for a clean architecture &#8211; Spring</a></li><li class="list-group-item"><a href='../java-clean-architecture-apps-that-rely-heavily-on-background-services/'>Java &#8211; Clean Architecture: Apps that rely heavily on background services</a></li><li class="list-group-item"><a href='../clean-architecture-google-facebook-login-and-data-layer/'>Clean Architecture : Google/Facebook Login and data layer</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>