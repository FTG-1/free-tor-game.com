<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Should an abstract class implement an interface, as opposed to defining its own abstract methods &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076912 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076912" class="post-1076912 software type-software status-publish hentry category-software tag-abstract-class tag-design-patterns tag-interfaces tag-java tag-object-oriented-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Should an abstract class implement an interface, as opposed to defining its own abstract methods</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">abstract class</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">interfaces</span><span class="mr-2 badge badge-primary">java</span><span class="mr-2 badge badge-danger">object-oriented-design</span></p><div class="entry-content"><p>I&#39;m defining a class structure for persisting to our cassandra database, and I&#39;m unsure about using a combination of an abstract class and an interface. I have two concrete classes, one for persisting reports and the other for persisting configurations. They both have separate entity classes defined else where that the <code>entityMapper</code> uses. I have read <a href="https://softwareengineering.stackexchange.com/questions/163641/interfaces-on-an-abstract-class">this post</a> which is very similar, but I don&#39;t think their example really highlights what I want to know.</p><p>My structure looks like this:</p><p><strong>Interface</strong></p><pre><code>public interface CassandraRepository&lt;T&gt; {

    void save(T object);

    void delete(T object);
}
</code></pre><p><strong>Abstract class</strong></p><pre><code>import com.datastax.driver.core.Session;
import com.datastax.driver.mapping.Mapper;
import com.datastax.driver.mapping.MappingManager;

abstract class AbstractGenericRepository&lt;T&gt; implements CassandraRepository&lt;T&gt; {

    private final Session sesion;
    Mapper&lt;T&gt; entityMapper;

    AbstractGenericRepository(final Session session) {
        this.session = session;
        final MappingManager manager = new MappingManager(this.session);
        this.entityMapper = manager.mapper(getRepositoryClass());
    }

    protected abstract Class&lt;T&gt; getRepositoryClass();
}
</code></pre><p><strong>Configuration class</strong></p><pre><code>import com.model.Configuration;
import com.datastax.driver.core.Session;

public class ConfigurationRepository extends AbstractGenericRepository&lt;Configuration&gt; {

    public ConfigurationRepository(final Session session) {
        super(session);
    }

    @Override
    public void delete(final Configuration object) {
        this.entityMapper.delete(object);
    }

    @Override
    public void save(final Configuration object) {
        this.entityMapper.save(object);
    }

    @Override
    protected Class&lt;Configuration&gt; getRepositoryClass() {
        return Configuration.class;
    }
}
</code></pre><p><strong>Report class</strong></p><pre><code>import com.model.Report;
import com.datastax.driver.core.Session;

public class ReportRepository  extends AbstractGenericRepository&lt;Report&gt; {

    ReportRepository(Session session) {
        super(session);
    }

    @Override
    public void save(Report object) {
        this.entityMapper.save(object);
    }

    @Override
    public void delete(Report object) {
        this.entityMapper.delete(object);
    }

    @Override
    protected Class&lt;Report&gt; getRepositoryClass() {
        return Report.class;
    }
}
</code></pre><p>My question is: is there a point of having the interface at all? Could I simply define both the <code>save</code> and <code>delete</code> methods as abstract methods in the abstract class itself, and eliminate the interface.</p><p>I&#39;ve also realised while typing this up that I could just move both the save and delete implementations into the abstract itself since they do the same thing. But in a case where they each implemented the methods differnetly, is there any benefit to having the interface at all?</p><p>Why could I not always use an abstract class over an interface, since it allows you to provide abstract methods that must be implemented in subclasses (like an interface), but then also allows you to defining common code implementations between them (which interfaces do not allow)?</p><p><strong>EDIT</strong></p><p>In response to the post being tagged as a possible duplicate, the other post doesn&#39;t really clarify anything for me, specifically in the case of if an abstract class should implement an interface, and the pros/cons of doing so</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>First, let&#39;s rename the repository and interface, and then we can talk about why creating an additional layer of abstraction (the interface) is beneficial.</p><p>The <code>CassandraRepository&lt;T&gt;</code> interface has a name problem. It has the word &#34;Cassandra&#34; in it, which ties it to a database vendor.</p><p>Let&#39;s rename this to simply <code>Repository&lt;T&gt;</code> instead.</p><pre><code>public interface Repository&lt;T&gt;
{
    void save(T object);
    void delete(T object);
}
</code></pre><p>Now, the <code>AbstractGenericRepository&lt;T&gt;</code> class has a naming problem too. This is where you should begin coupling your repository classes to a database vendor.</p><p>Let&#39;s rename this to <code>CassandraRepository&lt;T&gt;</code> and have it implement the interface:</p><pre><code>abstract class CassandraRepository&lt;T&gt; implements Repository&lt;T&gt;
{
    private final Session sesion;
    Mapper&lt;T&gt; entityMapper;

    CassandraRepository(final Session session) {
        this.session = session;
        final MappingManager manager = new MappingManager(this.session);
        this.entityMapper = manager.mapper(getRepositoryClass());
    }

    protected abstract Class&lt;T&gt; getRepositoryClass();
}
</code></pre><p>The <code>ReportRepository</code> class also has a naming problem. It is tied to a database vendor, yet you need specific methods for reports. Rename this class to <code>CassandraReportRepository</code> and have it implement a new interface: `ReportRepository&#39;:</p><pre><code>public class CassandraReportRepository extends CassandraRepository&lt;Report&gt; implements ReportRepository
{
    ...
}

public interface ReportRepository extends Repository&lt;Report&gt;
{
    ReportResult run(Report reportToRun);
}
</code></pre><p>The CassandraReportRepository inherits from an abstract class coupled to a particular database vendor, and this is apparent through how these things are named.</p><p>This next bit is why you define an interface for an abstract class:</p><pre><code>public class ReportService
{
    private final ReportRepository  repository;

    public ReportService(ReportRepository repository) {
        this.repository = repository;
    }

    // Methods that use this.repository
}
</code></pre><p><strong>The ReportService has a dependency on the ReportRepository interface, not the database vendor specific abstract class (or even the database vendor specific <em>concrete</em> class. This allows you to isolate this service class in a unit test, pass in a mock report repository, and test the behavior of the service class by itself.</strong></p><p>This is one of the main benefits of defining an interface for an abstract class. Loose coupling lends itself to easily testable code. If you decide to switch database vendors, then code should only need to be refactored within your data access layer.</p><p>You can define a new class called, say, <code>MongoDbRepository&lt;T&gt;</code>. You would create a new class called MongoDbReportRepository that implements the <code>ReportRepository</code> interface. Since the <code>ReportRepository</code> interface did not change, any object that depends on this interface <em>will also <strong>not</strong> need to change.</em></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-should-all-public-methods-in-an-abstract-class-be-marked-virtual/'>C# &#8211; Should all public methods in an abstract class be marked virtual</a></li><li class="list-group-item"><a href='../object-oriented-what-do-you-call-an-interface-with-no-defining-methods-used-as-property-setters/'>Object-oriented &#8211; What do you call an interface with no defining methods used as property setters</a></li><li class="list-group-item"><a href='../java-why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-already-had-abstract-classes/'>Java &#8211; Why were default and static methods added to interfaces in Java 8 when we already had abstract classes</a></li><li class="list-group-item"><a href='../c-what-kind-of-base-for-decorator-interface-abstract-class-non-abstract/'>C++ &#8211; What kind of base for Decorator: interface, abstract class, non-abstract</a></li><li class="list-group-item"><a href='../java-can-a-class-achieve-abstraction-without-implementing-an-interface-or-extending-an-abstract-class/'>Java &#8211; Can a class achieve abstraction without implementing an interface or extending an abstract class</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>