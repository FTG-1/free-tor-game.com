<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Design &#8211; Concurrency: How to approach the design and debug the implementation &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069002 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069002" class="post-1069002 software type-software status-publish hentry category-software tag-concurrency tag-debugging tag-design tag-parallelism"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Design &#8211; Concurrency: How to approach the design and debug the implementation</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">concurrency</span><span class="mr-2 badge badge-info">debugging</span><span class="mr-2 badge badge-warning">design</span><span class="mr-2 badge badge-primary">parallelism</span></p><div class="entry-content"><p>I&#39;ve been developing concurrent systems for several years now, and I have a pretty good grasp on the subject despite my lack of formal training (i.e. no degree).  There&#39;s a few new languages that have become popular to at least talk about lately that are designed to make concurrency easier such as Erlang and Go.  It appears that their approach to concurrency echoes my own experience as to how to make systems scalable and take advantage of multiple cores/processors/machines.</p><p>However, I find that there are very few tools to help visualize what you intend to do, and verify that you are at least close to your original vision.  Debugging concurrent code can be a nightmare with languages that are not designed for concurrency (like C/C++, C#, Java, etc.).  In particular, it can be near impossible to recreate conditions that happen readily on one system in your development environment.</p><p>So, what are your approaches to designing a system to deal with concurrency and parallel processing?  Examples:</p><ul><li>How do you figure out what can be made concurrent vs. what has to be sequential?</li><li>How do you reproduce error conditions and view what is happening as the application executes?</li><li>How do you visualize the interactions between the different concurrent parts of the application?</li></ul><p>I have my own answers for some of these, but I&#39;d also like to learn a bit more.</p><p><strong>Edit</strong></p><p>So far we have a lot of good input.  Many of the articles linked to are very good, and I&#39;ve already read some of them.</p><p>My personal experience with concurrent programming leads me to believe you need a different mindset than you do with sequential programming.  The mental divide is probably as wide as the difference between object oriented programming and procedural programming.  I&#39;d like this set of questions to focus more on the thought processes necessary (i.e. theory) to systematically approach the answers.  When providing more concrete answers, it helps to provide an example&#8211;something you went through personally.</p><p><strong>Goal for the Bounty</strong></p><p>Don&#39;t tell me what I should do.  I already have that under control.  Tell me what you do.  Tell me how <em>you</em> solve these problems.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>I&#39;ve been developing concurrent
 systems for several years now, and I
 have a pretty good grasp on the
 subject despite my lack of formal
 training (i.e. no degree).</p></blockquote><p>Many of best programmers I know didn&#39;t finish the University. 
As for me I studied Philosophy.</p><blockquote><p>C/C++, C#, Java, etc.). In particular,
 it can be near impossible to recreate
 conditions that happen readily on one
 system in your development
 environment.</p></blockquote><p>yes</p><blockquote><p>How do you figure out what can be made concurrent vs. what has to be
 sequential?</p></blockquote><p>we usually start with a 1000 miles high metaphor to clarify our architecture to ourselves (firstly) and to others (secondly).</p><p>When we faced that problem, we always found a way to limiting the visibility of concurrent objects to non concurrent ones.</p><p>Lately I discovered Actors in scala and I saw that my old solutions were a kind of &#34;miniactors&#34;, much less powerful than scala ones. So my suggestion is to start from there.</p><p>Another suggestion is to skip as many problems as possible: for example we use centralised cache (terracotta) instead of keeping maps in memory, using inner class callbacks instead of synchronised methods, sending messages instead of writing shared memory etc.</p><p>With scala it&#39;s all much easier anyway.</p><blockquote><p>How do you reproduce error conditions and view what is happening
 as the application executes?</p></blockquote><p>No real answer here. We have some unit test for concurrency and we have a load test suite to stress the application as much as we can.</p><blockquote><p>How do you visualize the interactions between the different
 concurrent parts of the application?</p></blockquote><p>Again no real answer: we design our Metaphor on the whiteboard and we try to make sure there are no conflicts on the architectural side.</p><p>For Arch here I mean the Neal Ford&#39;s definition: Sw Architecture is everything that will be very hard to change later.</p><blockquote><p>programming leads me to believe you
 need a different mindset than you do
 with sequential programming.</p></blockquote><p>Maybe but for me it&#39;s simply impossible to think in a parallel way, so better design our software in a way that doesn&#39;t require parallel thinking and with clear guardrails to avoid crashes between concurrency lanes.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../know-concurrent-programming/'>Know concurrent programming</a></li><li class="list-group-item"><a href='../parallelism-implies-concurrency-but-not-the-other-way-round-right/'>Parallelism implies concurrency but not the other way round right</a></li><li class="list-group-item"><a href='../in-what-meaningful-ways-does-erlang-prevent-race-conditions-in-concurrent-programming/'>In what meaningful ways does Erlang prevent race conditions in concurrent programming</a></li><li class="list-group-item"><a href='../the-difference-between-concurrent-and-parallel-execution/'>The difference between &#8220;concurrent&#8221; and &#8220;parallel&#8221; execution</a></li><li class="list-group-item"><a href='../c-how-does-rust-diverge-from-the-concurrency-facilities-of-c/'>C++ &#8211; How does Rust diverge from the concurrency facilities of C++</a></li><li class="list-group-item"><a href='../do-compilers-optimise-in-concurrency/'>Do compilers optimise in concurrency</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>