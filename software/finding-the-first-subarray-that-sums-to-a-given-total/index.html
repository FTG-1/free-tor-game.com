<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Finding the first subarray that sums to a given total &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079878 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079878" class="post-1079878 software type-software status-publish hentry category-software tag-array tag-big-o tag-complexity"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Finding the first subarray that sums to a given total</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">array</span><span class="mr-2 badge badge-info">big o</span><span class="mr-2 badge badge-warning">complexity</span></p><div class="entry-content"><p>Here is the question:</p><blockquote><p>Given and unordered array of positive and negative integers. How can you find the first subarray to sum to a given value?</p></blockquote><p>For example. Given the array&#8230;</p><pre><code>[1, -3, 4, 8, 2, -14, 3, -1, 10, 6]
</code></pre><p>Find the first subarray to sum to 9.</p><p>In this example the sub array would be&#8230;</p><pre><code>[-3, 4, 8]
</code></pre><p>I found a solution that is O(n^2) by iterating the array for start points and then iterating every end point until you find the value.</p><p>But is there a way to do this better than O(n^2)?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>What about this?</p><ul><li><p>We run through the array, computing the sums of all the prefixes along the way. (O(n) since we can keep a running tally of the sum)</p></li><li><p>We save the sums we encounter in some datastructure where we can search by the value of the sum and also get prefix that the sum belongs to (see below for implementation of this)</p></li><li><p>If the sum of the prefix up to index n is off target by an amount that is the sum of a prefix we previously encountered, say, up to index m, then we found our subarray, the array from m to n. Since <code>sum(prefix(n)) - sum(prefix(m)) = targetSum</code> and <code>subArray(m,n) = prefix(n) - prefix(m)</code> (hopefully this psuedo-notation is somewhat clear)</p></li></ul><p>Now the running time of our algorithm is <code>n * (the time it takes to insert the sum of our prefix to the datastructure + the time it takes to search if we have a certain sum in our datastructure)</code>.</p><p>An obvious choice for a datastructure would be a <a href="http://en.wikipedia.org/wiki/Hash_table" rel="nofollow">hashtable</a> with sums as keys and the prefix they are the sum of as values. Here search and insert take O(1) on average, so we would be O(n) on average, which seems rather decent. Code could be:</p><pre class="lang-java prettyprint-override"><code>public int[] findSubArray(int[] arr, int targetSum){
    Map&lt;Integer, Integer&gt; sumsToIndex = new HashMap&lt;Integer, Integer&gt;();
    int sum = 0;

    for(int index = 0; index &lt;= arr.length; index++){
        if(sumsToIndex.get(sum) == null){
            sumsToIndex.put(sum, index);
        }

        int offTarget = sum - targetSum;
        Integer offTargetPrefix = sumsToIndex.get(offTarget);
        if(offTargetPrefix != null){
            return Arrays.copyOfRange(arr, offTargetPrefix, index);
        }

        if(index &lt; arr.length){
            sum += arr[index];
        }
    }
    return null;
}
</code></pre><p>However worst case, search in a hashtable is O(n) if we get a boatload of collisions, I don&#39;t know how this pans out here. Since our keys are integers, I think we might be okay. But maybe theoretically we are still O(n) worst case. Making our algorithm O(n^2) still.</p><p>What we could do is use some other datastructure, like <a href="http://en.wikipedia.org/wiki/Redâ€“black_tree" rel="nofollow">red-black trees</a> (with the sums as sorting key), where search and insertion are O(log n) in the worst case, making our algorithm O(n log(n)).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../best-upper-bound-best-lower-bound-of-an-algorithm/'>Best Upper Bound &#038; Best Lower Bound of an Algorithm</a></li><li class="list-group-item"><a href='../notation-for-the-average-time-complexity-of-an-algorithm/'>Notation for the average time complexity of an algorithm</a></li><li class="list-group-item"><a href='../c-improving-the-running-time-of-breadth-first-search-and-adjacency-list-creation/'>C++ &#8211; Improving the running time of Breadth First Search and Adjacency List creation</a></li><li class="list-group-item"><a href='../how-to-draw-rectangles-for-2d-arrays/'>How to draw rectangles for 2D arrays</a></li><li class="list-group-item"><a href='../finding-longest-subsequence-with-sum-less-than-or-equal-to-a-fixed-number/'>Finding longest subsequence with sum less than or equal to a fixed number</a></li><li class="list-group-item"><a href='../fastest-algorithm-of-dividing-array-into-positive-and-negative-numbers/'>Fastest algorithm of dividing array into positive and negative numbers</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>