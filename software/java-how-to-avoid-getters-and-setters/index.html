<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; How to avoid getters and setters &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063695 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063695" class="post-1063695 software type-software status-publish hentry category-software tag-java tag-object-oriented"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; How to avoid getters and setters</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">java</span><span class="mr-2 badge badge-info">object-oriented</span></p><div class="entry-content"><p>I&#39;m having something of a hard time with designing classes in an oo way. I&#39;ve read that objects expose their behavior, not their data; therefore, rather than using getter/setters to modify data, the methods of a given class should be &#34;verbs&#34; or actions operating on the object. For example, in an &#39;Account&#39; object, we would have the methods <code>Withdraw()</code> and <code>Deposit()</code> rather than <code>setAmount()</code> etc. See: <a href="http://www.javaworld.com/article/2073723/core-java/why-getter-and-setter-methods-are-evil.html" rel="noreferrer">Why getter and setter methods are evil</a>.</p><p>So for example, given a Customer class that keeps alot of information about the customer, e.g. Name, DOB, Tel, Address etc., how would one avoid getter/setters for getting and setting all those attributes? What &#39;Behavior&#39; type method can one write to populate all that data?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>As stated in quite a few answers and comments, DTOs <em>are</em> appropriate and useful in some situations, especially in transferring data across boundaries (e.g. serializing to JSON to send through a web service). For the rest of this answer, I&#39;ll more or less ignore that and talk about domain classes, and how they can be designed to minimize (if not eliminate) getters and setters, and still be useful in a large project. I also won&#39;t talk about <em>why</em> remove getters or setters, or <em>when</em> to do so, because those are questions of their own.</p><p>As an example, imagine that your project is a board game like Chess or Battleship. You might have various ways of representing this in a presentation layer (console app, web service, GUI,etc.), but you also have a core domain. One class you might have is <code>Coordinate</code>, representing a position on the board. The &#34;evil&#34; way to write it would be:</p><pre><code>public class Coordinate
{
    public int X {get; set;}
    public int Y {get; set;}
}
</code></pre><p>(I&#39;m going to be writing code examples in C# rather than Java, for brevity and because I&#39;m more familiar with it. Hopefully that&#39;s not a problem. The concepts are the same and the translation should be simple.)</p><h2>Removing Setters: Immutability</h2><p>While public getters and setters are both potentially problematic, setters are the far more &#34;evil&#34; of the two. They&#39;re also usually the easier to eliminate. The process is a simple one- set the value from within the constructor. Any methods which previously mutated the object should instead return a new result. So:</p><pre><code>public class Coordinate
{
    public int X {get; private set;}
    public int Y {get; private set;}

    public Coordinate(int x, int y)
    {
        X = x;
        Y = y;
    }
}
</code></pre><p>Note that this doesn&#39;t protect against other methods in the class mutating X and Y. To be more strictly immutable, you could use <code>readonly</code> (<code>final</code> in Java). But either way- whether you make your properties truly immutable or just prevent direct public mutation through setters- it does the trick of removing your public setters. In the vast majority of situations, this works just fine.</p><h2>Removing Getters, Part 1: Designing for Behavior</h2><p>The above is all well and good for setters, but in terms of getters, we actually shot ourselves in the foot before even starting. Our process was to think of what a coordinate is- the <em>data</em> it represents- and create a class around that. Instead, we should have started with what <em>behavior</em> we need from a coordinate. This process, by the way, is aided by TDD, where we only extract classes like this once we have a need for them, so we start with the desired behavior and work from there.</p><p>So let&#39;s say that the first place you found yourself needing a <code>Coordinate</code> was for collision detection: you wanted to check if two pieces occupy the same space on the board. Here&#39;s the &#34;evil&#34; way (constructors omitted for brevity):</p><pre><code>public class Piece
{
    public Coordinate Position {get; private set;}
}

public class Coordinate
{
    public int X {get; private set;}
    public int Y {get; private set;}
}

    //...And then, inside some class
    public bool DoPiecesCollide(Piece one, Piece two)
    {
        return one.X == two.X &amp;&amp; one.Y == two.Y;
    }
</code></pre><p>And here&#39;s the good way:</p><pre><code>public class Piece
{
    private Coordinate _position;
    public bool CollidesWith(Piece other)
    {
        return _position.Equals(other._position);
    }
}

public class Coordinate
{
    private readonly int _x;
    private readonly int _y;
    public bool Equals(Coordinate other)
    {
        return _x == other._x &amp;&amp; _y == other._y;
    }
}
</code></pre><p>(<code>IEquatable</code> implementation abbreviated for simplicity). By designing for behavior rather than modelling data, we&#39;ve managed to remove our getters.</p><p>Note this is also relevant to your example. You may be using an ORM, or display customer information on a website or something, in which case some kind of <code>Customer</code> DTO would probably make sense. But just because your system includes customers and they are represented in the data model does not automatically mean you should have a <code>Customer</code> class in your domain. Maybe as you design for behavior, one will emerge, but if you want to avoid getters, don&#39;t create one pre-emptively.</p><h2>Removing Getters, Part 2: External Behaviour</h2><p>So the above is a good start, but sooner or later you will probably run into a situation where you have behavior which is associated with a class, which in some way depends on the class&#39;s state, but which doesn&#39;t belong <em>on</em> the class. This sort of behavior is what typically lives in the <strong>service layer</strong> of your application.</p><p>Taking our <code>Coordinate</code> example, eventually you&#39;ll want to represent your game to the user, and that might mean drawing to the screen. You might, for example, have a UI project which uses <code>Vector2</code> to represent a point on the screen. But it would be inappropriate for the <code>Coordinate</code> class to take charge of converting from a coordinate to a point on the screen- that would be bringing all sorts of presentation concerns into your core domain. Unfortunately this type of situation is inherent in OO design.</p><p><strong>The first option</strong>, which is very commonly chosen, is just expose the damn getters and say to hell with it. This has the advantage of simplicity. But since we&#39;re talking about avoiding getters, let&#39;s say for argument&#39;s sake we reject this one and see what other options there are.</p><p><strong>A second option</strong> is to add some kind of <code>.ToDTO()</code> method on your class. This- or similar- may well be needed anyway, for example when you want to save the game you need to capture pretty much all of your state. But the difference between doing this for your services and just accessing the getter directly is more or less aesthetic. It still has just as much &#34;evil&#34; to it.</p><p><strong>A third option</strong>- which I&#39;ve seen advocated by <a href="http://codinghelmet.com/" rel="noreferrer">Zoran Horvat</a> in a couple of Pluralsight videos- is to use a modified version of the visitor pattern. This is a pretty unusual use and variation of the pattern and I think people&#39;s mileage will vary massively on whether it&#39;s adding complexity for no real gain or whether it&#39;s a nice compromise for the situation. The idea is essentially to use the standard visitor pattern, but have the <code>Visit</code> methods take the state they need as parameters, instead of the class they&#39;re visiting. Examples can be found <a href="http://codinghelmet.com/?path=howto/visitor-pattern-encapsulation" rel="noreferrer">here</a>.</p><p>For our problem, a solution using this pattern would be:</p><pre><code>public class Coordinate
{
    private readonly int _x;
    private readonly int _y;

    public T Transform&lt;T&gt;(IPositionTransformer&lt;T&gt; transformer)
    {
        return transformer.Transform(_x,_y);
    }
}

public interface IPositionTransformer&lt;T&gt;
{
    T Transform(int x, int y);
}

//This one lives in the presentation layer
public class CoordinateToVectorTransformer : IPositionTransformer&lt;Vector2&gt;
{
    private readonly float _tileWidth;
    private readonly float _tileHeight;
    private readonly Vector2 _topLeft;

    Vector2 Transform(int x, int y)
    {
        return _topLeft + new Vector2(_tileWidth*x + _tileHeight*y);
    }
}
</code></pre><p>As you can probably tell, <code>_x</code> and <code>_y</code> aren&#39;t <em>really</em> encapsulated any more. We could extract them by creating an <code>IPositionTransformer&lt;Tuple&lt;int,int&gt;&gt;</code> which just returns them directly. Depending on taste, you may feel this makes the entire exercise pointless.</p><p>However, with public getters, it&#39;s very easy to do things the wrong way, just pulling data out directly and using it in violation of <a href="https://pragprog.com/articles/tell-dont-ask" rel="noreferrer">Tell, Don&#39;t Ask</a>. Whereas using this pattern it&#39;s actually <em>simpler</em> to do it the right way: when you want to create behaviour, you&#39;ll automatically start by creating a type associated with it. Violations of TDA will be very obviously smelly and probably require working around a simpler, better solution. In practice, these points make it much easier to do it the right, OO, way than the &#34;evil&#34; way that getters encourage.</p><p><strong>Finally</strong>, even if it isn&#39;t initially obvious, there may in fact be ways to expose <em>enough</em> of what you need as behavior to avoid needing to expose state. For example, using our previous version of <code>Coordinate</code> whose only public member is <code>Equals()</code> (in practice it would need a full <code>IEquatable</code> implementation), you could write the following class in your presentation layer:</p><pre><code>public class CoordinateToVectorTransformer
{
    private Dictionary&lt;Coordinate,Vector2&gt; _coordinatePositions;

    public CoordinateToVectorTransformer(int boardWidth, int boardHeight)
    {
        for(int x=0; x&lt;boardWidth; x++)
        {
            for(int y=0; y&lt;boardWidth; y++)
            {
                _coordinatePositions[new Coordinate(x,y)] = GetPosition(x,y);
            }
        }
    }

    private static Vector2 GetPosition(int x, int y)
    {
        //Some implementation goes here...
    }

    public Vector2 Transform(Coordinate coordinate)
    {
        return _coordinatePositions[coordinate];
    }
}
</code></pre><p>It turns out, perhaps surprisingly, that all the behavior we <em>really</em> needed from a coordinate to achieve our goal was equality checking! Of course, this solution is tailored to this problem, and makes assumptions about acceptable memory usage/performance. It&#39;s just an example that fits this particular problem domain, rather than a blueprint for a general solution.</p><p>And again, opinions will vary on whether in practice this is needless complexity. In some cases, no such solution like this might exist, or it might be prohibitively weird or complex, in which case you can revert to the above three.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../object-oriented-object-oriented-programming-getters-setters-or-logical-names/'>Object-oriented &#8211; Object Oriented Programming: getters/setters or logical names</a></li><li class="list-group-item"><a href='../object-oriented-zero-behavior-objects-in-oop-the-design-dilemma/'>Object-oriented &#8211; Zero behavior objects in OOP &#8211; the design dilemma</a></li><li class="list-group-item"><a href='../java-nested-pojos-exposing-collections-detecting-changes/'>Java &#8211; Nested POJOs, exposing collections, detecting changes</a></li><li class="list-group-item"><a href='../java-why-does-javafxs-gridpane-attach-properties-of-the-layout-to-the-components/'>Java &#8211; Why Does JavaFX&#8217;s GridPane Attach Properties of the Layout to the Components</a></li><li class="list-group-item"><a href='../java-building-a-warehouse-inventory-management-system-with-multiple-locations-for-each-item/'>Java &#8211; Building a Warehouse/Inventory management system, with multiple locations for each item</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>