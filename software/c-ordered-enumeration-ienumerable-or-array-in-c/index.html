<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Ordered enumeration: IEnumerable or Array (in C#) &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069130 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069130" class="post-1069130 software type-software status-publish hentry category-software tag-array tag-c tag-order"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Ordered enumeration: IEnumerable or Array (in C#)</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">array</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">order</span></p><div class="entry-content"><p>Typical context: I make an extension method for a collection which considers that the elements are ordered. The function starts at the beginning, at index 0, and the order has significance. Examples: <a href="https://codereview.stackexchange.com/questions/6512/grouping-by-sequence-in-linq">Grouping by sequence</a> or <a href="https://stackoverflow.com/questions/237377/getting-a-collection-of-index-values-using-a-linq-query/7829692#7829692">Indexes of an item</a>.</p><p>However, I&#39;m always stumped as to what to extend: <code>IEnumerable&lt;T&gt;</code> or <code>T[]</code>. My rationale was clarity of purpose: An array has a notion of ordering, whereas an IEnumerable is implemented by many generic collections, not all of which have a notion of order:</p><ul><li>Dictionary &#8211; unordered</li><li>HashSet &#8211; unordered</li><li>LinkedList &#8211; ordered</li><li>List &#8211; ordered</li><li>Queue &#8211; ordered</li><li>SortedDictionary &#8211; sorted (not original order)</li><li>SortedList &#8211; sorted (not original order)</li><li>SortedSet &#8211; sorted (not original order)</li><li>Stack &#8211; reversed</li></ul><p>As well as any other implementation which might or might not be ordered.</p><p>Also, I&#39;m not certain if the enumerator is reset if an enumeration is not completed, so if that&#39;s a worry, then who knows at what point the enumeration would start? Enumerating an array would always start at the beginning.</p><p>So to me, it makes more sense to extend a <code>T[]</code>. But am I correct in thinking that? Am I worrying too much? What&#39;s the proper approach for ensuring &#34;ordered&#34; enumeration?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>I&#39;m not certain if the enumerator is reset if an enumeration is not completed, so if that&#39;s a worry, then who knows at what point the enumeration would start? Enumerating an array would always start at the beginning.</p></blockquote><p>These two sentences make me think that you have deep misunderstandings about how the enumerable pattern works. Can you explain why you think that an <em>abandoned enumerator</em> has anything whatsoever to do with <em>a later enumeration</em>?</p><p>An <em>enumerable</em> is a device which produces <em>enumerators</em>. If an enumerator is abandoned, that does not in any way affect the enumerable. If I sell books, and Bob buys a book and only reads it halfway, that doesn&#39;t mean that when I sell a different copy of the book to Alice, she has to start reading where Bob left off.</p><blockquote><p>I&#39;m always stumped as to what to extend: <code>IEnumerable&lt;T&gt;</code> or <code>T[]</code>. My rationale was clarity of purpose: An array has a notion of ordering, whereas an IEnumerable is implemented by many generic collections, not all of which have a notion of order:</p></blockquote><p>Does your extension method need to (1) access the collection out of order? (2) write to the collection?</p><p>If so, then extend <code>IList&lt;T&gt;</code> If not, extend <code>IEnumerable&lt;T&gt;</code>.</p><p>What about: (3) pass the collection on to a method that expects an array?</p><p>Then extend array.</p><p>Your question is basically &#34;I don&#39;t know whether to extend Animal or Giraffe&#34;. If your extension method is not specific to Giraffes, extend Animal. If your extension method is not specific to arrays, extend all lists. If it is not specific to lists, extend all sequences. If it is not specific to sequences, odds are good that an extension method is the wrong mechanism for you; I recommend against extending all objects.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-detecting-ienumerable-state-machines/'>C# &#8211; Detecting IEnumerable &#8220;State Machines&#8221;</a></li><li class="list-group-item"><a href='../design-count-true-array-elements/'>Design &#8211; Count true array elements</a></li><li class="list-group-item"><a href='../c-the-array-class-in-c-implementation-questions/'>C# &#8211; The array class in C# &#8211; Implementation questions</a></li><li class="list-group-item"><a href='../maintain-ordered-collection-by-updating-as-few-order-fields-as-possible/'>Maintain ordered collection by updating as few `order` fields as possible</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>