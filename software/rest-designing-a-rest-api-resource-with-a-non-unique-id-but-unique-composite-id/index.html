<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Designing a REST API resource with a non-unique ID, but unique composite ID &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082142 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082142" class="post-1082142 software type-software status-publish hentry category-software tag-api tag-http tag-relationships tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Designing a REST API resource with a non-unique ID, but unique composite ID</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">http</span><span class="mr-2 badge badge-warning">relationships</span><span class="mr-2 badge badge-primary">rest</span></p><div class="entry-content"><p>Is it bad for a REST API to have non-unique ID for a child resource?</p><p>For example, the endpoint is:</p><p><code>GET /parent/:parent_name/child/:child_name</code></p><p>The <code>:parent_name</code> is unique, but a <code>:child_name</code> is only unique for that parent.</p><p>I decided to use names at first because the <code>parent</code> and <code>child</code> are resources that exist in external systems. This would allow the API consumers to enter the names into the URI intuitively without requiring an extra query to get an ID unique to the API like a GUID.</p><p>However, I&#39;m starting to think this might have been a mistake. Any endpoints that use a <code>child</code> now need both the <code>:parent_name</code> and <code>:child_name</code>. Any endpoints where the <code>child</code> is the root also require the <code>:parent_name</code> in a query parameter, which gives me a bad feeling and I&#39;m not sure how intuitive it is for API consumers.</p><p>Is this design with non-unique ID&#39;s for child resources acceptable, or is it better to just generate a unique ID within the API and always use that ID?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>There are no hard rules for how to build URLs in REST, only common sense and best practices (here is for example <a href="https://restfulapi.net/resource-naming/" rel="noreferrer">one</a> such guide, out of many). From a REST point of view, it&#39;s not important how the URLs look like. Something like <code>/da39a3ee5e6b4b0d3255b</code> is just fine as long as it identifies a resource.</p><p>In your case, the whole URL is the resource identifier at any particular point (be that of a collection of entities or just a single entity). So if you can build the URLs properly so that there are no overlaps that can potentially cause one identifier to point to more resources, then you should be fine no matter how you build the URLs and what names they contain.</p><p>With that being said, there are some problems though if you decide to use names (you don&#39;t mention exactly what those names contain so I&#39;ll assume some plain text). Like I mentioned, REST doesn&#39;t care about the URLs. We build user friendly URLs like that for users. People users. A machine doesn&#39;t care. So consider people as your target audience if you want to build URLs with names in them instead of IDs. For example, of the top of my head:</p><ul><li>can people be confused when they see the same child name in different places?</li><li>are these names created based on some rules or free writing? If someone misspells a name, an URL is created with that name. They figure out their typo and they then fix it. Now you get another URL with the correct name that points to the same resource. How will you handle this? Rewrite rules in the server? How do you invalidate caches? etc.</li><li>internationalization? If people want translations you get the same name in N different languages. What happens then?</li><li>can people refer to the child entities and handle them like standalone entities? Basically, what you are also saying in your post, that now people need to think at one entity name and always pair it with their parent.</li><li>encoding? What exactly are those names? Can you mess them up between UTF-8 and ASCII for example?</li><li>lowercase names vs upper case names? Are they different names or the same?</li><li>etc.</li></ul><p>For reasons such as these people usually prefer to stick an ID in there and call it a day. Sometimes they even use <code>:ID-:Name</code> (i.e. ID, dash, Name) or <code>:ID/:Name</code> (i.e. ID, slash, Name). The ID is used by the application while the name is there for people&#39;s convenience and is ignored by the actual execution/routing engine of the application. See as an example this actual post and compare these two URLs:</p><p><a href="https://softwareengineering.stackexchange.com/questions/406822/designing-a-rest-api-resource-with-a-non-unique-id-but-unique-composite-id/">Designing a REST API resource with a non-unique ID, but unique composite ID</a></p><p><a href="https://softwareengineering.stackexchange.com/questions/406822/bla-bla-bla">Designing a REST API resource with a non-unique ID, but unique composite ID</a></p><p>The application looks at the ID of the post, what&#39;s after it is for people and SEO.</p><p>To conclude, there is no definitive answer to this question. Like I said, just common sense and best practices. So use common sense and read on some best practices. My personal answer to this would be to try to avoid names because of the issues I mentioned above. You can make a mess of thing with names, but less so with (usually numerical) IDs. And your API will be more easy to evolve with IDs instead of names.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-api-concepts/'>REST API concepts</a></li><li class="list-group-item"><a href='../rest-designing-a-rest-api-by-uri-vs-query-string/'>Rest &#8211; Designing a REST api by URI vs query string</a></li><li class="list-group-item"><a href='../rest-designing-a-rest-api-with-resource-relationships/'>Rest &#8211; Designing a REST API with resource relationships</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>