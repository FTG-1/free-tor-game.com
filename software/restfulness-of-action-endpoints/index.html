<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>RESTFulness of /action endpoints &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069331 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069331" class="post-1069331 software type-software status-publish hentry category-software tag-api tag-api-design tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">RESTFulness of /action endpoints</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">api-design</span><span class="mr-2 badge badge-warning">rest</span></p><div class="entry-content"><p>I have been looking at examples of good REST APIs, and I read that <a href="https://developer.rackspace.com/docs/cloud-servers/v2/api-reference/svr-basic-operations/#reboot-specified-server" rel="noreferrer">Rackspace&#39;s cloud servers API</a> is often cited in comparison with AWS&#39;s RPC-like EC2 API.</p><p>However, I also saw that their API reboots a server like so:</p><pre><code>POST /servers/{server_id}/action

{
    &#34;reboot&#34; :
    {
        &#34;type&#34; : &#34;HARD&#34;
    }
}
</code></pre><p>While this makes sense for the particular scenario, it&#39;s less like the posting of a new resource and more like invoking a method on an object.</p><pre><code>server = Server(id)
server.reboot(&#34;HARD&#34;)
</code></pre><p>I have seen similar things elsewhere &#8211; for example, the <a href="http://www.restfulobjects.org/" rel="noreferrer">Restful Objects spec</a>. There, <code>GET /servers/{server_id}/actions/reboot</code> might give a description of the action and its parameters, and a <code>POST</code> <code>/servers/{server_id}/actions/reboot/invoke</code> would actually call the action.</p><p><strong>Does this way of doing things (resources with &#34;methods&#34; as well as data, sort of like OOP in API form) count as RESTful?</strong> And, even if not, <strong>are any of the purported advantages of REST lost in APIs which follow this sort of design?</strong></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>While this makes sense for the particular scenario, it&#39;s less like the posting of a new resource and more like invoking a method on an object.</p></blockquote><p><a href="https://www.rfc-editor.org/rfc/rfc7231#section-4.3.3" rel="nofollow noreferrer">RFC 7231 4.3.3</a></p><blockquote><p>The POST method requests that the target resource process the representation enclosed in the request according to the resource&#39;s own specific semantics.</p></blockquote><p>In short, in the uniform interface of HTTP resources, POST is the catch-all; you use POST if none of the other methods are more suitable</p><p>(Always be keeping in mind that the web has been spectacularly successful even though the HTML media type only offers GET and POST).</p><blockquote><p>Does this way of doing things (resources with &#34;methods&#34; as well as data, sort of like OOP in API form) count as RESTful?</p></blockquote><p>How does the client know to send that message-body to that endpoint using that method?  One of the key ideas in REST is that the communication of that knowledge happens <em>in band</em>; the client knows to send that message to that endpoint because the <em>representation of application state</em> that was just provided by the server told it to.</p><p>In a word: <a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven" rel="nofollow noreferrer">hypermedia</a>.</p><p>In other words, think about how you would do this on the web: you would load up some bookmark, which would return you a representation with a bunch of semantically annotated links.  You&#39;d follow the shutdown server link, which might return you a representation with a form so that you can choose which server you want.  That gets you a representation of the available actions; which includes a link to follow for the reboot action.  You follow that link, and it brings you to a form where you can specify the type of the reboot.  You submit that form, and the the message for rebooting the system is processed.</p><p>The key ideas here are that you never needed to know any of the URI, except for the initial bookmark, and you never needed to know what method of the uniform interface to use, except for the bookmark.  All of the rest of the plumbing comes from the representations provided by the server.</p><p>Your client (the browser) needed to know the media-type of the representations; to find the data describing the links and methods, and to find the semantic data to provide to you.  You yourself needed familiarity with the semantics (what does reboot mean?), so that you could follow the protocol, but you didn&#39;t need to know anything about the plumbing.</p><p>Fielding, <a href="http://roy.gbiv.com/untangled/2008/paper-tigers-and-hidden-dragons" rel="nofollow noreferrer">writing in 2008</a></p><blockquote><p>I should also note that the above is not yet fully RESTful, at least how I use the term. All I have done is described the service interfaces, which is no more than any RPC. In order to make it RESTful, I would need to add hypertext to introduce and define the service, describe how to perform the mapping using forms and/or link templates, and provide code to combine the visualizations in useful ways. I could even go further and define these relationships as a standard, much like Atom has standardized a normal set of HTTP relationships with expected semantics....</p></blockquote><p>In other words, it&#39;s not just about the endpoint, but also the journey to find it.</p><blockquote><p>Does this way of doing things (resources with &#34;methods&#34; as well as data, sort of like OOP in API form) count as RESTful?</p></blockquote><p>So using the specific example of this API, I would argue that no, it doesn&#39;t count as RESTful.  The fact that the response is application/json, a media type that does not define a standard for links, is a big warning sign.  Furthermore, it appears that all of the information about the message-body to send to the host is described <em>out of band</em>, rather than within the exchanged representations.</p><blockquote><p>And, even if not, are any of the purported advantages of REST lost in APIs which follow this sort of design?</p></blockquote><p>The primary thing that&#39;s lost is the ability to change the resource identifiers and methods used by the uniform interface.  For instance, in HTML we can switch a form from GET to POST (or vice versa) simply by making the appropriate change in the representation; we can trivially switch to a different URI namespace because the client is just following the link as represented in the hypermedia.</p><p>For example, the <a href="https://archive.org/web/" rel="nofollow noreferrer">Wayback Machine</a> <em>works</em>; a spider can crawl the safe endpoints in your API (and know which ones are <a href="https://www.rfc-editor.org/rfc/rfc7231#section-4.2.1" rel="nofollow noreferrer">safe</a> to crawl just by looking at the representations of the links), gather up the data, <em>replace all of the resource identifiers</em> and make the results available.  The client can follow the links in the wayback machine just as easily as it can those in the original API, once provided with the correct starting point.</p><blockquote><p>one could very easily change it to POST /servers/{server_id}/actions/reboot/invocations,although it feels like a bit of a cheat.</p></blockquote><p>REST doesn&#39;t care what spelling you use for your identifiers.  They are opaque; any meaning encoded into them is done so at the discretion of the server and for its own exclusive use.</p><p>As far as REST is concerned, the following request line is entirely consistent with a resource that reboots a server</p><pre><code>POST /5dc2a243-f00b-40df-84b2-dbed81d73331 HTTP/1.1
</code></pre><blockquote><p>if this sort of pattern was repeated throughout the API, then this would make it RESTful</p></blockquote><p>Yes</p><blockquote><p>even if there are endpoints which look like they are describing verbs or processes or actions rather than nouns/things/resources</p></blockquote><p>Yes.</p><p>URI design is a completely different concern from REST.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-why-is-a-small-fixed-vocabulary-seen-as-an-advantage-to-restful-services/'>Rest &#8211; Why is a small fixed vocabulary seen as an advantage to RESTful services</a></li><li class="list-group-item"><a href='../rest-api-concepts/'>REST API concepts</a></li><li class="list-group-item"><a href='../rest-how-does-a-rest-api-fit-for-a-command-action-based-domain/'>Rest &#8211; How does a REST API fit for a command/action based domain</a></li><li class="list-group-item"><a href='../rest-design-for-complicated-actions-that-affect-more-then-one-resource/'>REST design for &#8220;complicated&#8221; actions that affect more then one resource</a></li><li class="list-group-item"><a href='../java-rest-api-check-if-action-is-allowed-for-entity/'>Java &#8211; REST Api &#8211; Check if Action is allowed for entity</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>