<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; Fastest way to find all numbers with digits &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083999 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083999" class="post-1083999 software type-software status-publish hentry category-software tag-algorithms tag-c tag-python"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; Fastest way to find all numbers with digits</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">algorithms</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">python</span></p><div class="entry-content"><p>I have a huge set of over a million numbers of variable lengths.</p><pre><code>[&#39;773&#39;, &#39;2267&#39;, &#39;8957251&#39;, &#39;170597519&#39;, &#39;373590109&#39;, &#39;982451707&#39;, &#39;999999937&#39;, ......]
</code></pre><p>Now given a bunch of digits, say 3 and 7, I intend to create a subset of all numbers which contain those digits. That is:</p><pre><code>[&#39;773&#39;, &#39;373590109&#39;, &#39;999999937&#39;, ......]
</code></pre><p>This kind of lookup happens multiple times for different digits. Thus iterating over the entire list each time is not an option.</p><p>I am considering creating 10 subsets, one for each digit, on program startup. Each set will contain all numbers containing that digit. I then plan to use set intersection on each lookup. What do think of this method? Is there a better way which would achieve faster results?</p><p>I am implementing this in C++. But I am open to do the same in Python if there is an easier way available.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Lets take a step back for a moment and try to understand why you want to do this.  You want to be able to perform a lookup for the existence of a value in a list of millions of numbers?  Do you need to do this many times or just once?</p><p>The reason I ask is because if it is just once, the most efficient way is simply to load the numbers into memory perform a single pass for the existence of that number in the array.  Threads would make this even more efficient, breaking the work into smaller pieces.  If the array were too large for this, you could load it one chunk at a time, though I assume if you&#39;re potentially duplicating numbers in 10 different arrays, one per digit, memory is not an issue here.</p><p>If you need to perform repeated lookups, may I recommend using a <a href="https://en.wikipedia.org/wiki/Trie" rel="noreferrer">trie</a>.  You create 9 bins containing the first digit to search for.  That child then has 10 bins containing the the second digit to search for.  Repeat as often as you wish.  With respect to the 10 arrays approach that you mentioned, this would most certainly occupy <em>less</em> memory (the non-leaf nodes in the tree represent multiple numbers, not just one).</p><p>The reason why your approach might be potentially inefficient is because the chance of a number containing a digit increase significantly with each additional digit.  With a 10 digit number, the chance of a particular digit not showing up is roughly (9/10)^10 or 34%.  That means there&#39;s a 66% chance that a 10 digit number will show up in a given set, which roughly means we&#39;re talking about a 66% duplication of data.  Smaller numbers might be more favorable, but even a 3 digit number has a 27% duplication rate.</p><p>Even if memory were not an issue, the replication of numbers is making your lookup algorithm less efficient.</p><p>Therefore my recommendation is to use a Trie for lookups.  Though to answer your question, to get a list of all numbers containing a specific digit, your approach is best.  Though unless I can&#39;t see the tree from the forest, this approach is probably not what you want to achieve.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-efficient-way-to-find-unique-elements-in-a-vector-compared-against-multiple-vectors/'>C++ &#8211; Efficient way to find unique elements in a vector compared against multiple vectors</a></li><li class="list-group-item"><a href='../python-fastest-way-to-find-the-closest-point/'>Python &#8211; Fastest way to find the closest point</a></li><li class="list-group-item"><a href='../find-all-lines-segments-intersections/'>Find all lines segments intersections</a></li><li class="list-group-item"><a href='../you-are-given-a-file-which-contains-all-possible-numbers-on-a-32-bit-architecture-4-numbers-are-missing-from-that-file-find-the-4-missing-numbers/'>You are given a file which contains all possible numbers on a 32-bit architecture. 4 numbers are missing from that file. Find the 4 missing numbers</a></li><li class="list-group-item"><a href='../fastest-algorithm-of-dividing-array-into-positive-and-negative-numbers/'>Fastest algorithm of dividing array into positive and negative numbers</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>