<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Two way Communication between Server and Clients &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064769 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064769" class="post-1064769 software type-software status-publish hentry category-software tag-asp-net tag-c tag-http tag-https tag-websockets"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Two way Communication between Server and Clients</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">asp.net</span><span class="mr-2 badge badge-info">c</span><span class="mr-2 badge badge-warning">http</span><span class="mr-2 badge badge-primary">https</span><span class="mr-2 badge badge-danger">websockets</span></p><div class="entry-content"><p><strong>Situation:</strong> We have a web application running on a server. This application needs to fetch data from some other PC(Clients), which are on a different network.</p><p>On the clients&#39; pc there are WCF hosted in Windows Services using its their local Sql db. i want to make duplex communication between server and clients for share data with each other. data share mean share data-table,data-set,string etc between clients and server .</p><p><strong>Problem :</strong></p><p><strong>1)</strong> I have no control over the firewall, proxy, NAT on the client side PC. Mostly company Employee PCs have lots of network security e.g firewall block ICMP traffic and some port too, some Router might be Disabled port-forwarding etc etc , client can change network place. I don&#39;t want to make any setting on client side Router,proxy,firewall though . during communication how can i handle that&#39;s kind of issue of client side? as you know skype is working perfect in that situation.</p><p>firewalls very often block inbound connections to clients; the client may not be reachable from the server, it may be using NAT translation behind a router and so cannot be contacted without port forwarding being set up on the router and some new router disabled port forwarding .</p><p><strong>2)</strong> On clients side there is no IIS .</p><p>I don&#39;t want to allow remote access on clients PC.</p><p>There are more than 100 Clients and only one Server. one server need communicate with many clients on different network .</p><p><strong>3)</strong> One side my client application is using window application and wcf hosted in window service ,Other side on my server i&#39;m using Web application . so its mean communication is between desktop pc and web pc , that&#39;s issue .</p><p>If both using a web application then it was not issue to make duplex communication.because i know WEBRTC is fit there lol.</p><p><strong>Technology which i had already test and find issue</strong></p><p><strong>WSDualHttpBinding:</strong> Not work if client behind NAT.</p><p><strong>MSMQ :</strong> its bad technique if clients more than 1 and performance issue also because its use RAM memory .</p><p><strong>Xsocket:</strong> Its also not work if ICMP traffic block by firewall on client.</p><p><strong>WebRTC:</strong> Its work fine but its support web to web communication .as my client side i have win app.</p><p><strong>Socket.io:</strong> Its need to set up node.js and many other thing , hard to implement because i need implement on existence application , i am not making new application.</p><p><strong>C# Socket Program:</strong> Its not work if client and sever on different network .</p><p><strong>Service Bus relay:</strong> Its not free even for testing .</p><p><strong>socketPro:</strong> I studied i find its good but i can&#39;t find any right sample on google .so that i could test that.</p><p><strong>Genuine Channels:</strong> I can&#39;t find any sample on google .</p><p><strong>Lets see SignalR issue which i get.:</strong> Server side i run a console application and Client side i run two application ,one is console and other web. when i was running console client application than it was not initiating connection with Server but when i was using web client application then it was working fine. I can&#39;t understand why thas??</p><p>Please tell me What is best most secure and fast way to handle this situation? what approach should i use ?</p><p>Thanks Advance .</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>This can be done using a WCF CallBack contract.</p><p>If the client can make a connection to the server, the server can use a WCF service with a <code>callback</code> construction. This describes that the server expects the client to implement a service as well (the callback service), as part of the service contract.</p><p>This beaks down as follows:</p><ol><li><p>The server hosts a WCF service.</p></li><li><p>The service contract has a CallBackContract attribute:</p><p><code>[ServiceContract(CallbackContract = typeof(IMyServiceCallback))]</code></p></li><li><p>Clients that want to use this service, must implement the desired callback contract (service) to be able to communicate with the server.</p></li><li><p>When a client connect with the server side service, the reverse / callback connection will be made over the same connection.</p></li></ol><p>Using callbacks is done over the same connection (that has already been opened). This requires a two-way communication channel (for example <code>http</code>).</p><p>See <a href="http://adamprescott.net/2012/08/15/a-simple-wcf-service-callback-example/" rel="nofollow noreferrer">http://adamprescott.net/2012/08/15/a-simple-wcf-service-callback-example/</a> for an example how to implement this.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../socket-connection-to-external-ip-through-server/'>Socket connection to external IP through server</a></li><li class="list-group-item"><a href='../c-clients-connect-to-wcf-or-sql-server/'>C# &#8211; Clients connect to WCF or SQL Server</a></li><li class="list-group-item"><a href='../java-any-disadvantage-to-using-websockets-for-non-web-client-apps/'>Java &#8211; Any disadvantage to using websockets for non-web client apps</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>