<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Options for client-side encryption of local web databases &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071587 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071587" class="post-1071587 software type-software status-publish hentry category-software tag-client-side tag-encryption tag-mobile tag-web-applications"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Options for client-side encryption of local web databases</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">client-side</span><span class="mr-2 badge badge-info">encryption</span><span class="mr-2 badge badge-warning">mobile</span><span class="mr-2 badge badge-primary">web-applications</span></p><div class="entry-content"><p>My scenario is as follows:</p><ul><li>Web application, run from the browser, designed for mobile devices.</li><li>Uses <a href="http://www.w3.org/TR/webdatabase/" rel="nofollow noreferrer">WebSQL</a> storage which may contain sensitive<br /> data.</li><li>Uses <a href="http://www.w3.org/TR/offline-webapps/#offline" rel="nofollow noreferrer">Application Cache</a> to enable offline use where there is no connectivity.</li><li><p>Can connect to an API where even more sensitive data can be downloaded. Authentication is handled with BASIC Authentication, and unencrypted data is transferred over the wire, as the application shall access the API in the following environments/scenarios:</p><ul><li>On a private, secured, local Wi-Fi network.</li><li>Over the public internet, over a VPN connection.</li><li>Over the public internet, through a HTTPS connection.</li></ul></li></ul><p>So far, based on my limited knowledge, the security of sensitive data transferred over the wire is covered. However, the data &#39;at-rest&#39; in the local WebSQL storage, and formatted in the HTML pages of the web application, is not secure.</p><p>The current concern is if a mobile device contains sensitive data, and it is lost or stolen, how to minimise the risk of the sensitive data being accessed.</p><p>As the application needs to be usable without interaction with the server, any software-based encryption would be contained on the client itself. This means that, presumably, attempting to encrypt the WebSQL database will be pointless as if a skilled intruder can bypass the hardware encryption, they can presumably determine the encryption/decryption logic as well?</p><p>The proposed solution for encryption of data at rest, is to use the built-in hardware encryption that is part of <a href="http://images.apple.com/iphone/business/docs/iOS_Security_Feb14.pdf" rel="nofollow noreferrer">iOS</a> and <a href="http://source.android.com/devices/tech/security/" rel="nofollow noreferrer">Android</a> devices, requiring users to enter a password at the lock screen. There are related &#39;remote wipe&#39; features as well that could be used.</p><p><strong>Q: How &#39;secure&#39; is the proposed solution? If the built-in hardware encryption is not enough, what are the best strategies for implementing client-side encryption of WebSQL data without need of interaction with a server?</strong></p><p>Is the implementation of a software-based, data encryption/decryption solution, only going to give a marginal security benefit, as the encryption/decryption code can be accessed and reverse engineered? Is it just me, or is the main benefit of that merely marketing purposes, i.e. being able to &#39;say&#39; that it is encrypted?</p><p>Interesting links:</p><p><a href="https://security.stackexchange.com/questions/10529/are-there-actually-any-advantages-to-android-full-disk-encryption">https://security.stackexchange.com/questions/10529/are-there-actually-any-advantages-to-android-full-disk-encryption</a></p><p>Also&#8230;</p><blockquote><p>Underlying storage mechanisms may vary from one user agent to the<br /> next. In other words, any authentication your application requires can<br /> be bypassed by a user with local privileges to the machine on which<br /> the data is stored. Therefore, it&#39;s recommended not to store any<br /> sensitive information in local storage.</p><p><a href="https://www.owasp.org/index.php/HTML5_Security_Cheat_Sheet#Client-side_databases" rel="nofollow noreferrer">https://www.owasp.org/index.php/HTML5_Security_Cheat_Sheet#Client-side_databases</a></p></blockquote><p>Does this mean the only secure option is to produce a hybrid application? E.g. using Phonegap. Is this a great deal more secure, could it just be reverse engineered to view the JavaScript that encrypts/decrypts in the same way anyway?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I have worked in the past on medical applications running on portable devices that need to communicate with a central server, but need to also work when no network connection is present.</p><p>The first thing to do is to do a proper security analysis.  What are the risks to data, and how are you managing to protect the data against those risks. e.g.</p><ol><li>Sensitive data transfer of TCP network to the server.</li><li>Storage of sensitive data on the device</li><li>Identification of user on the device</li><li>Identification of device to the server</li><li>access to sensitive data on the device by an identified user.</li></ol><p>What is appropriate will vary with the nature of the sensitive data, and the product involved, but to give you a guide, here were the answers for that medical product...</p><ol><li><p>Data over the network was encrypted by AES-256, and where ever possible we used a private APN network which connected to the server data centre via a private leased line.</p></li><li><p>On the device we stored sensitive medical information encrypted by AES-256 but without any patient identifiers.  Encryption key was device specific so data files could not be accessed by copying data to a different device.</p></li><li><p>Access to the software one the device was controlled by a 3 digit pin number.  This was probably the weakest aspect, as patients then typically chose simple pins (e.g. 123 or 147)</p></li><li><p>Each device identified itself with a client certificate to the server, and then had to supply additional hardware provided identifiers to the server to validate the device matched the servers expectations.  Only the server knew the identity of the patient that used that device, and server identification was all about confirming whether the device was authorised to connect to the server, and which device it was.</p></li><li><p>In our case, having access to past historic measurements was important to the patients, so patients could view their historic measurements if the device had successfully authenticated with the server in the past 24 hours, and its last successful socket connection had resulted in the device being authenticated.</p></li></ol></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../html5-localstorage-and-encrypted-sensitive-data/'>HTML5 localStorage and encrypted sensitive data</a></li><li class="list-group-item"><a href='../how-to-access-databases-from-a-mobile-device-securely/'>How to access databases from a mobile device securely</a></li><li class="list-group-item"><a href='../is-this-simple-xor-encrypted-communication-absolutely-secure/'>Is this simple XOR encrypted communication absolutely secure</a></li><li class="list-group-item"><a href='../how-to-implement-simple-secure-client-side-encryption/'>How to implement simple secure client side encryption</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>