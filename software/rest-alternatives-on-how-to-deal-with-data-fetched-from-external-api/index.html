<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; Alternatives on how to deal with data fetched from external API &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1081615 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1081615" class="post-1081615 software type-software status-publish hentry category-software tag-api tag-enterprise-architecture tag-rest tag-web-applications"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; Alternatives on how to deal with data fetched from external API</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">enterprise-architecture</span><span class="mr-2 badge badge-warning">rest</span><span class="mr-2 badge badge-primary">web-applications</span></p><div class="entry-content"><p>We are planning to build a web application which will consume data from an internal REST API that centralizes all of our &#34;core&#34; business data. For matter of demonstration, let&#39;s say this API exposes data for a very large Products database. So an example of our web application using the API would be:</p><p>A View that lists all products and the user can add products to his &#34;wish list&#34;. (Very silly example)</p><p>Now, the difficulty is: each time we would have to know about a user products, we would need to send a request to the API to get the products names and other data, since we would only save its Id internally. This is okay in this simple example, but there will be cases much more complex than this (Reports, for instance) and it just seems very wrong to always fetch data from the API. So we came up with several approaches:</p><p><strong>1</strong> &#8211; Fetch the products from the API on views that create records and save then internally in our database. The other areas that uses the products, would query it from our Database not from the API.</p><p><strong>2</strong> &#8211; Some sort of caching strategy. But where? Who would be the responsible for the caching? The API or the client? If so, what strategies would better suit this case?</p><p><strong>Case 1</strong> sounds like an plausible solution but it would create a problem of synchronization. We would need to check often to see if changes were made (its name, for instance).</p><p><strong>Case 2</strong> sounds like a good one but I personally never have seen a similar architecture before nor had implemented one.</p><p>Another thing that came up was, If we only save the Id&#39;s in our local db, then when we need to &#34;build&#34; the view with all the data, we would need to query our local db getting all the ids of the user products, send a request to the API to get the products. The problem? The API doesn&#39;t know about the relationship between user -&gt; products so we would need to query all products and somehow merge the data in our side.</p><p>Any kind of advice, shared experience or basically any input would be much appreciated.</p><p><strong>PS1:</strong> Both the API and the Web app are written in C#.</p><p><strong>PS2</strong>: When I said &#34;Internal API&#34; in the question, I meant that it is an API designed by our team. The external in the title means that the API will be separated from our web app, acting like an external resource.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>If I&#39;m following correctly you are considering using an API that only provides a dumb interface into your data, ie you can&#39;t query through the API you can only request all the data in one go.</p><p>So if you want to look up the Product for one user you have to fetch all, lets say, 20 million products and on the client side filter through them for the ones that belong to the user and then only display them.</p><p>If that is the case then yeah that is going to suck.</p><p>The best solution is to ask the API team to change the API so it can be queried so you can ask it for specific resources not just all or nothing.</p><p>If that isn&#39;t possible then try and get them to put a cache in front of the API call so at least it is fast.</p><p>If you can&#39;t do that then another alternative is to use something like memcache on your end to save each dump of the data. You can control when you invalidate this cache (say every minute or so).</p><p>Ultimately though if the data API isn&#39;t querable you are going to have a hard time with what ever solution you come up with, so if you can press that team to make the API better</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../internal-and-external-api-architecture/'>Internal and external API architecture</a></li><li class="list-group-item"><a href='../php-how-to-deal-with-a-slow-api-in-php/'>Php &#8211; How to deal with a slow API in PHP</a></li><li class="list-group-item"><a href='../php-how-to-consume-external-restful-api-with-symfony/'>Php &#8211; How to consume external RESTful API with Symfony</a></li><li class="list-group-item"><a href='../architecture-keep-data-in-sync-with-3rd-party-api/'>Architecture &#8211; Keep data in sync with 3rd party api</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>