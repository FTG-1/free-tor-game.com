<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Best practice to extend Model in View Model &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1067905 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1067905" class="post-1067905 software type-software status-publish hentry category-software tag-c tag-mvvm tag-wpf"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Best practice to extend Model in View Model</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">mvvm</span><span class="mr-2 badge badge-warning">wpf</span></p><div class="entry-content"><p>I&#39;m facing an issue where I have a Model which I want to implement a GUI for. As I&#39;m exploring MVVM and WPF I will of course use a View Model between the View and Model. I will also have a need to add coordinates to some model classes that represents objects that will be drag able in the GUI. At this time, this is the only addition to these particular model classes that I need. At least at this moment. At the same time almost all, if not all, information contained in the model objects is of interest to the view.</p><p>The most important model classes are:</p><ul><li>Table</li><li>Columns</li><li><p>Dependencies</p></li><li><p>Tables know of its columns.</p></li><li>Columns know which Table they belongs to.</li><li>Columns know 1..* Dependencies</li><li>Dependencies know 1..* column it represents a dependency to.</li></ul><p>It would of course be possible to modify how these objects know of each other, if needed.</p><p>The real question here though, is; How do I make the model classes available to the View, when at the same time adding coordinates to Tables, Columns and Dependencies?</p><p>One way might be to create something like this:</p><pre><code>public class TableViewModel
{
    public Model.Table ModelTable { get; private set; }
    public List&lt;ColumnViewModel&gt; Columns { get; set; }
    public float X { get; set; }
    public float Y { get; set; }
}
</code></pre><p>Is this a preferred way to forward an &#34;extended&#34; Model object to the View or are there patterns specifically engineered for this task?</p><p>Would regular inheritance between the objects in Model and View Model work? I&#39;m not sure though, I like the coupling that would cause.</p><p>Or should I create View Model classes that are tailored to fit the View and then map properties from the Model object to the View Model object? This would completely remove the coupling between View and Model, but create two objects in memory, and in this case these might be very big models. Will the garbage collector drop the model objects since there will be no more references to them after they have been mapped to the view model?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>The real question here though, is; How do I make the model classes available to the View, when at the same time adding coordinates to Tables, Columns and Dependencies?</p></blockquote><p>Your example ViewModel should do just fine.  Another way that I&#39;ve seen it accomplished is with a <code>BaseViewModel&lt;T&gt;</code> class that all ViewModels inherit from and takes the type of model and then exposes that as <code>T Model { get; }</code></p><blockquote><p>Is this a preferred way to forward an &#34;extended&#34; Model object to the View or are there patterns specifically engineered for this task?</p></blockquote><p>The ViewModel has the responsibility of getting whatever models/data and keeping and modifying whatever UI state the View needs.  Your example ViewModel seems to fit this responsibilty.  However, I would only use a ViewModel class within a ViewModel if I&#39;m also presenting the a &#34;sub view&#34; that goes along with that ViewModel.  For instance, I would only use <code>List&lt;ColumnViewModel&gt;</code> if I was going to be looping through them and dynamically adding or including a control that&#39;s tied to the ColumnViewModel.</p><blockquote><p>Would regular inheritance between the objects in Model and View Model work?</p></blockquote><p>Although it could work, I think inheriting your ViewModel from the Model would be confusing.  Plus, what if your Model is really a list of Model objects?  Inheritance would be trickier in that case because you would need to make your base class a <code>List&lt;Model&gt;</code> and you would be exposing a bunch of unncessary methods to the View.  I think wrapping is a better alternative.</p><blockquote><p>Or should I create View Model classes that is tailored to fit the View and then map properties from the Model object to the View Model object?</p></blockquote><p>ViewModels are generally tailored to fit the specific needs of a View.  I tend to think of ViewModels as the code-behind for the view.  The mapping of the model properties is generally done through the binding in the WPF View.</p><blockquote><p>Will the garbage collector drop the model objects since there will be no more references to them after they have been mapped to the view model?</p></blockquote><p>This all depends on your context, any references held by the objects in question and a variety of other factors.  Generally, your view model should have the same life-time as your view and that includes the data.  However, if there are specific performance concerns, you can always manually clear out the Model once it&#39;s been loaded.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-mvvm-reporting-app-approach-data-access-layer/'>C# &#8211; MVVM Reporting App Approach ? Data Access Layer</a></li><li class="list-group-item"><a href='../c-mvvm-with-di-view-model-location-and-shared-service-data/'>C# &#8211; MVVM with DI, view model location and shared service data</a></li><li class="list-group-item"><a href='../c-when-using-mvvm-is-it-okay-to-use-property-injection-on-a-view-model-in-wpf/'>C# &#8211; When using MVVM, is it okay to use property injection on a view model in WPF</a></li><li class="list-group-item"><a href='../architecture-duplicating-domain-model-in-view-model-or-not/'>Architecture &#8211; Duplicating Domain Model in View Model or not</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>