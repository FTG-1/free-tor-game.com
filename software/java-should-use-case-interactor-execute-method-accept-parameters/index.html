<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Should use case/interactor `execute` method accept parameters &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073804 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073804" class="post-1073804 software type-software status-publish hentry category-software tag-architecture tag-java"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Should use case/interactor `execute` method accept parameters</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">java</span></p><div class="entry-content"><p>In most examples of <em>clean architecture</em> (Android projects mostly, though) I&#39;ve noticed that the use-case/interactor classes (units that encapsulate a feature) often share base class/interface, like <a href="https://github.com/android10/Android-CleanArchitecture/blob/master/domain/src/main/java/com/fernandocejas/android10/sample/domain/interactor/UseCase.java">here</a> or <a href="https://github.com/ppicas/android-clean-architecture-mvp/blob/master/core/src/main/java/cat/ppicas/framework/task/Task.java">here</a>. Others do not (<a href="https://github.com/mcharmas/shoppinglist-clean-architecture-example/blob/master/domain/src/main/java/pl/charmas/shoppinglist/domain/usecase/UseCase.java">like here</a> or <a href="https://github.com/glomadrian/MvpCleanArchitecture/tree/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor">here</a>), instead allowing interactors to accept some parameters that are then used to execute some logic.</p><p>Is either of these approach better than the other? I&#39;m particularly interested in how parameterless approach handles use cases for something that requires user input for example &#8211; say we want to let user edit an entity and pass it to the server. We could inject the same entity into use case and whomever invokes it, but then it would have to be mutable, so that changes are reflected in both places. But then we can&#39;t create immutable models, which we may not want (because of threading issues etc). How to handle such case?</p><p>Pardon me if I use the terms usecase/interactor incorrectly, but this is how they&#39;re used in Android land, which admittedly may be a bit behind on design patterns</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Let me reiterate what you&#39;re saying to be sure we&#39;re on the same page.</p><blockquote><p>In clean architecture</p></blockquote><p><a href="../../../i.stack.imgur.com/99wez.jpg" rel="noreferrer"><img src="../../../i.stack.imgur.com/99wez.jpg" alt="enter image description here"/></a></p><h1>Case A</h1><blockquote><p>use-case/interactor classes often share base class/interface, like <a href="https://github.com/android10/Android-CleanArchitecture/blob/master/domain/src/main/java/com/fernandocejas/android10/sample/domain/interactor/UseCase.java" rel="noreferrer">here</a></p></blockquote><pre><code>  public abstract class UseCase {

  private final ThreadExecutor threadExecutor;
  private final PostExecutionThread postExecutionThread;

  private Subscription subscription = Subscriptions.empty();

  protected UseCase(ThreadExecutor threadExecutor,
      PostExecutionThread postExecutionThread) {
    this.threadExecutor = threadExecutor;
    this.postExecutionThread = postExecutionThread;
  }

  /**
   * Builds an {@link rx.Observable} which will be used when executing the current {@link UseCase}.
   */
  protected abstract Observable buildUseCaseObservable();

  /**
   * Executes the current use case.
   *
   * @param UseCaseSubscriber The guy who will be listen to the observable build
   * with {@link #buildUseCaseObservable()}.
   */
  @SuppressWarnings(&#34;unchecked&#34;)
  public void execute(Subscriber UseCaseSubscriber) {
    this.subscription = this.buildUseCaseObservable()
        .subscribeOn(Schedulers.from(threadExecutor))
        .observeOn(postExecutionThread.getScheduler())
        .subscribe(UseCaseSubscriber);
  }

  /**
   * Unsubscribes from current {@link rx.Subscription}.
   */
  public void unsubscribe() {
    if (!subscription.isUnsubscribed()) {
      subscription.unsubscribe();
    }
  }
}
</code></pre><blockquote><p>and <a href="https://github.com/ppicas/android-clean-architecture-mvp/blob/master/core/src/main/java/cat/ppicas/framework/task/Task.java" rel="noreferrer">here</a></p></blockquote><pre><code>package cat.ppicas.framework.task;

public interface Task&lt;R, E extends Exception&gt; {

    TaskResult&lt;R, E&gt; execute();

}
</code></pre><h1>Case B</h1><blockquote><p>Others do not, and instead allow interactors to accept some parameters that are then used to execute some logic.</p><p>like <a href="https://github.com/mcharmas/shoppinglist-clean-architecture-example/blob/master/domain/src/main/java/pl/charmas/shoppinglist/domain/usecase/UseCase.java" rel="noreferrer">here</a></p></blockquote><pre><code>package pl.charmas.shoppinglist.domain.usecase;

public interface UseCase&lt;Result, Argument&gt; {
  Result execute(Argument arg) throws Exception;
}
</code></pre><blockquote><p>or <a href="https://github.com/glomadrian/MvpCleanArchitecture/tree/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor" rel="noreferrer">here</a></p><blockquote><p><a href="https://github.com/glomadrian/MvpCleanArchitecture/blob/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor/AbstractInteractor.java" rel="noreferrer">AbstractInteractor.java</a><br/> <a href="https://github.com/glomadrian/MvpCleanArchitecture/blob/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor/GetMarvelCharactersLimit.java" rel="noreferrer">GetMarvelCharactersLimit.java</a><br/> <a href="https://github.com/glomadrian/MvpCleanArchitecture/blob/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor/GetMarvelCharactersLimitImp.java" rel="noreferrer">GetMarvelCharactersLimitImp.java</a><br/> <a href="https://github.com/glomadrian/MvpCleanArchitecture/blob/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor/GetMarvelCharactersPaginated.java" rel="noreferrer">GetMarvelCharactersPaginated.java</a><br/> <a href="https://github.com/glomadrian/MvpCleanArchitecture/blob/master/app/src/main/java/com/github/glomadrian/mvpcleanarchitecture/domain/interactor/GetMarvelCharactersPaginatedImp.java" rel="noreferrer">GetMarvelCharactersPaginatedImp.java</a></p></blockquote></blockquote><h1>Stop</h1><p>They&#39;re both right.</p><p>Sharing an interface or base class is part of inheritance.</p><p>Accepting parameters so you can execute logic through them is part of composition.</p><blockquote><p>Is either of these approach better than the other?</p></blockquote><p>Both are better at what they&#39;re good at.  Though a popular design principle states, <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance" rel="noreferrer">&#34;favor composition over inheritance&#34;</a>.</p><p>If I&#39;m understanding, you&#39;re seeing how composition and inheritance can both allow for polymorphism and now that you&#39;ve seen it, you&#39;re struggling to choose between them.  Saying this in pattern language: you can use the template pattern or the strategy pattern to get polymorphism.</p><p>Inheritance gives you polymorphism on it&#39;s own. Thus, less typing at the keyboard.  Composition requires that you add delegation to expose and connect the interface to the parameter.  That means more typing.  But composition is not statically bound so it&#39;s very flexible and testable.</p><blockquote><p>Should use case/interactor <code>execute</code> method accept parameters?</p></blockquote><p>Remember that this method <code>x.y()</code> and this function <code>y(x)</code> are essentially the same.  An <code>execute()</code> <em>method</em> is always getting at least one parameter.</p><blockquote><p>I&#39;m particularly interested in how parameterless approach handles use cases for something that requires user input for example - say we want to let user edit an entity and pass it to the server. We could inject the same entity into use case and whomever invokes it, but then it would have to be mutable, so that changes are reflected in both places. But then we can&#39;t create immutable models, which we may not want (because of threading issues etc). How to handle such case?</p></blockquote><p>Well, now we&#39;re talking about entities, not use cases, nor polymorphism.</p><p>An entity has an ID.  It&#39;s very good to make an entity immutable.  Why do you want a user editing something immutable?  Why do you want it&#39;s information existing in two places?  If it does, which place knows best?</p><p>No, better to let the user build something new.  If it must have an ID then it gets a new unique ID.  If not, it&#39;s a value object.  If there is something else with a preexisting ID that this information must be associated with then build a new association.  Don&#39;t go poking around in immutable entities.</p><p>It&#39;s entirely possible to model a changing world without ever updating your entities, so long as you have the space to keep creating things that represent what&#39;s new.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../architecture-clean-architecture-use-case-containing-the-presenter-or-returning-data/'>Architecture &#8211; Clean Architecture: Use case containing the presenter or returning data</a></li><li class="list-group-item"><a href='../java-should-business-logic-be-in-the-app-or-in-the-backend/'>Java &#8211; Should business logic be in the app or in the backend</a></li><li class="list-group-item"><a href='../architecture-what-kind-of-logic-can-domain-objects-realistically-contain/'>Architecture &#8211; What kind of logic can Domain Objects realistically contain</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>