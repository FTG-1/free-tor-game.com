<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Mvc pattern &#8211; splitting model into data-access and business logic layers &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1065057 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1065057" class="post-1065057 software type-software status-publish hentry category-software tag-mvc"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Mvc pattern &#8211; splitting model into data-access and business logic layers</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">mvc</span></p><div class="entry-content"><p>I&#39;ve had a chance to try it out and I like it very much. I&#39;m thinking of using it in all of my future projects. I&#39;d like to hear some critique and opinions about it. I&#39;ve done a little research on the subject and I&#39;m not sure I&#39;ve seen this approach around, but I&#39;m pretty sure that it must have been tried by some more experienced people and I&#39;d like to avoid any pitfalls that come with it</p><p>The idea is that model is split into:<br /> 1. db access layer (dal)<br /> 2. business logic layer (bll)</p><ol><li><p>so db access layer contains (ideally) no logic at all other then db access logic &#8211; prepared queries that are supplied with parameters, when called, and which return results from db, if needed (in case of SELECT queries). these classes are not tested (if no logic is inserted into them), since they don&#39;t contain any if/for/while/throw&#8230; commands</p></li><li><p>business logic layer which contains actual logic of the app. controllers do not see dal and only call bll which in turn calls dal when needed. bll needs to be tested (i use unit testing) and since it is kept separate from the db access, when read-only functionality is being tested, db access can be mocked using dependency injection (create mock class alternative for every dal class with all the same methods, load them via the factory method when requested from bll and depending on whether the call came from testing environment or not load either mock or &#39;real&#39; class. of course in case of write functionality (DELETE, INSERT), testing would have to include db calls, so in that case &#39;real&#39; class would be called, rather then mock, but this can still be very useful if system has more read then write db calls</p></li></ol><p>Benefits of this approach:</p><ol><li>code separation &#8211; it keeps your business logic clean of db access code which improves readability, especially in big methods that need to make several calls to db. it makes it easier to maintain code and also allows you to encapsulate db access logic, which can be called from a numer of blls which also makes it easier to maintain</li><li>it makes it easier to switch databases at any point, which is not something that happens often, but if it does happen, it&#39;s not an easy thing to do, everybody who had to do it at some point know what i&#39;m talking about</li><li>when testing bll with mock classes, it makes tests run faster since no calls to db are made. this is not too significant, but can help when you are tweaking some functionality intensively and testing it along the way. at the same time it makes it much easier to test performance of &#39;pure logic&#39; detached from db calls</li></ol><p>drawbacks:</p><ol><li>more cluttering because of adding whole new layer of classes to the system</li><li>slightly lower performance due to the added dependancy injection which takes time to resolve</li><li>while mock classes do nice work, they do have to be created and maintained so there is added bureaucracy to the whole system</li></ol><p>Am I missing anything? Do you prefer system that I described or good ol&#39; fashion 3 layer mvc and why? I&#39;m no guru, I&#39;m still exploring various architectures, but I like this one very much and would love to hear what my more experienced colleagues have to say about it</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>MVC means model-view-controller separation for the client-side, in this case, your site. It has nothing to do with the backend layering.</p><p>Concerning backend layering; I personally like the <strong>onion</strong> approach as described <a href="http://jeffreypalermo.com/blog/the-onion-architecture-part-1/" rel="noreferrer">here</a> and applied <a href="http://ludwigstuyck.wordpress.com/2013/03/05/a-reference-architecture-part-1/" rel="noreferrer">here</a>. The business layer is independent on the data layer implementation or any other technical aspect, as it only knows interfaces.</p><p>So in your controller you use the backend services (note that I&#39;m not saying WCF services - it can be WCF, but doesn&#39;t have to be). You get data back in a specific format (the model) and you then could transform this data into viewmodels which are designed specifically for a view.</p><p>The backend services would then have the various layers that you need to implement the chosen architecture (business layer, data layer etc), but this is independent of your ASP.NET MVC site.</p><p>And don&#39;t avoid using dependency injection for the wrong reasons. It should be the default programming style.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../mvc-the-relationship-between-the-business-logic-layer-and-the-data-access-layer/'>Mvc &#8211;  the relationship between the business logic layer and the data access layer</a></li><li class="list-group-item"><a href='../php-can-rest-api-be-used-as-business-layer/'>Php &#8211; Can REST API be used as business layer</a></li><li class="list-group-item"><a href='../mvc-entirely-separate-business-logic-layer-from-mvc/'>Mvc &#8211; Entirely separate business logic layer from MVC</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>