<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Use a factory class instead of direct object construction &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1062987 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1062987" class="post-1062987 software type-software status-publish hentry category-software tag-constructors tag-design-patterns tag-factory tag-refactoring"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Use a factory class instead of direct object construction</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">constructors</span><span class="mr-2 badge badge-info">design-patterns</span><span class="mr-2 badge badge-warning">factory</span><span class="mr-2 badge badge-primary">refactoring</span></p><div class="entry-content"><p>I have seen the history of several ะก# and Java class library projects on GitHub and CodePlex, and I see a trend of switching to factory classes as opposed to direct object instantiation.</p><p>Why should I use factory classes extensively? I have pretty good library, where objects are created the old-fashioned way &#8211; by invoking public constructors of classes. In the last commits the authors quickly changed all of the public constructors of thousands of classes to internal, and also created one huge factory class with thousands of <code>CreateXXX</code> static methods that just return new objects by calling the internal constructors of the classes. The external project API is broken, well done.</p><p>Why would such a change be useful? What is the point of refactoring in this way? What are the benefits of replacing calls to public class constructors with static factory method calls?</p><p>When should I use public constructors, and when should I use factories?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Factory classes are often implemented because they allow the project to follow the <a href="https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)" rel="noreferrer">SOLID</a> principles more closely.  In particular, the interface segregation and dependency inversion principles.</p><p>Factories and interfaces allow for a lot more long term flexibility.  It allows for a more decoupled - and therefore more testable - design.  Here is a non-exhaustive list of why you might go down this path:</p><ul><li>It allows you to introduce an <a href="https://en.wikipedia.org/wiki/Inversion_of_control" rel="noreferrer">Inversion of Control</a> (IoC) container easily</li><li>It makes your code more testable as you can mock interfaces</li><li>It gives you a lot more flexibility when it comes time to change the application (i.e. you can create new implementations without changing the dependent code)</li></ul><p>Consider this situation.</p><p>Assembly A (-&gt; means depends upon):</p><pre><code>Class A -&gt; Class B
Class A -&gt; Class C
Class B -&gt; Class D
</code></pre><p>I want to move Class B to Assembly B, which is dependent on Assembly A.  With these concrete dependencies I have to move most of my entire class hierarchy across.  If I use interfaces, I can avoid much of the pain.</p><p>Assembly A:</p><pre><code>Class A -&gt; Interface IB
Class A -&gt; Interface IC
Class B -&gt; Interface IB
Class C -&gt; Interface IC
Class B -&gt; Interface ID
Class D -&gt; Interface ID
</code></pre><p>I can now move class B across to assembly B with no pain whatsoever.  It still depends on the interfaces in assembly A.</p><p>Using an IoC container to resolve your dependencies allows you even more flexibility.  There is no need to update each call to the constructor whenever you change the dependencies of the class.</p><p>Following the interface segregation principle and the dependency inversion principle allows us to build highly flexible, decoupled applications.  Once you have worked on one of these types of applications you will never again want to go back to using the <code>new</code>keyword.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-i-should-have-used-a-factory-method-instead-of-a-constructor-can-i-change-that-and-still-be-backwards-compatible/'>C# &#8211; I should have used a factory method instead of a constructor. Can I change that and still be backwards-compatible</a></li><li class="list-group-item"><a href='../object-oriented-using-a-simple-static-factory-vs-instantiating-directly-new-thing-vs-factory-creatething-whats-the-benefit/'>Object-oriented &#8211; Using a Simple/Static Factory vs. instantiating directly: new Thing() vs. factory.createThing() &#8211; what&#8217;s the benefit</a></li><li class="list-group-item"><a href='../c-project-structure-where-to-put-object-factories/'>C# &#8211; Project structure: Where to put object factories</a></li><li class="list-group-item"><a href='../design-are-factories-that-only-return-one-type-of-object-bad/'>Design &#8211; Are factories that only return one type of object bad</a></li><li class="list-group-item"><a href='../java-should-constructors-ever-be-used-only-for-side-effects/'>Java &#8211; Should constructors ever be used only for side-effects</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>