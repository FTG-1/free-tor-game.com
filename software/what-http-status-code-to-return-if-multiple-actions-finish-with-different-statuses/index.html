<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>What HTTP status code to return if multiple actions finish with different statuses &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063699 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063699" class="post-1063699 software type-software status-publish hentry category-software tag-api tag-http"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">What HTTP status code to return if multiple actions finish with different statuses</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">http</span></p><div class="entry-content"><p>I am building an API where the user can ask the server to perform multiple actions in one HTTP request. The result is returned as a JSON array, with one entry per action.</p><p>Each of these actions might fail or succeed independently of each other. For instance, the  first action might succeed, the input to the second action might be poorly formatted and fail to validate and the third action might cause an unexpected error.</p><p>If there was one request per action, I would return status codes 200, 422 and 500 respectively. But now when there is only one request, what status code should I return?</p><p>Some options:</p><ul><li>Always return 200, and give more detailed information in the body.</li><li>Maybe follow the above rule only when there is more than one action in the request?</li><li>Maybe return 200 if all requests succeed, otherwise 500 (or some other code)?</li><li>Just use one request per action, and accept the extra overhead.</li><li>Something completely different?</li></ul></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h2 id="the-short-direct-answer-kzn5">The short, direct answer</h2><p>Since the request speaks of executing the list of <em>tasks</em> (tasks are the resource that we&#39;re speaking of here), then if the task group has been moved forward to execution (that is, regardless of execution result), then it would be sensible that the response status will be <code>200 OK</code>. Otherwise, if there was a problem that would prevent execution of the task group, such as failing validation <em>of the task objects</em>, or some required service isn&#39;t available for example, then the response status should denote that error. Past that, when execution of the tasks commences, seeing as the tasks to perform are listed in the request body, then I would expect that the execution results will be listed in the response body.</p><hr/><h2 id="the-long-philosophical-answer-6rhe">The long, philosophical answer</h2><p>I suspect that you are experiencing this dilemma because you are diverting from what HTTP was designed for. I suspect that you are attempting to use it as means of RMI (Remote Method Invocation) rather than as means to manage resources.</p><p>The RMI perspective is that you would design your URI scheme as you would functions in an application, and upon request, these would execute an action, and then return its result. Although these types of implementations are relatively common still, these often produce situations HTTP is in the way, rather than making things easy.</p><p>(Just to note, RMI through HTTP has its merits in some instances, though you&#39;d still be wise to implement these methods in a non-blocking manner. You could maybe offer <code>startTask</code> and <code>getTaskStatus</code> for instance, both of which would return instantly.)</p><p>The design of HTTP is asking you to use it to manage resources instead. It wants to express things like &#34;add a task&#34; (via POST), &#34;get a task&#34; (via GET), &#34;delete a task&#34; (via DELETE) and so on. Designing our URI scheme in that way, we rarely find ourselves in conflict with what HTTP has to offer.</p><p>To provide an example of what I mean by a URI scheme that conforms to resource management (vs RMI), here&#39;s a layout that might work for your case:</p><ul><li><code>/task?complete=[true/false]&amp;start=[start_timestamp]&amp;end=[end_timestamp] ...</code><ul><li><code>GET</code> searches for tasks according to querystring</li><li><code>POST</code> adds a single task</li></ul></li><li><code>/task/[id]</code><ul><li><code>GET</code> responds with a single task&#39;s state object</li></ul></li><li><code>/task/[id]/cancellation_request</code><ul><li><code>POST</code> adds a cancellation request for the task.</li></ul></li><li><code>/task/[id]/[property_name]</code><ul><li><code>GET</code> returns the value of the property of a task of the specified id</li></ul></li><li><code>/task_group?complete=[true/false]&amp;start=[start_timestamp]&amp;end=[end_timestamp] ...</code><ul><li><code>GET</code> searches for task groups according to querystring</li><li><code>POST</code> adds a group of tasks</li></ul></li><li><code>/task_group/[id]</code><ul><li><code>GET</code> responds with a task group object, which includes a list of task objects of all of the tasks in the group.</li></ul></li></ul><p>... and so on</p><p>As you may have guessed, task execution in this scheme would be an asynchronous thing -- POST to <code>/task</code> would not wait until the task has completed, or even until it actually started running -- It would simply queue it for execution and then respond that it succeeded to add that task, or that it failed, if the queue is full, for instance.</p><p>Note how the URIs have no verbs in them -- They represent resources or collections of resources. The only verbs in this entire scheme are the HTTP methods that are invoked upon these URIs (GET/POST in this case).</p><p>Just to hammer this in a little more, URI stands for &#34;Unified Resource Identifier&#34;.</p><hr/><h3 id="examples-of-how-the-above-uri-scheme-would-be-used-l51k">Examples of how the above URI scheme would be used</h3><p><em>Executing a single task and tracking progress:</em></p><ul><li><code>POST /task</code> with the task to execute</li><li><code>GET /task/[id]</code> until response object <code>complete</code> has positive value while showing current status/progress. You can also implement updates with websocket if you want to avoid polling.</li></ul><p><em>Executing a task group and tracking progress:</em></p><ul><li><code>POST /task_group</code> with the group of tasks to execute</li><li><code>GET /task_group/[groupId]</code> until response object <code>complete</code> property has positive value, showing individual task status (3 tasks completed out of 5, for example)</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../when-to-use-http-status-code-404-in-an-api/'>When to use HTTP status code 404 in an API</a></li><li class="list-group-item"><a href='../rest-do-web-applications-use-http-as-a-transport-layer-or-do-they-count-as-an-integral-part-of-the-http-server/'>Rest &#8211; Do web applications use HTTP as a transport layer, or do they count as an integral part of the HTTP server</a></li><li class="list-group-item"><a href='../should-i-use-http-status-codes-to-describe-application-level-events/'>Should I use HTTP status codes to describe application level events</a></li><li class="list-group-item"><a href='../rest-how-to-correctly-implement-keyvalue-storage-rest-api/'>Rest &#8211; How to correctly implement key=value storage REST API</a></li><li class="list-group-item"><a href='../rest-http-status-code-for-still-processing/'>Rest &#8211; HTTP Status Code for &#8220;Still Processing&#8221;</a></li><li class="list-group-item"><a href='../java-spring4-error-handling-and-http-status-codes-returned-for-rest-services/'>Java &#8211; Spring4 error handling and HTTP status codes returned for REST services</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>