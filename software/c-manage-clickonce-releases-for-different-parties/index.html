<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Manage ClickOnce releases for different parties &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1075305 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1075305" class="post-1075305 software type-software status-publish hentry category-software tag-c tag-deployment tag-release-management"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Manage ClickOnce releases for different parties</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">deployment</span><span class="mr-2 badge badge-warning">release-management</span></p><div class="entry-content"><p>I&#39;m struggling with release management of a piece of software. First some general information:</p><ul><li>It is a <a href="http://en.wikipedia.org/wiki/ClickOnce" rel="nofollow">ClickOnce</a> application</li><li>I follow the release often practice</li><li>There are about 30 parties served with this software</li><li>I need full control which update will be delivered to which party</li><li>Not each party is allowed to get the latest update/release</li><li>Each party has multiple clients that are all allowed to get the latest update, served for the specific party</li></ul><p>So that&#39;s what my requirements are in a rough description. So let me explain what I was thinking about how to solve this.</p><ul><li>I would like to create a &#34;deployment&#34; website (asp.net) that will handle all the requests</li><li>There are two endpoints one for download the client and one where the client checks for updates</li><li>So each party has a separate endpoint like DeploymentSite/party1 and another for DeploymentSite/party2</li><li>The Application Files should still be stored centralized</li></ul><p>So I thought it would be manageable with mage.exe with the following steps</p><ol><li>Build application and store new release into Application Files Repository/Folder</li><li>Get parties that should be updated (config file, database what ever)</li><li>Run mage.exe to create a new application and deployment manifest for each party in the update list with new Application File Location (1.0.2)</li></ol><p>Actually I&#39;m really struggling with this mage.exe staff. I can&#39;t create the appropriate files with the needed codebase.</p><p>How to handle thes requirements?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>What you want is possible, but not quite in the way you mention.</p><p>A published ClickOnce package is controlled by two manifest files - the application manifest called <em>[product name].application</em> housed in the root folder of the published deployment, and the version manifest called <em>[application name].exe.manifest</em>, which of course resides in the codebase folders for the specific versions.</p><p>To to cut a long story short, you can publish as many versions as you like - in fact that is the easy bit - but you will then need a copy of the application manifest for each &#39;party&#39; that you have. You can then update them independently by updating their application manifest, once you have done that any client machine will auto update - this is part of the functionality of ClickOnce (the installed ClickOnce application checks the application manifest for updates every time you run it (or at the period you specify as part of the publish)).</p><p>All you need to do is control which application manifest any particular party originally installs from, you can do this simply by checking their credentials then redirecting them to the appropriate application manifest (which will then launch the install prompt).
You don&#39;t need to be messing round with Mage to achieve this - you can accomplish this using the publish functionality built into Visual Studio - you can publish to a neutral location then copy the generated neutral application manifest over top of the appropriate party specific application manifests.</p><p>Note that party specific application manifests are necessary because ClickOnce is an installation framework, it knows nothing about authentication and authorisation, so you have to take care of that bit. Technically you could house the application manifest files all in the same folder if you name them individually - but this does require a knowledge of Mage and isn&#39;t a simple task. Additionally you could automate some of this with <a href="http://msdn.microsoft.com/en-us/library/dn217874.aspx" rel="nofollow">Release Management</a> and one or two custom tasks.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../git-how-to-maintain-lots-of-different-variations-for-deployment-using-git-for-development/'>Git &#8211; How to maintain lots of different variations for deployment, using Git for development</a></li><li class="list-group-item"><a href='../security-risks-of-unsigned-clickonce-manifests/'>Security Risks of Unsigned ClickOnce Manifests</a></li><li class="list-group-item"><a href='../splitting-application-code-and-docker-deployment-files/'>Splitting application code and docker deployment files</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>