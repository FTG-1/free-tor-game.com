<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>OCaml criticism: is it still valid &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1071907 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1071907" class="post-1071907 software type-software status-publish hentry category-software tag-ocaml"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">OCaml criticism: is it still valid</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">ocaml</span></p><div class="entry-content"><p>I am a complete newbie with OCaml. I have recently stumbled into <a href="http://www.podval.org/~sds/ocaml-sucks.html" rel="noreferrer">this page</a> listing a good amount of criticism towards OCaml.</p><p>Seeing that the page it quite old (2007): which of the bullets points listed there are still true today? For instance: is it still true that it is impossible to print a generic object?</p><p>I want to make it clear that I am not looking for a discussion of the opinions expressed therein. I am asking whether the information listed, such as the fact that integers overflow without warnings, is still correct for more recent versions of OCaml</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>This article is discussed at several places:</p><ul><li><a href="http://caml.inria.fr/pub/ml-archives/caml-list/2008/05/6e74a918c2903f1e11add5714a72e352.en.html" rel="nofollow noreferrer">caml.inria.fr</a></li><li><a href="https://news.ycombinator.com/item?id=112129" rel="nofollow noreferrer">Hacker News</a></li><li><a href="http://www.reddit.com/r/programming/comments/20dh6/ocaml_language_sucks" rel="nofollow noreferrer">Reddit</a></li></ul><p>To summarize: yes, OCaml is not a Lisp, and no, it is not perfect (what does that mean?). I don&#39;t think the points mentioned in the blog post are relevant for day-to-day O&#39;Caml programmers.</p><p>Having studied O&#39;Caml, I think it is an interesting language which can help you build programs you would not even dare write in, say, C/C++/Java: for example, have a look  at <a href="http://frama-c.com/download.html" rel="nofollow noreferrer">Frama-C</a>.</p><p>For an up-to-date description of O&#39;Caml, I encourage you to read about <a href="https://ocaml.org/learn/description.html" rel="nofollow noreferrer">its features</a>: the language promotes strong static type checking techniques which allows implementations to focus on producing performant, yet safe, runtimes.</p><p><strong>Important</strong>: I am no OCaml expert: if you are one of them and see I wrote something horribly wrong, please correct me. I&#39;ll edit this post accordingly.</p><h1>Static type checking</h1><ul><li><p><em>False Sense of Security</em></p><p>This is true, but obvious.</p><p>Static typing gives you proofs you can trust about a subset of your program&#39;s properties. Unless you accept to go all formal, an average (non-toy) program will be subject to programming error bugs which can be witnessed only at runtime.</p><p>That&#39;s when dynamic checking techniques can be applied: the OCaml compiler has flags to generate executables with debugging information, and so on... Or, it can generate code that blindly trust the programmer and erase type information as much as possible. Programmers who wants robust programs should implement dynamic checks explicitly.</p><p>The same thing applies to e.g. Common Lisp, but reversed: dynamic types first, with optional type declarations and compiler directives second.</p></li><li><p><em>Few Basic Types</em></p><p>Still applies: the core language has not changed (or not dramatically).</p></li><li><p><em>Silent Integer Overflow</em></p><p>This is the norm in most languages that integer overflow are checked by hands.
I don&#39;t know of any library that would type-check operations to verify whether  overflow can occur.</p></li><li><p><em>Module Immutability</em></p><ol><li><p>Author mentions Functors but I fail to see how his example cannot be implemented. Reading the <a href="https://realworldocaml.org/v1/en/html/first-class-modules.html" rel="nofollow noreferrer">First Class Modules</a> chapter of <a href="https://realworldocaml.org/" rel="nofollow noreferrer">https://realworldocaml.org</a>, it seems that modules can be used to <em>compose</em> and <em>build</em> new modules. Of course, modifying an existing module requires source code modification, but again, this is not unusual among programming languages.</p></li><li><p>&#34;<em>Semantically</em>, functions are compiled INLINE&#34;</p></li></ol><p>The reddit thread above disagrees, saying that binding are resolved at link time. However, this is an implementation detail and I think that the emphasized <em>Semantically</em> relates to the way functions are resolved. Example:</p><pre><code> let f x y = x + y ;;
 let g a b = f b a ;;
 let f x y = x * y ;;
 exit (g 2 3) ;;
</code></pre><p>The above program compiles, and when executed, returns 5, because <code>g</code> is defined with the first version of <code>f</code>, just <strong>as-if</strong> the calling function <code>g</code> inlined the call to <code>f</code>. This is not &#34;bad&#34;, by the way, it is just consistent with O&#39;Caml&#39;s name shadowing rules.</p><p><strong>To summarize</strong>: yes, modules are <em>immutable</em>. But they are also <em>composable</em>.</p></li><li><p><em>Polymorphism Causes Run-time Type Errors</em></p><p>I can&#39;t reproduce the mentioned error. I suspect it to be a compiler error.</p></li></ul><h1>No Macros</h1><p>Indeed, there are no macros but preprocessors (OcamlP4, OcamlP5, ...).</p><ul><li><p><em>Wrappers (with-open-file)</em></p><p>Knowing how UNWIND-PROTECT can be useful, this is indeed painful to see it absent from more languages. Here are some options:</p><ol><li><a href="https://dutherenverseauborddelatable.wordpress.com/2008/07/02/improving-exception-management-in-ocaml/" rel="nofollow noreferrer">Improving Exception Management In OCaml</a></li><li><a href="http://mjambon.com/extend-ocaml-syntax.html" rel="nofollow noreferrer">Extend OCaml Syntax</a></li></ol></li><li><p><em>Places</em></p><p>I don&#39;t think generalized references exist in OCaml.</p></li></ul><h1>Minor Language Suckiness</h1><ul><li><p><em>Record field naming hell</em></p><p>True, but you should use modules:</p><ol><li><a href="https://stackoverflow.com/questions/8928970/two-fields-of-two-records-have-same-label-in-ocaml">Two fields of two records have same label in OCaml</a></li><li><a href="http://gallium.inria.fr/blog/resolving-field-names/" rel="nofollow noreferrer">Resolving field names</a></li></ol></li><li><p><em>Syntax</em></p><p>Still applies (but really, this is just syntax).</p></li><li><p><em>No Polymorphism</em></p><p>Still applies, but somehow there are people who <em>prefer</em> that instead of Lisp&#39;s numerical tower (I don&#39;t know why). I suppose it helps with type inference.</p></li><li><p><em>Inconsistent function sets</em></p><p>See the <a href="http://batteries.forge.ocamlcore.org/" rel="nofollow noreferrer">OCaml Batteries Included</a> project.
In particular, <a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc/BatArray.html" rel="nofollow noreferrer">BatArray</a>, for an example of <code>map2</code> for arrays.</p></li><li><p><em>No dynamic variables</em></p><p>Can be implemented:</p><ol><li><a href="http://okmij.org/ftp/ML/dynvar.txt" rel="nofollow noreferrer">http://okmij.org/ftp/ML/dynvar.txt</a></li><li><a href="http://okmij.org/ftp/ML/#dynvar" rel="nofollow noreferrer">http://okmij.org/ftp/ML/#dynvar</a></li></ol></li><li><p><em>Optional ~ arguments suck</em></p><p>By language restriction, you can&#39;t mix optional and keywords arguments in Common Lisp.
Does it mean it sucks? (off course, this can be changed with macros (see e.g. <a href="https://stackoverflow.com/questions/22805867/common-lisp-can-i-define-a-function-with-arbitrary-number-of-args-and-optional/22812718#22812718">my answer</a>)).
See <a href="http://caml.inria.fr/pub/docs/u3-ocaml/ocaml051.html" rel="nofollow noreferrer">O&#39;Caml&#39;s documentation</a> for optional and named arguments in O&#39;Caml.</p></li><li><p><em>Partial argument application inconsistency</em></p><p>I don&#39;t think it this is really annoying in practice.</p></li><li><p><em>Arithmetic&#39;s readability</em></p><p>It holds, but you can use R or Python for numerical problems if you prefer.</p></li><li><p><em>Silent name conflict resolution</em></p><p>Still applies, but note that this is well documented.</p></li><li><p><em>No object input/output</em></p><p>Still applies.</p></li></ul><h1>Implementation, libraries</h1><p>These keep changing every day: there is no definitive answer.</p><p>Finally,</p><blockquote><p>&#34;You should try OCaml (or, better yet, Haskell) even if you think 
 it sucks and you are not planning to use it. Without it, your
 Computer Science education is incomplete, just like it is incomplete 
 without some Lisp and C (or, better yet, Assembly) exposure.&#34;</p></blockquote><p>... still applies.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../why-isnt-ocaml-more-popular/'>Why isn&#8217;t OCaml more popular</a></li><li class="list-group-item"><a href='../type-checking-and-recursive-types-writing-the-y-combinator-in-haskell-ocaml/'>Type checking and recursive types (Writing the Y combinator in Haskell/Ocaml)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>