<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C++ &#8211; const reference and const pointer. How do they work &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063434 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063434" class="post-1063434 software type-software status-publish hentry category-software tag-c tag-compiler"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C++ &#8211; const reference and const pointer. How do they work</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">compiler</span></p><div class="entry-content"><p>I read a post about how const storage works.</p><p><a href="https://softwareengineering.stackexchange.com/questions/142475/how-does-const-storage-work-item-2-scott-myers-effective-c">How does const storage work? (Item 2, Scott Myers Effective C++)</a></p><p>This says that each segment has separate section of write protected memory and const data goes there.</p><p>But what happens in case of references?<br /> I want to understand three scenarios.</p><ol><li>Global const reference.</li><li>const reference in method.</li><li>const reference in a class.</li></ol><p>And for that matter pointers, I mean even though pointer can be stored in some write protected section, then how different versions of consts maintained.</p><p>such as</p><pre><code>char x = &#39;z&#39;;
//following can not change the data of x, but ptr itself can change.
const char* ptr = &amp;x;
char y = &#39;9&#39;;
ptr = &amp;y;
</code></pre><p>above is allowed but following is not</p><pre><code>char* const ptr1 = &amp;x;
ptr1 = &amp;y;
</code></pre><p>How this is handled?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>There are two aspects to the <code>const</code> in C++:</p><ul><li><p>logical constness: When you create a variable and point a <code>const</code> pointer or reference to it, the compiler simply checks that you don&#39;t modify the variable via the <code>const</code> pointer or reference, directly or indirectly. This constness can be cast away with a <code>const_cast&lt;&gt;</code>. As such, the following code is perfectly legal:</p><pre><code>char myString[] = &#34;Hallo Welt!&#34;;    //copy the string into an array on the stack
const char* constPtr = myString;
const_cast&lt;char*&gt;(constPtr)[i] = &#39;e&#39;;    //perfectly legal
</code></pre></li><li><p>physical constness: When you create a variable in static storage that is <code>const</code>, you allow the compiler to put in into non-writable memory. It may do so, or it may not. As far as the standard is concerned, you are simply invoking undefined behavior if you cast away constness to modify such an object. This includes all string literals, so the following code may or may not work:</p><pre><code> const char* myString = &#34;Hallo World!&#34;;
 const_cast&lt;char*&gt;(myString)[1] = &#39;e&#39;;     //Undefined behavior, modifying a const static object!
</code></pre></li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-how-does-const-storage-work-item-2-scott-myers-effective-c/'>C++ &#8211; How does const storage work? (Item 2, Scott Myers Effective C++)</a></li><li class="list-group-item"><a href='../c-storing-a-pass-by-reference-parameter-as-a-pointer-bad-practice/'>C++ &#8211; Storing a pass-by-reference parameter as a pointer &#8211; Bad practice</a></li><li class="list-group-item"><a href='../c-debugging-memory-corruption/'>C++ &#8211; Debugging memory corruption</a></li><li class="list-group-item"><a href='../c-storing-a-pointer-to-an-argument-passed-by-non-const-reference/'>C++ &#8211; Storing a pointer to an argument passed by (non-const) reference</a></li><li class="list-group-item"><a href='../c-passing-parameters-that-need-to-be-copied-by-value-or-const-reference/'>C++ &#8211; Passing parameters that need to be copied by value or const reference</a></li><li class="list-group-item"><a href='../c-use-for-non-const-reference-parameters/'>C++ &#8211;  use for non-const reference parameters</a></li><li class="list-group-item"><a href='../c-const-and-non-const-methods-and-possible-mutable-data-member/'>C++ &#8211; Const and non-const methods, and possible mutable data member</a></li><li class="list-group-item"><a href='../c-key-value-store-development-porting-to-modern-c/'>C++ &#8211; Key / Value store development porting to modern C++</a></li><li class="list-group-item"><a href='../c-merits-of-copy-on-write-semantics/'>C++ &#8211; Merits of copy-on-write semantics</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>