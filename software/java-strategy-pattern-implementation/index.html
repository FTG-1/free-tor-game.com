<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Strategy Pattern Implementation &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1086036 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1086036" class="post-1086036 software type-software status-publish hentry category-software tag-design-patterns tag-java tag-ooad"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Strategy Pattern Implementation</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design-patterns</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">ooad</span></p><div class="entry-content"><p>I have to generate a code that will send through SMS or Email to implement the One Time Password (OTP) requirement of our client.</p><p>I just finished creating the design using strategy pattern, .<br /> <a href="../../../i.stack.imgur.com/5g6W5.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/5g6W5.png" alt="Please see screenshot for the UML design"/></a>.</p><p>This it the first time I&#39;ve used strategy pattern in real life projects so I would like to ask if I&#39;m doing it right.</p><p>Below is just a sample code that will be used by client.</p><pre><code> //OTPGeneratorStrategy generatorStrategy = new EmailGeneratorStrategy(&#34;test@gmail.com&#34;); for sending to Email for example
OTPGeneratorStrategy generatorStrategy = new SmsGeneratorStrategy(993454454545);
OTPGeneratorContextgeneratorContext = new OTPGeneratorContext(generatorStrategy);
context.generate(&#34;1-12345-0&#34;);

OTPValidatorStrategy validatorStrategy = new SmsValidatorStrategy();
OTPValidatorContext validatorContext = new OTPValidatorContext (validatorStrategy );
try {
validatorContext.validate(&#34;1-12345-0&#34;,&#34;e7241f&#34;);
} catch (InvalidVerificationKeyException ivk) {
System.out.println(&#34;Verification key is invalid!&#34;);
} catch(VerificationKeyExpiredException vke) {
System.out.println(&#34;Verification key is already expired, Please regenerate&#34;);
}
</code></pre><p><strong>Updated:</strong></p><p>Thank you for the feedback, actually I was not able to update my latest UML design and already separated the generation and validation. <a href="../../../i.stack.imgur.com/pNGjy.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/pNGjy.png" alt="See this"/></a></p><p>And the reason why I&#39;ve used Exception rather than enums because the project was built in java 1.4.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>First thing that strikes me as a problem is using exceptions for validation result. Don&#39;t use exceptions for application logic. Just return an enum value. I would assume there are not many ways validation can end up.</p><p>Next thing I would question is using of two strategies. What would happen if you used SMS generator with Email validator? To me, it seems there should be just one strategy with both <code>generate</code> and <code>validate</code> methods. As for &#34;merging the two violates SRP&#34;, I would actually say having them separate violates SRP. SRP is about cohesion. And cohesion works both ways. It separates non-cohesive code and joins cohesive code that was split. Ask yourself &#34;If I changed how Email one-time-password policy worked, would I change only generator or validator or would I have to change both?&#34;. I&#39;m quite sure you would need to change both, meaning generation and validation are cohesive parts. If you are worried about putting email sending into the strategy implementation, then that should be strategy&#39;s concern. <code>OTPContext</code> doesn&#39;t need to be bothered by that. It doesn&#39;t need to know generation uses some special logic, that is not relevant to validation.</p><p>Last nitpick is that I would prefer if strategy was set to <code>OTPContext</code> in a constructor instead of getters/setters. What would happen if you changed the validator strategy after code was generated? You should keep things read-only unless there is explicit requirement for things to change.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-use-decorator-and-factory-together-to-extend-objects/'>Java &#8211; Use decorator and factory together to extend objects</a></li><li class="list-group-item"><a href='../java-implementation-of-strategy-design-pattern/'>Java &#8211; Implementation of strategy design pattern</a></li><li class="list-group-item"><a href='../java-is-throwing-an-exception-an-anti-pattern-here/'>Java &#8211; Is throwing an exception an anti-pattern here</a></li><li class="list-group-item"><a href='../c-am-i-using-the-factory-method-design-pattern-correctly-or-which-creational-pattern-should-i-use/'>C# &#8211; Am I using the factory method design pattern correctly, or which creational pattern should I use</a></li><li class="list-group-item"><a href='../what-are-the-advantages-of-builder-pattern-of-gof/'>What are the advantages of Builder Pattern of GoF</a></li><li class="list-group-item"><a href='../design-pattern-for-conditional-behaviour-depending-on-a-client-id/'>Design pattern for conditional behaviour depending on a client ID</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>