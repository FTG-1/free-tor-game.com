<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How to define what fields to check for equality &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082635 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082635" class="post-1082635 software type-software status-publish hentry category-software tag-clean-code"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How to define what fields to check for equality</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">clean code</span></p><div class="entry-content"><p>I have an odd conceptual question, It&#39;s not about a specific incident, just a general best-practices approach.</p><p>I have asked myself on occasion when defining java Equal methods, what makes two objects equal.  The simple approach is to check rather every field is equal, however, there are occasions when this isn&#39;t always logical.  Here are three examples I could think of when I&#39;m not certain rather a field should be part of an equals method:</p><ol><li><p>transient fields and state data.  Any transient field on a JPA object for example.  or say I have a plugin class with a jar location and some other identification data to uniquely define where to find a plugin to load, and a transient isLoaded Boolean which tells me rather I got around to loading the plugin yet.  Should two references to the same plugin but with different isLoaded variables be equal?</p></li><li><p>Costly equality checks.  Lets say I have a person that has a family members array.  If I check everyone in the family member array I have to check everyone in their array etc and suddenly my equality method checks every person in memory, and has to check for cycles etc.</p></li><li><p>Data that may not be loaded at time of equality check.  Lets say I have a JPA object with consists of only two fields, a unique Name, and a UUID field generated by the database.  The name uniquely identifies the row of the database, but the UUID only exists when I load from the database.  How do I check if an Object I want to save  to the database is equal to the ones I already loaded to the database, does the fact that one object doesn&#39;t have the UUID that is generated by the database make them unique etc?</p></li></ol><p>I realize that at times it depends on how you plan to use the quality method.  However, in situations where you are writing an object and aren&#39;t yet certain how it will be utilized how do you decide what to include in an equal method?  Do you never overwrite one unless you can include every field in the check?</p><p>If you need your hash function to behave in a certain manner, which indirectly defines how your equality method should work, but someone could easily assume a different definition of equality does this mean you simply need to notate your equal method well, or is it a code smell that you have done something wrong?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think if there were a one-size-fits-all way to compare objects, then Java (or any language) would make it the default, no?</p><p>Equality - like hashing and comparison - should be fast, simple and most importantly referentially transparent.</p><p>In the end, the question of what exactly the equals method is for is important. If you don&#39;t know, then just leave it as is. Physical comparison makes sense in many use cases, particularly if you have control over when objects are created vs. when they are reused.</p><p>Also, rather than trying to design comparison functions meaningful for all cases, write code using things like <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html" rel="nofollow"><code>Comparator</code></a> and let calling code inject whatever makes the most sense at the call site.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-to-prevent-unknowningly-duplicating-code/'>How to prevent unknowningly duplicating code</a></li><li class="list-group-item"><a href='../c-clean-oop-design-how-to-implement-single-responsibility-and-no-procedural-programming/'>C# &#8211; Clean OOP-Design: How to implement single responsibility and no procedural programming</a></li><li class="list-group-item"><a href='../c-correct-usage-of-property-vs-field-vs-function-in-c/'>C# &#8211; Correct usage of Property vs Field vs Function in C#</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>