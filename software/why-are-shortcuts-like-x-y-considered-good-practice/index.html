<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Why are shortcuts like x += y considered good practice &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063018 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063018" class="post-1063018 software type-software status-publish hentry category-software tag-programming-practices"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Why are shortcuts like x += y considered good practice</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">programming practices</span></p><div class="entry-content"><p>I have no idea what these are actually called, but I see them all the time. The Python implementation is something like:</p><p><code>x += 5</code> as a shorthand notation for <code>x = x + 5</code>.</p><p>But why is this considered good practice? I&#39;ve run across it in nearly every book or programming tutorial I&#39;ve read for Python, C, <a href="http://en.wikipedia.org/wiki/R_(programming_language)">R</a> so on and so forth. I get that it&#39;s convenient, saving three keystrokes including spaces. But they always seem to trip me up when I&#39;m reading code, and at least to my mind, make it <em>less</em> readable, not more.</p><p>Am I missing some clear and obvious reason these are used all over the place?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It&#39;s not shorthand.</p><p>The <code>+=</code> symbol appeared in the C language in the 1970s, and - with the C idea of &#34;smart assembler&#34; correspond to a clearly different machine instruction and adressing mode:</p><p>Things like &#34;<code>i=i+1</code>&#34;, <code>&#34;i+=1</code>&#34; and &#34;<code>++i</code>&#34;, although at an abstract level produce the same effect, correspond at low level to a different way of working of the processor.</p><p>In particular those three expressions, assuming the <code>i</code> variable resides in the memory address stored in a CPU register (let&#39;s name it <code>D</code> - think of it as a &#34;pointer to int&#34;) and the <a href="https://en.wikipedia.org/wiki/Arithmetic_logic_unit" rel="noreferrer">ALU</a> of the processor takes a parameter and return a result in an &#34;accumulator&#34; (let&#39;s call it A - think to it as an int).</p><p>With these constraints (very common in all microprocessors from that period), the translation will most likely be</p><pre><code>;i = i+1;
MOV A,(D); //Move in A the content of the memory whose address is in D
ADD A, 1;  //The addition of an inlined constant
MOV (D) A; //Move the result back to i (this is the &#39;=&#39; of the expression)

;i+=1;
ADD (D),1; //Add an inlined constant to a memory address stored value

;++i;
INC (D); //Just &#34;tick&#34; a memory located counter
</code></pre><p>The first way of doing it is disoptimal, but it is more general when operating with variables instead of constant (<code>ADD A, B</code> or <code>ADD A, (D+x)</code>) or when translating more complex expressions (they all boil down in push low priority operation in a stack, call the high priority, pop and repeat until all the arguments had been eliminated).</p><p>The second is more typical of &#34;state machine&#34;: we are no longer &#34;evaluating an expression&#34;, but &#34;operating a value&#34;: we still use the ALU, but avoid moving values around being the result allowed to replace the parameter. These kind of instruction cannot be used where more complicated expression are required: <code>i = 3*i + i-2</code> cannot be operated in place, since <code>i</code> is required more times.</p><p>The third -even simpler- does not even consider the idea of &#34;addition&#34;, but uses a more &#34;primitive&#34; (in computational sense) circuitry for a counter. The instruction is shorted, load faster and executes immediately, since the combinatorial network required to retrofit a register to make it a counter is smaller, and hence faster than the one of a full-adder.</p><p>With contemporary compilers (refer to C, by now), enabling compiler optimization, the correspondence can be swapped based on convenience, but there is still a conceptual difference in the semantics.</p><p><code>x += 5</code> means</p><ul><li>Find the place identified by x</li><li>Add 5 to it</li></ul><p>But <code>x = x + 5</code> means:</p><ul><li>Evaluate x+5<ul><li>Find the place identified by x</li><li>Copy x into an accumulator</li><li>Add 5 to the accumulator</li></ul></li><li>Store the result in x<ul><li>Find the place identified by x</li><li>Copy the accumulator to it</li></ul></li></ul><p>Of course, optimization can</p><ul><li>if &#34;finding x&#34; has no side effects, the two &#34;finding&#34; can be done once (and x become an address stored in a pointer register)</li><li>the two copies can be elided if the ADD is applied to <code>&amp;x</code> instead to the accumulator</li></ul><p>thus making the optimized code to coincide the <code>x += 5</code> one.</p><p>But this can be done only if &#34;finding x&#34; has no side effects, otherwise</p><pre><code>*(x()) = *(x()) + 5;
</code></pre><p>and</p><pre><code>*(x()) += 5;
</code></pre><p>are semantically different, since <code>x()</code> side effects (admitting <code>x()</code> is a function doing weird things around and returning an <code>int*</code>) will be produced twice or once.</p><p>The equivalence between <code>x = x + y</code> and <code>x += y</code> is hence due to the particular case where <code>+=</code> and <code>=</code> are applied to a direct l-value.</p><p>To move to Python, it inherited the syntax from C, but since there is no translation / optimization BEFORE the execution in interpreted languages, things are not necessarily so intimately related (since there is one less parsing step). However, an interpreter can refer to different execution routines for the three types of expression, taking advantage of different machine code depending on how the expression is formed and on the evaluation context.</p><hr/><p>For who likes more detail...</p><p>Every CPU has an ALU (arithmetic-logical unit) that is, in its very essence, a combinatorial network whose inputs and output are &#34;plugged&#34; to the registers and / or memory depending on the opcode of the instruction.</p><p>Binary operations are typically implemented as &#34;modifier of an accumulator register with an input taken &#34;somewhere&#34;, where somewhere can be
 - inside the instruction flow itself (typical for manifest contant: ADD A 5)
 - inside another registry (typical for expression computation with temporaries: e.g. ADD A B)
 - inside the memory, at an address given by a register (typical of data fetching e.g.: ADD A (H)) - H, in this case, work like a dereferencing pointer.</p><p>With this pseudocode, <code>x += 5</code> is</p><pre><code>ADD (X) 5
</code></pre><p>while <code>x = x+5</code> is</p><pre><code>MOVE A (X)
ADD A 5
MOVE (X) A
</code></pre><p>That is, x+5 gives a temporary that is later assigned. <code>x += 5</code> operates directly on x.</p><p>The actual implementation depends on the real instruction set of the processor:
If there is no <code>ADD (.) c</code> opcode, the first code becomes the second: no way.</p><p>If there is such an opcode, and optimization are enabled, the second expression, after eliminating the reverse moves and adjusted the registers opcode, become the first.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-is-monkeypatching-considered-good-programming-practice/'>Python &#8211; Is monkeypatching considered good programming practice</a></li><li class="list-group-item"><a href='../java-articles-in-variable-names-and-hard-coding-strings/'>Java &#8211; articles in variable names and hard-coding strings</a></li><li class="list-group-item"><a href='../is-it-considered-good-practice-to-always-have-methods-return-a-value/'>Is it considered good practice to always have methods return a value</a></li><li class="list-group-item"><a href='../python-turning-a-personal-python-project-into-a-releasable-library/'>Python &#8211; Turning a personal Python project into a releasable library</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>