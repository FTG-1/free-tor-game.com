<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How data is accessed in Memory-Mapped I/O &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1072550 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1072550" class="post-1072550 software type-software status-publish hentry category-software tag-computer-architecture tag-hardware tag-io"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How data is accessed in Memory-Mapped I/O</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">computer-architecture</span><span class="mr-2 badge badge-info">hardware</span><span class="mr-2 badge badge-warning">io</span></p><div class="entry-content"><p>This is an example of Memory-Mapped I/O:</p><p><a href="https://i.stack.imgur.com/BGlhA.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/BGlhA.png" alt="enter image description here"/></a></p><p>So basically you access the device controller registers through memory.</p><p>Now my question is, when you for example write to the memory location that maps to the <em>command register</em>, will the value you write to this memory location gets copied to the <em>command register</em> in the device controller, or is the command register simply a pointer to this memory location (so basically there is only one copy of the value you will write, which only exists in memory)?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><blockquote><p>So basically you access the device controller registers <strong>through memory</strong>.</p></blockquote><p>Not exactly, which is why the diagram in the question doesn&#39;t quite depict memory-mapped I/O.</p><p>Memory-mapped I/O uses the same <em>mechanism</em> as memory to communicate with the processor, but not the system&#39;s RAM.  The idea behind memory mapping is that a device will be connected to the system&#39;s address bus and uses a circuit called an <em>address decoder</em> to watch for reads or writes to its assigned addresses responds accordingly.</p><p>The simplest example of this I can think of is the speaker in the Apple II, which makes a single click any time there&#39;s a read from or write to address <code>0xC030</code>.  The address decoder looks for the bits on the address bus to be exactly 1100000000110000, and when those conditions are met, a line on its output goes high, triggering the audio circuit that makes the click.  More sophisticated devices might be stimulated to react to what&#39;s been put on the data bus (e.g., when the CPU writes to a control register mapped at one address) or place some of its own information there (when the CPU reads from a status register mapped to another).</p><p>As long as all of the timing rules of the bus are followed, the processor doesn&#39;t know or care that it wasn&#39;t RAM.  (RAM, in fact, works exactly the same way.)  All of this is done on a best-effort basis; the CPU can write to an address where there&#39;s nothing to respond to it and whatever was written gets lost in the ether; similarly, a read will result in random garbage.  What&#39;s important to take from this is that there&#39;s exactly one read or write of the data, which is when it&#39;s on the bus.  There&#39;s no writing to memory and then to the device, no pointers or anything else.  The data exists on the data bus during that one read or write cycle and that&#39;s the end of it.  The device may or may not store the value internally, but that&#39;s a function of the device, not the I/O mechanism.</p><p>As drawn, the diagram illustrates <em>Direct Memory Access</em> or DMA, where the device is instructed to negotiate for use of the bus to do an I/O of <em>n</em> bytes to or from address <em>a</em> in RAM and signal the processor when finished.  This is almost always used for bulk data transfer (disk blocks, Ethernet frames, buffered graphics) and almost never for control and status, which is usually done memory-mapped.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/how-does-a-dma-controller-work/'>How does a DMA controller work</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/are-control-register-and-status-register-and-data-register-part-of-the-device-itself/'>Are &#8220;Control register&#8221; and &#8220;Status register&#8221; and &#8220;Data register&#8221; part of the device itself</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/can-the-cpu-manipulate-the-pins-of-an-io-port-directly/'>Can the CPU manipulate the pins of an IO port directly</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/what-does-address-space-means-when-talking-about-io-devices/'>What does &#8220;address space&#8221; means when talking about IO devices</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>