<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; Does decoupling trump DRY in REST &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1079805 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1079805" class="post-1079805 software type-software status-publish hentry category-software tag-api tag-coupling tag-dry tag-java tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; Does decoupling trump DRY in REST</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">coupling</span><span class="mr-2 badge badge-warning">dry</span><span class="mr-2 badge badge-primary">java</span><span class="mr-2 badge badge-danger">rest</span></p><div class="entry-content"><p>I am building a REST API to expose most of functionality of an existing Java API.  Both APIs are for internal use within my organization; I do not have to design for external use.  I have influence over both APIs but am implementing the REST one.  The Java API will continue to be used for local applications (it&#39;s not being &#34;retired&#34;), but the REST API will be used for significant new development.</p><p>Some of the Java API classes are simply data (beans with properties, getters, setters).  And at least some of these make sense to transmit (in some form) over the REST API as data (which will be marshalled to XML or JSON).  For example, a class that stores info about a server machine.  I am faced with the following choice for these data classes:  Do I&#8230;</p><ol><li>expose the original Java class (or a subclass) directly in the REST API, or</li><li>make a new data transfer class (DTO pattern) specifically for the REST API?</li></ol><p>Either way I&#39;ll have REST data transfer classes; the question is whether to annotate the originals or create new ones (which may be near copies of the originals).  There may be other choices, but I&#39;ll focus mainly on those two.</p><p>Arguments for #1:</p><ul><li>DRY (don&#39;t repeat yourself)</li><li>Faster to implement</li><li>Easier to upgrade REST API</li></ul><p>Arguments for #2:</p><ul><li>What if REST API needs to be versioned separately from Java API?  (This is somewhat likely.)</li><li>What if there are significant changes to the Java data classes such as removal of properties, adding of behavior, or changes to class hierarchy?  (This is also somewhat likely.)</li></ul><p>Bottom line is that it seems like a tradeoff between DRY (#1) and decoupling (#2).</p><p>I&#39;m leaning toward starting with #1 and then if problems arise moving to #2 later, following the agile guideline of not building what you can&#39;t prove you need.  Is this a bad idea; should I start with #2 if I think I may end up there anyway?</p><p>Are there major arguments/consequences missing from my lists?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Good question, simply put, decouple. That&#39;s the way to go here, you do not want to be tied to the version of java.</p><p>There&#39;s one scenario you don&#39;t decouple: if your technology will allow for non-type-specific objects to be sent over the wire, that is, if you can use the current java objects now as a YAGNI, and the replacement with a different type that you custom up will be a simple drop-in that won&#39;t break anything due to type information going over the wire. So, basically if type information doesn&#39;t cross the wire you could YAGNI on this.</p><p>Just be very careful and watchful that any upgrades to your java version don&#39;t change any of these objects. Otherwise just decouple now and don&#39;t worry about it, I guess it depends on how much time you have if you have a choice.</p><p>However, if type information goes across the wire in your protocol then a flat drop-in of new types when the underlying java types change may not be possible and may rather be a larger effort. If that&#39;s the case, going YAGNI now means accruing technical debt and risk related to your underlying technology.</p><p>Personally I would just decouple now.</p><p>Also, DRY doesn&#39;t play into this because you didn&#39;t write the underlying pieces so you aren&#39;t duplicating code and therefore won&#39;t have the pains of bugs repeated all-over which is the main concern of DRY (and general maintainability issues which again you won&#39;t have because you don&#39;t have duplicates to maintain)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-designing-an-api-on-top-with-java-rmi-and-rest-apis/'>Java &#8211; Designing an API on top with Java RMI and Rest APIs</a></li><li class="list-group-item"><a href='../rest-ajax-application-using-soap-vs-rest/'>Rest &#8211; Ajax application: using SOAP vs REST</a></li><li class="list-group-item"><a href='../exposing-domain-models-over-api/'>Exposing domain models over API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>