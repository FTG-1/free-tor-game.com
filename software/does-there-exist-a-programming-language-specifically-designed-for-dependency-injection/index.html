<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Does there exist a programming language specifically designed for dependency injection &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1077165 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1077165" class="post-1077165 software type-software status-publish hentry category-software tag-language-design tag-programming-languages"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Does there exist a programming language specifically designed for dependency injection</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">language-design</span><span class="mr-2 badge badge-info">programming-languages</span></p><div class="entry-content"><p>Many general programming languages are flexible enough to allow you to support dependency injection.  Even without library or framework support.   But even if a language is Turing complete enough to solve any programming problem, a language makes choices that impact what is easy and what is hard to do in them.</p><p>Is there any language that was specifically designed to make dependency injection easy, and conversely, make creating hidden dependencies hard?</p><p>Clarification:</p><p>Due to limitations of some languages (looking at you Java) many people regard assistance with wiring and construction as part of dependency injection.  Here I only intend a language designed for DI to mean that dependency&#39;s are not easily hidden in side effects.  Having a convention over configuration system as well would only be added gravy.</p><p>I&#39;m not looking for a language recommendation.  It&#39;s a historical question.  Has any language author ever explicitly set out to do this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Yes, there is indeed. Sort of.</p><p><a href="http://newspeaklanguage.org/" rel="nofollow noreferrer">Newspeak</a> has no static state and no global state. This means that the only possible way to get access to a dependency is to have it explicitly injected. Obviously, this means that the language, or in the case of Newspeak more precisely the IDE <em>needs</em> to make dependency injection easy, otherwise the language will be unusable.</p><p>So, the language is not designed for DI, rather the necessity for DI is a consequence of the language design.</p><p>If there is no static state and no global state, then you cannot just &#34;reach out&#34; in to the ether and pull something out. For example, in Java, the package structure is static state. I can just say <code>java.lang.String</code> and I have myself the <code>String</code> class. That is not possible in Newspeak. <em>Everything</em> you work with, has to be explicitly provided to you, otherwise you just can&#39;t get at it. So, <em>everything</em> is a dependency, and <em>every</em> dependency is explicit.</p><p>You want a string? Well, you have to first ask the <code>stdlib</code> object to hand you the <code>String</code> class. Oh, but how do you get access to the <code>stdlib</code>? Well, you have to first ask the <code>platform</code> to hand you the <code>stdlib</code> object. Oh, but how do you get access to the <code>platform</code>? Well, you have to first ask someone else to hand you the <code>platform</code> object. Oh, but how do you get access to that someone lese? Well, you have to first ask yet another someone else to hand you the object.</p><p>How far down the rabbit hole does this go? Where does the recursion stop? All the way, actually. It doesn&#39;t stop. Then, how can you write a program in Newspeak? Well, strictly speaking, you can&#39;t!</p><p>You need some outside entity that ties it all together. In Newspeak, that entity is the IDE. The IDE sees the whole program. It can wire the disparate pieces together. The standard pattern in Newspeak is that the central class of your application has an accessor called <code>platform</code>, and the Newspeak IDE injects an object into that accessor that has methods which return some of the basic necessities of programming: a <code>String</code> class, a <code>Number</code> class, an <code>Array</code> class, and so on.</p><p>If you want to test your application, you can inject a <code>platform</code> object whose <code>File</code> method returns a class with dummy methods. If you want to deploy your application to the cloud, you inject a platform whose <code>File</code> class actually is backed by Amazon S3. Cross-platform GUIs work by injecting different GUI frameworks for different OSs. Newspeak even has an experimental Newspeak-to-ECMAScript compiler and HTML-backed GUI framework that allows you to port a fully-featured GUI application from native desktop into the browser with no changes, just by injecting different GUI elements.</p><p>If you want to deploy your application, the IDE can serialize the application into an on-disk object. (Unlike its ancestor, Smalltalk, Newspeak has an out-of-image object serialization format. You don&#39;t have to take the entire image with you, precisely because all dependencies are injected: the IDE knows <em>exactly</em> which parts of the system your application uses and which it doesn&#39;t. So, it serializes exactly the connected subgraph of the object space that comprises your application, nothing more.)</p><p>All of this works simply by taking object-orientation to the extreme: everything is a virtual method call (&#34;message send&#34; in Smalltalk terminology, of which Newspeak is a descendant). Even the superclass lookup is a virtual method call! Take something like</p><pre><code>class Foo extends Bar // using Java syntax for familiarity
</code></pre><p>or, in Newspeak:</p><pre><code>class Foo = Bar () () : ()
</code></pre><p>In Java, this will create a name <code>Foo</code> in the static global namespace, and look up <code>Bar</code> in the static global namespace and make <code>Bar</code> <code>Foo</code>&#39;s superclass. Even in Ruby, which is much more dynamic, this will still create a static constant in the global namespace.</p><p>In Newspeak, the equivalent declaration means: create a getter method named <code>Foo</code> and make it return a class that looks up its superclass by calling the method named <code>Bar</code>. Note: this is not like Ruby, where you can put <em>any</em> executable Ruby code as the superclass declaration, but the code will only be executed <em>once</em> when the class is created and the return value of that code becomes the fixed superclass. No. The method <code>Bar</code> is called for <em>every single</em> method lookup!</p><p>This has some profound implications:</p><ul><li>since a mixin is basically a class that doesn&#39;t know its superclass yet, and in Newspeak, the superclass is a dynamic virtual method call, and thus unknown, every class is automatically also a mixin. You get mixins for free.</li><li><p>since an inner class is just a method call that returns a class, you can override that method in a subclass of the outer class, so every class is virtual. You get virtual classes for free:</p><pre><code>class Outer {
  class Inner { /* … */ }
}

class Sub extends Outer {
  override class Inner { /* … */ }
}
</code></pre><p>Newspeak:</p><pre><code>class Outer = () (
  class Inner = () () : ()
) : ()

class Sub = Outer () (
  class Inner = () () : ()
) : ()
</code></pre></li><li><p>since the superclass is just a method call that returns a class, you can override that method in a subclass of the outer class, inner classes defined in the superclass can have a different superclass in the subclass. You get class hierarchy inheritance for free:</p><pre><code>class Outer {
  class MyCoolArray extends Array { /* … */ }
}

class Sub extends Outer {
  override class Array { /* … */ }
  // Now, for instances of `Sub`, `MyCoolArray` has a different superclass 
  // than for instances of `Outer`!!!
}
</code></pre><p>Newspeak:</p><pre><code>class Outer = () (
  class MyCoolArray = Array () () : ()
) : ()

class Sub = Outer () (
  class Array = () () : ()
) : ()
</code></pre></li><li><p>and lastly, the most important for this discussion: since (apart from the ones you defined in your class, obviously) you can only call methods in your lexically enclosing class(es) and your superclass(es), a top-level outermost class cannot call any methods <em>at all</em> except the ones that are explicitly injected: a top-level class doesn&#39;t have an enclosing class whose methods it could call, and it cannot have a superclass other than the default one, because the superclass declaration is a method call, and it obviously can&#39;t go to the superclass (it <em>is</em> the superclass) and it also can&#39;t go to the lexically enclosing class, because there isn&#39;t any. What this means is the top-level classes are completely encapsulated, they can only access what they explicitly get injected, and they only get injected what they explicitly ask for. In other words: top-level classes are modules. You get an entire module system for free. In fact, to be more precise: top-level classes are module declarations, its instances are modules. So, you get a module system with parametric module declarations and first-class modules for free, something which many, even very sophisticated, module systems cannot do.</p></li></ul><p>In order to make all of this injection painless, class declarations have an unusual structure: they consist of two declarations. One is the class constructor, which is <em>not</em> the constructor which constructs <em>instances</em> of the class, but rather the constructor that constructs the environment in which the class body runs. In a Java-like syntax, it would look something like this:</p><pre><code>class Foo(platform) extends Bar {
  Array  = platform.collections.Array
  String = platform.lang.String
  File   = platform.io.File
| // separator between class constructor and class body
  class MyArray extends Array { /* … */ }
  // Array refers to the method defined above which in turn gets it from the 
  // platform object that was passed into the class &#34;somehow&#34;
}
</code></pre><p>Newspeak:</p><pre><code>class Foo using: platform = Bar (
  Array = platform collections Array
  String = platform streams String 
  File = platform files ExternalReadWriteStream
) (
  class MyArray = Array () () : ()
) : ()
</code></pre><p>Note that the way a Newspeak programmer is <em>actually</em> going to see the class(es) is like this:<img src="../../../i.stack.imgur.com/eGVwh.png" alt="Newspeak IDE displaying multiple nested classes"/></p><p>I can&#39;t even begin to do it justice, though. You&#39;ll have to play around with it yourself. Gilad Bracha has given <a href="http://newspeaklanguage.org/podcasts-and-talks" rel="nofollow noreferrer">a couple of talks</a> about various aspects of the system, including modularity. <a href="http://meetup.com/Lambda-Meetup-Group/events/223708362/" rel="nofollow noreferrer">He gave a really long (2hr) talk</a>, the first hour of which is a thorough introduction to the language, including the modularity story. Chapter 2 of <a href="http://bracha.org/newspeak.pdf" rel="nofollow noreferrer">The Newspeak Programming Platform</a> covers modularity. If you skim <a href="http://bracha.org/newspeak-101.pdf" rel="nofollow noreferrer">Newspeak on Squeak – A Guide for the Perplexed (aka Newspeak-101)</a>, you get a feel for the system. <a href="http://bracha.org/Literate/literate.html" rel="nofollow noreferrer">Newspeak by Example</a> is a <em>live document</em> (i.e. it is running inside the Newspeak-on-ECMASCript port, every line of code is editable, every result is inspectable) demonstrating the basic syntax.</p><p>But really, you have to play around with it. It is just <em>so different</em> from all mainstream and even most non-mainstream languages that it is hard to explain, it has to be experienced.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../does-this-kind-of-programming-language-exist/'>Does this kind of programming language exist</a></li><li class="list-group-item"><a href='../why-does-llvm-have-an-assembly-like-ir-rather-than-a-tree-like-ir-or-why-do-projects-target-llvm-ir-instead-of-clangs-ast/'>Why does LLVM have an assembly-like IR rather than a tree-like IR? Or: why do projects target LLVM IR instead of clang&#8217;s AST</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>