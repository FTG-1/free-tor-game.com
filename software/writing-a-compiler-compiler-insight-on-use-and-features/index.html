<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Writing a Compiler Compiler &#8211; Insight on Use and Features &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1081683 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1081683" class="post-1081683 software type-software status-publish hentry category-software tag-code-generation tag-compiler tag-feature-requests tag-language-features tag-parsing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Writing a Compiler Compiler &#8211; Insight on Use and Features</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">code generation</span><span class="mr-2 badge badge-info">compiler</span><span class="mr-2 badge badge-warning">feature-requests</span><span class="mr-2 badge badge-primary">language-features</span><span class="mr-2 badge badge-danger">parsing</span></p><div class="entry-content"><blockquote><p>This is part of a series of questions which focuses on the sister project to the Abstraction Project, which aims to abstract the concepts used in language design in the form of a framework.  The sister project is called OILexer, which aims to construct a parser from grammar files, without the use of code injection on matches.</p><p>Some other pages associated to these questions, related to structural typing, can be viewed <a href="https://softwareengineering.stackexchange.com/questions/96229/is-structural-typing-in-a-hierarchical-model-necessary">here</a>, and ease of use, found <a href="https://softwareengineering.stackexchange.com/questions/97124/how-easy-should-a-language-development-framework-be-to-use">here</a>.  The meta-topic associated to an inquiry about the framework and the proper place to post can be found <a href="https://meta.stackexchange.com/questions/99828/suggested-stack-based-website-for-question-about">here</a>.</p></blockquote><p>I&#39;m getting to the point where I&#39;m about to start extracting the parse tree out of a given grammar, followed by a Recursive Descent parser which uses DFA to discern forward paths (similar to ANTLR 4&#39;s LL(*)), so I figured I&#39;d open it up to get insight.</p><h3>In a parser compiler, what kinds of features are ideal?</h3><p>So far here is a brief overview of what&#39;s implemented:</p><ol><li><a href="http://abstraction-project.com/text/PrecedenceHelper.html" rel="nofollow noreferrer">Templates</a></li><li>Look ahead prediction, knowing what&#39;s valid at a given point.</li><li>Rule &#39;Deliteralization&#39; taking the literals within rules and resolving which token they&#39;re from.</li><li>Nondeterministic Automata</li><li>Deterministic Automata</li><li>Simple lexical state machine for token recognition</li><li>Token automation methods:<ul><li>Scan &#8211; useful for comments: Comment := &#34;/*&#34; Scan(&#34;*/&#34;);</li><li>Subtract &#8211; Useful for Identifiers: Identifier := Subtract(IdentifierBody, Keywords);<ul><li>Ensures the identifier doesn&#39;t accept keywords.</li></ul></li><li>Encode &#8211; Encodes an automation as a series X count of base N transitions.<ul><li>UnicodeEscape := &#34;\\u&#34; BaseEncode(IdentifierCharNoEscape, 16, 4);<ul><li>Makes a unicode escape in hexadecimal, with hex 4-transitions.  The difference between this and: [0-9A-Fa-f]{4} is the resulted automation with Encode limits the allowed set of hexadecimal values to the scope of IdentifierCharNoEscape.  So if you give it \u005c, the encode version will not accept the value.  Things like this have a serious caveat: Use sparingly.  The resulted automation could be quite complex.</li></ul></li></ul></li></ul></li></ol><p>What isn&#39;t implemented is CST generation, I need to adjust the Deterministic automations to carry over the proper context to get this working.</p><p>For anyone interested, I&#39;ve uploaded a pretty printed of the <a href="http://abstraction-project.com/text/ToySharp.html" rel="nofollow noreferrer"><strong>original form of the T*yâ™¯ project</strong></a>.  Each file should link to every other file, I started to link in the individual rules to follow them, but it would&#39;ve taken far too long (would&#39;ve been simpler to automate!)</p><p>If more context is needed, please post accordingly.</p><p><strong>Edit 5-14-2013</strong>:<br /> I&#39;ve written code to create GraphViz graphs for the state machines within a given language. <a href="http://www.abstraction-project.com/text/AssemblyPart.txt" rel="nofollow noreferrer">Here is a GraphViz digraph of the AssemblyPart</a>.  The members linked in the language description should have a rulename.txt in their relative folder with the digraph for that rule.  Some of the language description has changed since I posted the example, this is due to simplifying things about the grammar.  Here&#39;s an interesting <a href="../../../www.abstraction-project.com/images/ToySharp/Lexical%20Grammar/Number.gv.png" rel="nofollow noreferrer">graphviz image</a>.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;ve been working on a lot of parsing recently, and some of the key features are:</p><ul><li><p>A programmatic API -- so it can be used from within a programming language, ideally by simply importing a library.  It can have a GUI or BNF-like interface as well, but the programmatic one is the key, because you can re-use your tooling, IDE, static analysis, testing, language abstraction facilities, programmer familiarity, documentation generator, build process, etc.  Plus, you can interactively play with tiny parsers, which dramatically reduces the learning curve.  These reasons place it at the top of my &#34;important features&#34; list.</p></li><li><p>Error reporting, as @guysherman mentioned.  When an error is found, I want to know where the error was and what was going on when it happened.  Unfortunately, I haven&#39;t been able to find good resources for explaining how to generate decent errors when backtracking comes in to play.  (Although note @Sk-logic&#39;s comment below).</p></li><li><p>Partial results.  When parsing fails, I want to be able to see what was successfully parsed from the part of the input that was before the location of the error.</p></li><li><p>Abstraction.  You can never build in enough functions, and the user will always need more, so trying to figure out all the possible functions up-front is doomed to failure.  Is this what you mean by templates?</p></li><li><p>I agree with your #2 (look-ahead prediction).  I think it helps to generate good error reports.  Is it useful for anything else?</p></li><li><p>Support for building a parse tree as parsing occurs, perhaps:</p><ul><li>a concrete syntax tree, for which the structure of the tree corresponds directly to the grammar and includes layout information for error reporting of later phases.  In this case, the client shouldn&#39;t have to do <em>anything</em> to get the right tree structure -- it should depend directly on the grammar.</li><li>An abstract syntax tree.  In this case, the user is able to fiddle with any and all parse trees</li></ul></li><li><p>Some kind of logging.  I&#39;m not sure about this one; maybe to show a trace of the rules the parser has tried, or to keep track of junk tokens such as whitespace or comments, in case (for instance) you want to use the tokens to generate HTML documentation.</p></li><li><p>Ability to deal with context sensitive languages.  Not sure how important this one is, either -- in practice, it seems cleaner to parse a superset of a language with a context-free grammar, then to check context-sensitive constraints in additional later passes.</p></li><li><p>Custom error messages, so that I can tune the error reports in specific situations and perhaps more quickly understand and fix problems.</p></li></ul><p>On the other hand, I don&#39;t find error-correction particularly important -- although I&#39;m not up to date on current progress.  The problems I&#39;ve noticed are that the potential corrections that the tools supply are: 1) too numerous, and 2) don&#39;t correspond to the actual mistakes made, and so aren&#39;t all that helpful.  Hopefully this situation will improve (or perhaps has already done so).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-writing-a-compiler-reloc-section-of-the-coff/'>C# &#8211; Writing a Compiler &#8211; .reloc section of the COFF</a></li><li class="list-group-item"><a href='../right-way-to-read-from-token-list-to-implement-parse-tree/'>Right way to read from token list to implement parse tree</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>