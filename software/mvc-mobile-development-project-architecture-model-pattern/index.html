<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Mvc &#8211; Mobile development project architecture model/pattern &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1073607 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1073607" class="post-1073607 software type-software status-publish hentry category-software tag-android tag-architecture tag-ios tag-mvc"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Mvc &#8211; Mobile development project architecture model/pattern</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">android</span><span class="mr-2 badge badge-info">Architecture</span><span class="mr-2 badge badge-warning">ios</span><span class="mr-2 badge badge-primary">mvc</span></p><div class="entry-content"><p>I would like to hear some improvement suggestions for mobile development (Android/iOS) project architectures.<br /> I would like to go for a &#34;safe&#34; design, modular and that can be easily maintained in time.</p><p>As far as I know <strong>Android</strong> and also <strong>iOS</strong> platforms are built on <strong>MVC</strong>, at least have the <code>Activities</code> and <code>UIViewControllers</code> that are a sort of <em>controller</em> part from <strong>MVC</strong>(as many stated out there on the internet).</p><p>Also I know two approaches so far for a basic project(<strong>Android</strong>/*<em>iOS</em>*):</p><h2> 1. My favorite (a sort of MVC)</h2><p><em><strong>Model</strong></em> &#8211; I have here the models, only simple getter/setter classes<br /> shaping the project entities</p><p><em><strong>View</strong></em> &#8211; the Activities, UIViewController<br /> and custom views, only display, get data from the user interface here, usually gets the data from the Controller, never directly from the Acess</p><p><em><strong>Controller</strong></em> &#8211; some singletons (not necessary but usual) that manage<br /> each entity data, usually are doing business jobs, loading    data<br /> from the Access layer and don&#39;t have access to the view layer.</p><p><em><strong>Access</strong></em> &#8211; Database and Web Service managers, serves data back to Controller layer, can&#39;t have contact to any other layers.</p><h2>2. Commonly seen (also a sort of MVC)</h2><p><em><strong>Model</strong></em> &#8211; the models, only simple getter/setter classes shaping the project entities, I usually saw also some business jobs here too.</p><p><em><strong>View-Controller</strong></em> -(Activities and UIViewController) that manage entity data, usually are doing business jobs and also take care of displaying data to the user. Also make calls through some web service classes to get the data.</p><p>So far I am using the first variant as I consider it more decoupled and I can see the difference between who is making business jobs, user interface communication and data providers. This making it more maintainable than the second one.</p><p>The drawback for the first one is that has 2 more layers than the second one, this means more classes(but less code in each class) and at the start of a project, this can take a bit longer to develop than the second one.</p><p>What approach do you use or which do you think it is better and why?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I don’t think either of them represent classical MVC.</p><h3>Model</h3><p>The model is the data and the business logic. A model contains the state of the running application. It should report data and state. It should validate input. It should update data and state based on input.</p><ol><li><p>The model should be independent of use. In iOS, this generally means it should derive from core Objective-C classes and use only core Objective-C objects. A good test for this would be to see if the model would work for other compilers like GCC Objective-C, or if it will work in other environments like OS X.</p></li><li><p>The model should be externally controllable. The model should be able to be driven by unit-tests or driven by a completely separate set of controllers.</p></li></ol><h3>View</h3><p>A view is anything that is displayed to a user. In iOS, this generally means anything derived from UIView (UILabel, UIButton, …) Views are dumb: meaning that they know nothing of the model, business logic, or context in which they are created.</p><h3>Controller</h3><p>The controller binds model data to views so it can be displayed to users, provides context to views so they are shown correctly (disabled, highlighted, …), and handles user input to update the model. In iOS, this generally means anything derived from UIViewController. A controller may need to process model data in some small way to get it into a view. A controller may need to process user input in some small way to make it suitable for the model.</p><h3>Data Store</h3><p>The data store is the permanent repository for model data. This can be a database or a web service. Usually, data stores stand outside of MVC or are attached to the model.</p><h1>My Answer</h1><p>Now that I got that out of the way, my answer to your question: the MVC described above is the approach I use. This has implications, some of which are difficult to deal with.</p><ol><li><p>A view must know nothing of the model. If you have a property in your view named <code>price</code> or <code>total</code>, then you’re doing it wrong.</p></li><li><p>A controller must not contain business logic. If you have a controller calculate sales tax, then you’re doing it wrong.</p></li></ol><hr/><p><strong>Addressing concerns in the comments</strong></p><p><em>Warning: I&#39;m not an Android developer and have limited understanding of how 
Android works.</em></p><h3><a href="http://www.vogella.com/articles/AndroidServices/article.html#service" rel="nofollow">Services</a></h3><p>Like data stores, long running async processing sits outside of MVC. If you need a service that updates the model, then think of it as method of the model. If you have a service that transforms data to show it to a user, then think of it as a method of a controller.</p><h3>Novel Input</h3><p>Like all input, <a href="http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html#broadcastreceiver" rel="nofollow">broadcast receivers</a>, orientation changes and task switching are tasks that should be handled by a controller. I think of iOS’s application delegate as a controller for the whole application: handling input which effects the whole application (like system notifications and application lifecycle changes).</p><h3>Business Logic and Model Data</h3><p>I see the Model composed of two parts, model data and business logic. I&#39;ve learned it’s best to keep them separate. In practice, this means I wrap model data with business logic or add business logic on as a category of the model data.</p><h3>Who I Am</h3><p>To put it bluntly, it doesn’t matter who I am. I don’t think I’ve had a good original thought in my whole life. I’ve based my work on understanding patterns that other developers have created and applying them as best I can to the work I need to get done.</p><p>Since you asked, I’ve never worked in academia. I’ve been a software developer for the past 14 years. I’ve worked on code at all levels from drivers and debuggers to shiny custom views and silly apps. I’ve worked on iOS for the past 2½ years and have written many apps which have been released in the app store. I use my understanding of patterns to get my work done on time and on budget.</p><hr/><p><strong>Update</strong> More questions in comments.</p><h3>Models</h3><p>I try to keep my data models as clean as possible. Usually they are mostly properties, sometimes conforming to <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Protocols/NSCopying_Protocol/" rel="nofollow"><code>NSCopying</code></a>, <a href="https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Protocols/NSCoding_Protocol/" rel="nofollow"><code>NSCoding</code></a>, and/or a JSON mapping. More and more, I include <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/KeyValueCoding/Articles/Validation.html#//apple_ref/doc/uid/20002173-CJBDBHCB" rel="nofollow">Key-Value Validation</a>. This can be part of the data model or in a business logic category.</p><pre><code>- (BOOL)validateValue:(inout MyValue **)value error:(out NSError **)error
{
    if (![self complexTestWithValue:*value]) {
        if (error != NULL) {
            // Report error to caller.
            *error = [self errorInValidation];
        }

        return NO;
    }

    return YES;
}
</code></pre><h3>Business Logic</h3><p>In the past, I&#39;ve written lots of code which looks like</p><pre><code>[dataSource fetchObjectsWithInput:input completion:^(NSArray *objects, NSError *error) {
    // Model objects are in objects
}];
</code></pre><p>or</p><pre><code>[dataSource fetchObjectsWithInput:input completion:^(MyClassResult *result, NSError *error) {
    // Model objects are in result.objects
}];
</code></pre><p>Recently, I&#39;ve gotten into promises (I&#39;m using PromiseKit).</p><pre><code>[dataSource fetchObjectsWithInput:input].then(^(MyClassResult *result) {
    // Model objects are in result.objects
});
</code></pre><p>This has been a good general purpose factory pattern for Objective C.</p><p>I tend to write business logic computations in categories.</p><pre><code>@interface MyClass (BusinessLogic)

- (NSString *)textForValue; // A string to be used as label text.
- (MyResult *)computeOperationWithInput:(MyInput *)input error:(out NSError **error);
- (MyOtherClass *)otherObjectByTransformingValues;

@end
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../php-can-rest-api-be-used-as-business-layer/'>Php &#8211; Can REST API be used as business layer</a></li><li class="list-group-item"><a href='../java-mvc-pattern-with-jsf-spring-mybatis-webapp/'>Java &#8211; MVC pattern with JSF-Spring-MyBatis webapp</a></li><li class="list-group-item"><a href='../mvc-net-mvc-project-architecture-layering/'>Mvc &#8211; .NET MVC project architecture / layering</a></li><li class="list-group-item"><a href='../architecture-where-view-models-inside-web-project-of-n-tier-application-should-be-placed/'>Architecture &#8211; Where view models inside Web project of n-tier application should be placed</a></li><li class="list-group-item"><a href='../architecture-understanding-how-layers-are-separated-in-an-mvc-application/'>Architecture &#8211; Understanding how layers are separated in an MVC application</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>