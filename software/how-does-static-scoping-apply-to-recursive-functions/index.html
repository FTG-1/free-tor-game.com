<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How does static scoping apply to recursive functions &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083466 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083466" class="post-1083466 software type-software status-publish hentry category-software tag-programming-languages tag-scope"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How does static scoping apply to recursive functions</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">programming-languages</span><span class="mr-2 badge badge-info">scope</span></p><div class="entry-content"><p><strong>Under static scoping, by its definition, how can we determine the scope of a variable inside a recursive function?</strong></p><p>For example, in a pseudo-language,</p><pre><code>int i=1;

function myfun(){
  if (i &gt; 4){
    printf(&#34;%d\n&#34;, i);
  } else {
    ++i;  
    myfun();
  }
}

myfun();
</code></pre><p><code>i</code> changes in each call to <code>myfun</code></p><p>According to static scoping, it seems to me that it should print out <code>1</code> for <code>i</code>. But if I remember correctly in C, which is statically scoped, it will print out <code>5</code>.</p><p>If it prints out <code>5</code>, then <strong>what is the difference between dynamic scoping and static scoping for a variable inside a recursively defined function?</strong></p><p>Thanks.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Scoping tells us which <code>i</code> is being referred to when a line of code does so.</p><p>However, in your example, there is only one <code>i</code>, and it is in the global scope.  Since there is no local <code>i</code> declaration (neither as a parameter, nor an automatic variable), uses of <code>i</code> within the function must be referring to the global <code>i</code>.</p><hr/><p>Static scoping tells us which <code>i</code>, however, (recursive) activation is an orthogonal concept.</p><p>If you had a local variable <code>i</code> in scope, then the binding of uses of <code>i</code> would go that local variable.</p><p>And when recursion is used, the function is activated multiple times, and each activation gets its own <code>i</code>.  Each use of <code>i</code> refers to the local variable <em>in the current activation of the function</em> no matter the recursive depth.</p><p>Activation is an inherent property of languages that provide recursion, and any currently executing function knows its specific activation.</p><hr/><p>C doesn&#39;t support closures, so the conversation ends there for C.</p><p>However, in Javascript for example, you can have nested functions, and nested functions can access variables of the outer enclosing parents.  Static scoping here tells us once again which scope defines the variable used by an use of that name in some line of code.</p><p>However, even when the static scoping says that a variable binds to an outer enclosing context, if that outer enclosing context is recursively activated, there will be multiple copies of those variables and the appropriate one is chosen by following first the activation context, and then applying static scoping.</p><p>Note that in Javascript, a closure can be activated multiple times without recursion (because a closure can outlive the original function invocation and return), though the same applies.  First, the activation context is used before applying static scoping to that context.</p><p>In Javascript, due to nested functions, there is also a notion nested activations for the various scopes, so the notion of activations is a bit more complicated that in C as, for example, we can have different depths of recursion for inner nested functions than for the outer nested functions.  Still, the activations that create the variables of various scopes are understood during execution, and those provide the contexts for the application of static scoping.</p><hr/><p>To your comments below:</p><blockquote><p>does static scoping only determine which declaration in the code that a name refers to, but not determine anything about execution, while activations are about execution of the code?</p></blockquote><p>(1) Yes.  Though note that execution is constrained to follow the static scoping as follows: given a function and a nested function, if the outer function scope has a variable <code>i</code> from the static scope perspective, there will be some activation that corresponds to that static scope that introduced that <code>i</code> available when the inner scope runs (also with its own activation), otherwise the inner scope could not have been activated itself.  So, the static scope can be mapped to the activation, and vice versa, and we can say that the static scope at least tells us <em>something</em> about the pattern of activations.</p><blockquote><p>2). does dynamic scoping determine the same thing as static scoping does? So is it correct that dynamic scoping doesn&#39;t determine anything related to execution of the code, so dynamic scoping and activations are also orthogonal concepts to each other? But the way that dynamic scoping uses for the determination depend on execution of the code?</p></blockquote><p>(2) Dynamic scoping, depending on language, looks up the variables by the current activation stack (from most nested outward) rather than by the static scope.  Thus, there are inherent runtime implications, which is to say, it is much harder to optimize since lookup depends on the runtime call chain.</p><p>(Dynamic scoping is just plain confusing, if you ask me, though I&#39;m sure some programming problems lend themselves to that nicely.)</p><p>In any case, if an (inner) function declares its own local <code>i</code>, that <code>i</code> is going to be the one, whether statically scoped or dynamically scoped, and regardless of recursion.</p><p>The difference comes into play when the <code>i</code> isn&#39;t declared locally, so what gets found as a &#34;non-local&#34; reference to <code>i</code> is the difference.  In a dynamically scoped system, the nearest <code>i</code> on the activation stack would bind to the use.   This means that at runtime the activation stack is searched for an <code>i</code>.  It probably doesn&#39;t have to do string matching to find an <code>i</code> (though that is one possibility), but there has to be a bunch of machinery around declaring local variables for binding re: dynamic scoping (which is not exactly so necessary with static scoping).</p><p>(Whereas with static scoping, the trick is in having the activations available, given those, you &#34;know&#34; from compile time where <code>i</code> is within its outer scope, as you know statically what the exact function of that outer scope is.  In statically scoped system, a use of <code>i</code> would refer to the <code>i</code> that corresponded to the activation of that outer scope <em>that also activated the currently running inner scope</em>, so the outer scope and the inner scope are in some sense well connected.  By contrast, with dynamic scoping, completely different outer activations might hold the <code>i</code> of interest depending on the call chain.)</p><p>A directly recursive function that didn&#39;t declare a local <code>i</code>, would not find an <code>i</code> in itself or any recursive activation of itself, so would find <code>i</code> in some outer activation (but it could be any number of different possible functions that has an <code>i</code>).</p><p>If the recursive function participated in mutual recursion where one (or more) of the other functions did declare an <code>i</code>, that most recently activated one would supply any non-local usage of <code>i</code>.  Whew!  I have never programed that way so I otherwise don&#39;t have my head wrapped around how that would be useful.  (And as a compiler writer, I see significant performance challenges for dynamic scoping, though have never written a compiler for a dynamically scoped language.)</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../how-does-angularjs-manage-scope-in-ng-repeats/'>How does AngularJS manage scope in ng-repeats</a></li><li class="list-group-item"><a href='../what-does-weak-static-typing-strong-dynamic-typing-mean/'>What does weak static typing/strong dynamic typing mean</a></li><li class="list-group-item"><a href='../differences-between-deep-and-shallow-bindings-for-static-scoping/'>Differences between deep and shallow bindings for static scoping</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>