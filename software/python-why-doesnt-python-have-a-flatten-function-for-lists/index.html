<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Python &#8211; Why doesn&#8217;t Python have a &#8220;flatten&#8221; function for lists &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1063227 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1063227" class="post-1063227 software type-software status-publish hentry category-software tag-python tag-python-3-x"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Python &#8211; Why doesn&#8217;t Python have a &#8220;flatten&#8221; function for lists</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">python</span><span class="mr-2 badge badge-info">python-3.x</span></p><div class="entry-content"><p>Erlang and Ruby both come with functions for flattening arrays. It seems like such a simple and useful tool to add to a language. One could do this:</p><pre><code>&gt;&gt;&gt; mess = [[1, [2]], 3, [[[4, 5]], 6]]
&gt;&gt;&gt; mess.flatten()
[1, 2, 3, 4, 5, 6]
</code></pre><p>Or even:</p><pre><code>&gt;&gt;&gt; import itertools
&gt;&gt;&gt; mess = [[1, [2]], 3, [[[4, 5]], 6]]
&gt;&gt;&gt; list(itertools.flatten(mess))
[1, 2, 3, 4, 5, 6]
</code></pre><p>Instead, in Python, one has to go through the trouble of writing a function for flattening arrays from scratch. This seems silly to me, flattening arrays is such a common thing to do. It&#39;s like having to write a custom function for concatenating two arrays.</p><p>I have Googled this fruitlessly, so I&#39;m asking here; is there a particular reason why a mature language like Python 3, which comes with a hundred thousand various batteries included, doesn&#39;t provide a simple method of flattening arrays? Has the idea of including such a function been discussed and rejected at some point?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Proposals for a <code>flatten</code> function to be added to the standard library appear from time to time on <a href="https://mail.python.org/mailman/listinfo/python-dev">python-dev</a> and <a href="https://mail.python.org/mailman/listinfo/python-ideas">python-ideas</a> mailing lists. Python developers usually respond with the following points:</p><ol><li><p>A one-level flatten (turning an iterable of iterables into a single iterable) is a trivial one-line expression <code>(x for y in z for x in y)</code> and in any case is already in the standard library under the name <a href="https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable"><code>itertools.chain.from_iterable</code></a>.</p></li><li><p>What are the use cases for a general-purpose multi-level flatten? Are these really compelling enough for the function to be added to the standard library?</p></li><li><p>How would a general-purpose multi-level flatten decide when to flatten and when to leave alone? You might think that a rule like &#34;flatten anything that supports the iterable interface&#34; would work, but that would lead to an infinite loop for <code>flatten(&#39;a&#39;)</code>.</p></li></ol><p>See for example <a href="https://mail.python.org/pipermail/python-dev/2006-September/068957.html">Raymond Hettinger</a>:</p><blockquote><p>It has been discussed <em>ad nauseam</em> on comp.lang.python. People seem to
 enjoy writing their own versions of flatten more than finding legitimate
 use cases that don&#39;t already have trivial solutions.</p><p>A general purpose flattener needs some way to be told what is atomic and
 what can be further subdivided. Also, it is not obvious how the algorithm
 should be extended to cover inputs with tree-like data structures with
 data at nodes as well as the leaves (preorder, postorder, inorder
 traversal, etc.)</p></blockquote></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-why-doesnt-python-allow-multi-line-lambdas/'>Python &#8211; Why doesn&#8217;t Python allow multi-line lambdas</a></li><li class="list-group-item"><a href='../python-how-to-have-two-different-programs-with-two-different-languages-interact/'>Python &#8211; How to have two different programs with two different languages interact</a></li><li class="list-group-item"><a href='../python-why-doesnt-python-need-a-compiler/'>Python &#8211; Why doesn&#8217;t Python need a compiler</a></li><li class="list-group-item"><a href='../python-why-doesnt-haskell-have-a-format-function-for-string-interpolation/'>Python &#8211; Why doesn&#8217;t Haskell have a &#8216;format&#8217; function for string interpolation</a></li><li class="list-group-item"><a href='../python-why-python-doesnt-provide-optional-types/'>Python &#8211; Why python doesn&#8217;t provide optional types</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>