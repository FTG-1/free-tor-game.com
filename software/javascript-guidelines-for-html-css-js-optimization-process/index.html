<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Javascript &#8211; Guidelines for HTML/CSS/JS optimization process &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1081591 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1081591" class="post-1081591 software type-software status-publish hentry category-software tag-css tag-html tag-javascript tag-optimization tag-web-development"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Javascript &#8211; Guidelines for HTML/CSS/JS optimization process</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">css</span><span class="mr-2 badge badge-info">html</span><span class="mr-2 badge badge-warning">javascript</span><span class="mr-2 badge badge-primary">optimization</span><span class="mr-2 badge badge-danger">web-development</span></p><div class="entry-content"><p>Currently we have a Development server on which we write the HTML/CSS/JS code. We do not optimize our code using compressors/minifiers. So our deployment process from Development to Production is simply to copy the files on the Development server to the Production server.</p><p>But now we are planning to use compressors/minifiers. We are confused about the process we should follow. Currently we use a single JS file called common.js and a single CSS file called common.css. Also now we are planning to use multiple CSS files in Dev like reset.css, common.css, etc. and when deploying them to production we will be combining them to a single CSS file.</p><p>The simplest process I can think of is:</p><ol><li>Make an exact copy of the development files on the Development server. Use the copy in the further steps.</li><li>Combine all CSS files to a single CSS file say common.css. Same with JS files. Delete the other files for example reset.css.</li><li>Compress/minify common.css and common.js to common.min.css and common.min.js.<br /> Delete common.css and common.js.</li><li>In all the HTML files remove all link tags and script tags except for common.css and common.js</li><li>In all the HTML files modify the script src and link href from common.js to common.min.js and common.css to common.min.css.</li><li>Copy all the files to Production server.</li><li>Delete the copy</li></ol><p>This looks too tedious for us. What can be a better process? Is there any tool which can do the optimization (above steps) automatically. It looks like it would not be very difficult to write a script which performs all of the above steps. But I would like to use an existing tool rather than developing one myself. I would like to put the efforts only if such a tool does not exist.</p><p>Also when is the testing generally performed? I think it should be performed on the optimized files (just in case the compressors have some bug). But then the process would become more tedious as the above process would have to be repeated after every Test-Bugfix cycle.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I worked on a project which were very close to your situation. The requirements were the following:</p><ol><li>On development side, each page can have one or several JavaScript files and one or several CSS files. All those files are local.</li><li>In production, there must be one and one only JavaScript file and one and one only CSS file. Those two files are hosted on a distant server, optimized for static files and configured for client and server side caching.</li><li>Each page has a link to JQuery hosted at Google CDN in both development and production environments.</li><li>The deployment process must be automated.</li><li>The deployment process must not modify files other than JavaScript and CSS files for compression.</li><li>The website is written in ASP.NET.</li><li>Every page of the website uses the same CSS and the same JavaScript.</li><li>On development side, CSS and JavaScript files are always in a specific predefined directory.</li></ol><p>Here what was done by my colleague who worked on this part of the project.</p><ol><li>All files except JQuery are minified and combined into two files: <code>g.css</code> and <code>g.js</code>, <code>g</code> for <code>global</code>. This is simply done by walking though the specific directory and searching for those files. After minifying them, the two files are send to the static content server, if they were changed since the last deployment.</li><li>The process is executed at every build, since we couldn&#39;t find how to execute it at deployment only. It doesn&#39;t matter, after all, since it takes a few milliseconds to walk through all files and check if they were modified since the last build.</li><li>The website is deployed as is, except the original JavaScript and CSS files. We don&#39;t need them in production.</li><li>The masterpage (in ASP.NET) contains a specific method which is adjusting the calls to the JavaScript and CSS files depending of the context.</li></ol><p>This method is like this:</p><pre><code>public string MakeCssCalls(IList&lt;string&gt; cssFiles)
{
    // ...
}
</code></pre><p>In development environment, it returned the links to CSS files inside the <code>cssFiles</code> argument. In production, it ignored this argument and just returned <code>&#34;&lt;link rel=&#34;stylesheet&#34; href=&#34;http://static.example.com/g.css&#34; type=&#34;text/css&#34; /&gt;&#34;</code>. It made the difference between production and development by comparing the machine name to the list of names in <code>Web.config</code> file: some machines were configured as being development machines; all machines outside this list were assumed production servers.</p><hr/><p>Performance-wise, it would be smarter to have a different <code>Web.config</code> file for production, indicating that we are actually in production (and, for example, precising the exact link to the static server with those files; in our case it was hardcoded, and that sucks). We couldn&#39;t do it this way because one of the requirements of this project was to have a single <code>Web.config</code> file for all environments, but if you can, do it.</p><hr/><blockquote><p>Also when is the testing generally performed? I think it should be performed on the optimized files (just in case the compressors have some bug).</p></blockquote><p>We tested the website on non-minified versions of files. We never had any bug coming from Google Closure (nor our home-made crappy CSS minifier).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../web-development-why-dont-we-use-dynamic-server-side-generated-css/'>Web-development &#8211; Why don&#8217;t we use dynamic (server-side generated) CSS</a></li><li class="list-group-item"><a href='../web-development-should-you-really-keep-your-js-html-and-css-separate/'>Web-development &#8211; Should you really keep your js, html and css separate</a></li><li class="list-group-item"><a href='../javascript-how-to-write-html-css-and-javascript-to-make-back-end-developers-work-easier/'>Javascript &#8211; How to write HTML, CSS, and JavaScript to make back-end developers work easier</a></li><li class="list-group-item"><a href='../why-use-skins-if-we-can-handle-server-controls-with-css-in-asp-net/'>Why use skins if we can handle server controls with CSS in ASP.Net</a></li><li class="list-group-item"><a href='../web-development-what-process-should-i-follow-to-implement-code-a-web-site-in-html5-css/'>Web-development &#8211; What process should I follow to implement (code) a web site in HTML5/CSS</a></li><li class="list-group-item"><a href='../for-html-report-generation-should-css-be-put-into-stylesheet-or-written-into-the-html-file/'>For HTML report generation, should CSS be put into stylesheet or written into the html file</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>