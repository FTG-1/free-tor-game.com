<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# &#8211; Should I null check in base class or derived class c# &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085613 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085613" class="post-1085613 software type-software status-publish hentry category-software tag-c tag-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# &#8211; Should I null check in base class or derived class c#</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">design</span></p><div class="entry-content"><p>I have a base class that has an abstract method;</p><pre><code>public abstract void DoSomething(ClassA obj);
</code></pre><p>I have several derived classes each implementing this method and each checks obj for null (there is no case in any derived class where this should ever be null)e.g.</p><pre><code>public override void DoSomething(ClassA obj)
{
    if(obj == null) throw new NullReferenceException();
    //Do other stuff...
}
</code></pre><p>It has occurred to me that I could refactor this;</p><pre><code>public void DoSomething(ClassA obj)
{
    if(obj == null) throw new NullReferenceException();
    NextThing(obj)
}
protected abstract void NextThing(ClassA obj);
</code></pre><p>I now don&#39;t have to write a null check for each and every implementation because NextThing is &#34;guaranteed&#34; to have a none-null obj, but only if NextThing is only ever called by DoSomething. Is this a good idea or should I continue as I am?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>It is a general rule that validity checks on arguments should be perfomed in any public method of any public class (visible to other assemblies). If you want to be even more defensive about arguments validity, check arguments of:</p><ul><li>protected methods of public classes</li><li>public methods of internal classes</li><li>protected methods of internal classes</li></ul><p>The approach you suggested is a very good example and excellent use of <a href="http://www.dofactory.com/net/template-method-design-pattern" rel="nofollow noreferrer">Template Method Pattern</a>. The main reason for me to say this is the sentence from your question:</p><blockquote><p>I have several derived classes each implementing this method and each checks obj for null (there is no case in any derived class where this should ever be null)</p></blockquote><p>So, you have the same pattern in all derived classes:</p><ol><li>Perform a check</li><li>Do some action</li></ol><p>You simply used the existing pattern and separated responsibilities of the public method, which is a good practice.</p><p>The only downside to this approach is if you happen to come across a situation where it is OK for a derived class to receive a null argument. Personally, the only situation where I see this as a valid scenario is if there is a valid default value for the argument to be provided by derived class if the argument is a null. In that case, you can flirt with breaking <a href="https://martinfowler.com/bliki/Yagni.html" rel="nofollow noreferrer">YAGNI</a> and do something like this:</p><pre><code>public abstract class BaseClass
{  
    public void DoSomething(ClassA obj)
    {
        ArgumentCheck(obj);
        NextThing(obj);
    }

    protected virtual void ArgumentCheck(ClassA obj)
    {
        if(obj == null) 
        {
            throw new ArgumentNullException();
        }
    }

    protected abstract void NextThing(ClassA obj);
}
</code></pre><p>Then, if such a need arises, you can always override the <code>ArgumentCheck(ClassA obj)</code> method to not throw exception in a particular class. The good thing here is that you can go with the original approach, and in case the need for this arises, you can perform this kind of refactoring without affecting the other classes.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-abstract-exception-super-type/'>C# &#8211; Abstract exception super type</a></li><li class="list-group-item"><a href='../c-derived-class-method-naming/'>C# &#8211; Derived Class Method Naming</a></li><li class="list-group-item"><a href='../c-help-with-inheritance-hierarchy-design/'>C# &#8211; Help with inheritance hierarchy design</a></li><li class="list-group-item"><a href='../c-empty-virtual-method-on-base-class-vs-abstract-methods/'>C# &#8211; Empty virtual method on base class VS abstract methods</a></li><li class="list-group-item"><a href='../c-force-derived-class-to-implement-static-method-c/'>C# &#8211; Force Derived Class to Implement Static Method C#</a></li><li class="list-group-item"><a href='../c-abstract-property-in-base-class-to-force-programmer-to-define-it/'>C# &#8211; Abstract Property In Base Class To Force Programmer To Define It</a></li><li class="list-group-item"><a href='../c-how-should-you-look-at-unit-testing-protected-members-used-by-the-abstract-base-class/'>C# &#8211; How should you look at unit testing protected members used by the abstract base class</a></li><li class="list-group-item"><a href='../c-if-functions-have-to-do-null-checks-before-doing-the-intended-behaviour-is-this-bad-design/'>C# &#8211; If functions have to do null checks before doing the intended behaviour is this bad design</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>