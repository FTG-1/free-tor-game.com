<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Complex roles, permissions and hierarchical group management in Laravel &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082994 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082994" class="post-1082994 software type-software status-publish hentry category-software tag-laravel tag-permissions tag-project-structure tag-roles"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Complex roles, permissions and hierarchical group management in Laravel</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">laravel</span><span class="mr-2 badge badge-info">permissions</span><span class="mr-2 badge badge-warning">project-structure</span><span class="mr-2 badge badge-primary">roles</span></p><div class="entry-content"><p>I&#39;m currently in the planning phase / feasability study of a rather big web application which is meant to be implemented using Laravel.<br /> My own experience on the matter is rather limited but I&#39;d like to take the opportunity to further my skills and, if successful, release the basis of the code under MIT license for anyone to use.</p><p><strong>The task at hand (sorry for the essay but it&#39;s rather complex):</strong></p><p>I&#39;m working for a company with a rather complex customer and service structure: We offer multiple services, ranging from risk assessment to education (online and on-site) in workplace safety, security data sheets for products, environmental questions, data protection etc. and want to create a platform that allows us to manage our customer and service structure while also giving our customers access to these services online, including API support.<br /> Customers may have entirely different company hierarchies, ranging from a small company of 10 employees that just distinguishes between regular employees and management to companies with thousands of employees with complex hierarchies including multiple branches, departments, sites and project management.</p><p>Some of our services are specific to sites, some to departments, some to branches, some to projects (e.g. a construction project) and/or to the whole company. We wish to have different access levels for different employees of the customers and the optional ability for customer admins to manage their own users/permissions.</p><p>The idea was to create a global management platform which manages the whole customer, user and permission structure with the individual services being split up into different apps which are included in the global platform but can individually be assigned to each customer with the ability to assign certain roles for users and groups to each app, also users can have multiple group memberships and different roles in different groups.<br /> These apps not only include our services, but also basic functionality like user and group management.<br /> The management of the platform should be separate from the user part, meaning our employees should have access via an administrative dashboard while also having the ability to assign a certain customer to a certain employee of ours with the permission to manage one or more specific service for this customer.</p><p>Here is the idea for a database structure I had:<br /> <a href="../../../i.stack.imgur.com/X9Wq6.png" rel="nofollow noreferrer"><img src="../../../i.stack.imgur.com/X9Wq6.png" alt="Database structure"/></a><br /> The individual services/apps will have their own respective tables except for the ones which are there for global management functionality like user management.</p><p><strong>The questions I have:</strong></p><ol><li>Is this even feasible to do with Laravel? If not, what are the alternatives?</li><li>Is my database structure ok or compeletely stupid for the task at hand?</li><li>Which are the Laravel plugins I should look into?</li><li>Any other directions, e.g. folder structure within the laravel project folder etc.?</li></ol></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>First off, i&#39;d like to clarify that i&#39;m fairly new in Laravel myself and that there are far more experienced people in terms of Software Engineering. So please take my answer with a grain of salt. I am however working on a big application myself for the last 2 months using Laravel. I will also try to answer your question &#39;as is&#39; which seems to be focused on <strong>Laravel</strong>.</p><blockquote><p>Is this even feasible to do with Laravel? If not, what are the
 alternatives?</p></blockquote><p>From your question i cannot see why this would not be possible using Laravel.</p><blockquote><p>Is my database structure ok or compeletely stupid for the task at hand?</p></blockquote><p>As it is right now, this is unclear to me. Make sure you can solve every possible problem with your DB structure. In the process of designing, you have to ask youself many tough questions.</p><ul><li>What if people leave?</li><li>What if a company fuses / takes a on a completely different structure?</li><li>What if people get a completely different role? But have done important tasks for that organisation in the past?</li><li>Could i add things without getting into trouble?</li></ul><p>And countless more.</p><blockquote><p>Which are the Laravel plugins I should look into?</p></blockquote><p>Well i can recommend a general direction.</p><ul><li>Authentication? <a href="https://laravel.com/docs/6.x/authentication" rel="nofollow noreferrer">Laravel/ui package</a></li><li>Management Dashboard? <a href="https://nova.laravel.com/" rel="nofollow noreferrer">Nova</a></li><li>Api? <a href="https://github.com/tymondesigns/jwt-auth" rel="nofollow noreferrer">JWT-auth</a> for stateless.</li><li>Deployment? <a href="https://vapor.laravel.com/" rel="nofollow noreferrer">Vapor</a></li><li>Hotel? <a href="http://www.trivago.com/" rel="nofollow noreferrer">Trivago</a></li></ul><p>Remember that Laravel already has done the bulk of the work for you. So when you have come up with a general solution, make sure you <strong>always check the docs</strong>. I cannot tell you how much time this saved me.</p><blockquote><p>Any other directions, e.g. folder structure within the laravel project folder etc.?</p></blockquote><p>Yes! You will most likely need versioning of some sort (especially within your API. )
This will save you alot of trouble when trying to expand your application. You can achieve this easily using Route <a href="https://laravel.com/docs/5.7/routing#route-groups" rel="nofollow noreferrer">groups</a> and <a href="https://laravel.com/docs/5.7/routing#route-group-prefixes" rel="nofollow noreferrer">prefixing</a>.</p><p>For example, create a Api route group using <code>v1</code>. Now every route within this group will begin with <code>/api/v1/</code>. Now when you have to change your api, you won&#39;t agitate everyone using your api.</p><p>While your application is growing and changing, make sure you take a closer look at <a href="https://laravel.com/docs/6.x/eloquent-resources" rel="nofollow noreferrer">Eloquent&#39;s resources</a>. This will allow you to stay flexible, and not break your application when you have to make changes to your database.</p><p>Again, i know there is alot more to your question. But i tried to take a look at your post from the perspective of utilities offered by Laravel.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../php-roles-and-permissions-a-good-approach-in-defining-permissions/'>Php &#8211; Roles and permissions: a good approach in defining permissions</a></li><li class="list-group-item"><a href='../php-fine-grained-data-level-permissions-on-a-laravel-restful-api/'>Php &#8211; Fine-grained data level permissions on a laravel RESTful API</a></li><li class="list-group-item"><a href='../managing-permissions-in-hierarchical-groups/'>Managing permissions in hierarchical groups</a></li><li class="list-group-item"><a href='../how-to-integrate-laravel-passport-oauth-scopes-and-roles-and-permissions/'>How to integrate Laravel passport, oauth scopes and roles and permissions</a></li><li class="list-group-item"><a href='../php-best-architecture-for-a-laravel-app-with-a-frontend-users-and-backend-admins-only/'>Php &#8211; Best architecture for a Laravel app with a frontend (users) and backend (admins only)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>