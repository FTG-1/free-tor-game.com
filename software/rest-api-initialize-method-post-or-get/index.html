<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Rest &#8211; API &#8220;initialize&#8221; method: POST or GET &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1076968 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1076968" class="post-1076968 software type-software status-publish hentry category-software tag-api tag-http tag-methods tag-rest"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Rest &#8211; API &#8220;initialize&#8221; method: POST or GET</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">api</span><span class="mr-2 badge badge-info">http</span><span class="mr-2 badge badge-warning">methods</span><span class="mr-2 badge badge-primary">rest</span></p><div class="entry-content"><p>We faced an issue with an API &#34;init&#34; method, and trying to understand if we must use GET or POST http method in context of REST.</p><p><strong>Preconditions:</strong> SPA on the frontend which communicates with our backend  using REST API. SPA is meant to work with a 3-rd party service through our API.</p><p><strong>Description:</strong> When user loads the SPA, frontend calls API method &#34;init&#34;. This method does the following:</p><ol><li>Check if user registered on the 3-rd party services.</li><li>If it does not, register him on that services.</li><li>Always return &#34;successful&#34; response (except for internal server errors or problems during the communication with the 3-rd party service).</li></ol><p><strong>The question is:</strong> can we use GET method for this &#34;init&#34; or should we use POST instead.</p><p>These are pros and cons:</p><p><strong>Why <em>GET</em></strong>:</p><ol><li>We can use it during the page initialization (POST can be used only once the page is loaded)</li><li>We do not send any data for this method (except for user token in the headers)</li></ol><p><strong>Why <em>POST</em></strong></p><ol><li>It seems like we should use post in such cases, because it provides some basic initialization, checks if everything&#39;s alright, and does not return anything, until some internal error is happened.</li></ol><p>So we can&#39;t decide, in context of REST specification, what is the correct http method for this API call: GET or POST? GET looks more convenient, but we&#39;re not sure it&#39;s okay to use GET for this API method according to the REST ideology.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Key to the question of using GET is whether the semantics of the operation are <a href="https://www.rfc-editor.org/rfc/rfc7231#section-4.2.1" rel="nofollow noreferrer">safe</a>:</p><blockquote><p>Request methods are considered &#34;safe&#34; if their defined semantics are essentially read-only; i.e., the client does not request, and does not expect, any state change on the origin server as a result of applying a safe method to a target resource.  Likewise, reasonable use of a safe method is not expected to cause any harm, loss of property, or unusual burden on the origin server.</p><p>The purpose of distinguishing between safe and unsafe methods is to allow automated retrieval processes (spiders) and cache performance optimization (pre-fetching) to work without fear of causing harm.</p></blockquote><p>In short: if you are using GET, you are telling clients and intermediary components that they can request the resource any time they like, even if the end consumer hasn&#39;t asked for it.</p><p>By definition, safe methods are necessarily also <a href="https://www.rfc-editor.org/rfc/rfc7231#section-4.2.2" rel="nofollow noreferrer">idempotent</a></p><blockquote><p>A request method is considered &#34;idempotent&#34; if the intended effect on the server of multiple identical requests with that method is the same as the effect for a single such request</p></blockquote><p>Meaning, for example, if the client sends a GET request, and <em>doesn&#39;t get a response</em>, they expect to be able to send the request again, and repeat it as many times as necessary until an answer arrives.</p><p>If those semantics aren&#39;t acceptable, then you probably shouldn&#39;t be using GET.</p><p>RFC 7231 does offer an example of a case where the &#34;safe&#34; semantic is appropriate even though there are significant side effects when handling the request</p><blockquote><p>a safe request initiated by selecting an advertisement on the Web will often have the side effect of charging an advertising account.</p></blockquote><p>From your description, it sounds to me like this could be a case where <code>GET</code> is an acceptable choice.</p><blockquote><p>Agree with the idempotent analysis, but prefer PUT</p></blockquote><p>Certainly &#34;register me if not registered&#34; is an idempotent action.  It&#39;s not clear to me from the description whether that&#39;s an intended part of the protocol, or if it is really an implementation detail.</p><p>But the semantics of PUT are more than just &#34;idempotent&#34;; in particular, they imply that the client understands an appropriate representation of the resource.  It&#39;s not clear from the original description whether the client is expected to be familiar with the details of registration, or if that&#39;s an implementation detail of the client.</p><p>Furthermore, the most common media type for hypermedia representations is still HTML, and HTML forms <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=10671" rel="nofollow noreferrer">don&#39;t support PUT</a>.  So you either need to augment your representation with <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_7" rel="nofollow noreferrer">code on demand</a>, or you need to replace your representations with some other media type that supports PUT actions.</p><p>Of course, many API discard the <a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven" rel="nofollow noreferrer">hypermedia constraint</a>; which makes the PUT method more palatable.</p><blockquote><p>Frontend should not bother about any registration things, it just says us: &#34;okay, I&#39;m here, do whatever you need to get ready to work&#34;. Does this mean we should use GET then?</p></blockquote><p>I suspect that is the case: your description reminds me a lot of a read-through cache; with the client asking &#34;give me the current representation&#34;, and the server worrying about the details (do we have a current representation? do we need to revalidate it?).  A lot of the power of REST comes from its caching semantics.</p><p>It may help to review this remark from <a href="https://lists.w3.org/Archives/Public/www-tag/2002Apr/0207.html" rel="nofollow noreferrer">Roy Fielding in 2002</a></p><blockquote><p>HTTP does not attempt to require the results of a GET to be safe.<br/> What it does is require that the semantics of the operation be safe,
and therefore it is a fault of the implementation, not the interface
or the user of that interface, if anything happens as a result that
causes loss of property (money, BTW, is considered property for the
sake of this definition).</p></blockquote></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../rest-too-many-rest-api-calls-on-a-page/'>Rest &#8211; Too many REST API calls on a page</a></li><li class="list-group-item"><a href='../rest-is-it-normal-design-to-completely-decouple-backend-and-frontend-web-applications-and-allow-them-to-communicate-with-json-rest-api/'>Rest &#8211; Is it normal design to completely decouple backend and frontend web applications and allow them to communicate with (JSON) REST API</a></li><li class="list-group-item"><a href='../rest-automating-rest-api-calls-chaining/'>Rest &#8211; Automating REST API calls chaining</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>