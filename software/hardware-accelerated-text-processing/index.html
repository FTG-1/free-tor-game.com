<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Hardware accelerated text processing &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1078777 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1078777" class="post-1078777 software type-software status-publish hentry category-software tag-cpu tag-gpu tag-hardware tag-text-processing"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Hardware accelerated text processing</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">cpu</span><span class="mr-2 badge badge-info">gpu</span><span class="mr-2 badge badge-warning">hardware</span><span class="mr-2 badge badge-primary">text processing</span></p><div class="entry-content"><p>Graphics processing units (GPUs) are very common and allow for efficient, parallel processing of floating point numbers.<br /> PPUs (Physics Processing Units) used to be a buzzword several years ago but never really caught on and this kind of calculation is now handled by GPUs as well.<br /> Both of these types of hardware are specialized in the processing of a specific kind of data.</p><p>Looking at the kinds of applications being developed worldwide, it seems that a great many of them have to do with text processing. Particularly when web development is considered.</p><p>It seems to me that it would make sense to implement basic string operations (concatenation, reversal, maybe search, character-level operations such as replacement) at hardware level, possibly making those operations orders of magnitude faster than they are when performed on a typical CPU.</p><p>Does this sort of hardware exist? If it doesn&#39;t, what makes it infeasible? Varying length? Arbitrary encoding? I believe these are a bit similar to what we&#39;ve got in case floating point numbers (varying precision, different encodings possible).</p><p>I know some vendors sell devices specifically designed to handle text processing/search. The Google Search Appliance is an example thereof but as far as I know, it&#39;s just a normal computer with dedicated software and the hardware does not feature anything as exotic as a processor specifically design to crunch text.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p><em>(Disclaimer: I don&#39;t have information on the percentages of occurrence of various elementary string operations found in common software. The following answer is just my two cents of contribution to address some of your points.)</em></p><hr/><p>To give a quick example, Intel provides SIMD instructions for accelerating string operations in its <a href="http://en.wikipedia.org/wiki/SSE4#SSE4.2" rel="nofollow noreferrer">SSE 4.2 instruction set (link to wikipedia article)</a>. Example of using these instructions to build useful language-level string functions can be found <a href="http://www.strchr.com/strcmp_and_strlen_using_sse_4.2" rel="nofollow noreferrer">on this website</a>.</p><p>What do these instructions do?</p><ul><li>Given a 16-byte string fragment (either 16 counts of 8-bit characters or 8 counts of 16-bit characters),</li><li>In &#34;Equal Each&#34; mode, it performs an exact match with another string fragment of same length.</li><li>In &#34;Equal Any&#34; mode, it highlights the occurrence of characters which match a small set of characters given by another string. An example is &#34;aeiouy&#34;, which detects the vowels in English words.</li><li>In &#34;Range comparison&#34; mode, it compares each character to one or more character ranges. An example of character range is <code>azAZ</code>, in which the first pair of characters specifies the range of lower-case English alphabets, and the second pair specifies the upper-case alphabets.</li><li>In &#34;Equal ordered&#34; mode, it performs a substring search.</li></ul><p><em>(All examples above are taken from the above linked website, with some paraphrasing.)</em></p><hr/><p>Before beginning a discussion on this topic, it is necessary to gather the prerequisite knowledge needed for such discussion.</p><p>It is assumed that you already have college-level introductory knowledge of:</p><ul><li><a href="http://rads.stackoverflow.com/amzn/click/012383872X" rel="nofollow noreferrer">CPU architecture</a></li><li>Digital design and synthesis, which teaches introductory level of <a href="http://en.wikipedia.org/wiki/Hardware_description_language" rel="nofollow noreferrer">Hardware Description Language</a>, such as <a href="http://rads.stackoverflow.com/amzn/click/0132599708" rel="nofollow noreferrer">Verilog</a> or VHDL.</li><li>And finally, a practicum project where you use the above knowledge to build something (say, a simple 16-bit ALU, or a multiplier, or some hardware input string pattern detection logic based on state machine), and perform a cost counting (in logic gates and silicon area) and benchmarking of the things being built.</li></ul><hr/><p>First of all, we must revisit the various schemes for the in-memory representation of strings.</p><p>This is because the practicum in hardware design should have informed you that a lot of things in hardware had to be &#34;hard-wired&#34;. Hardware can implement complex logic but the wiring between those logic are hard-wired.</p><p>My knowledge in this aspect is very little. But just to give a few examples, <a href="http://en.wikipedia.org/wiki/Rope_(data_structure)" rel="nofollow noreferrer">rope</a>, &#34;cord&#34;, &#34;twine&#34;, <code>StringBuffer</code> (<code>StringBuilder</code>) etc. are all legit contenders for the in-memory representation of strings.</p><p>Even in C++ alone, you still have two choices: implicit-length strings (also known as null-terminated strings), and explicit-length strings (in which the length is stored in a field of the string class, and is updated whenever the string is modified).</p><p>Finally, in some languages the designer has made the decision of making string objects immutable. That is, if one wish to modify a string, the only way to do so is to:</p><ul><li>Copy the string and apply the modification on-the-fly, or</li><li><em>Refer to</em> substrings (slices) of the original immutable string and <em>declare</em> the modifications that one wish to have applied. The modification isn&#39;t actually <em>evaluated</em> until the new result is <em>consumed</em> by some other code.</li></ul><p>There is also a side question of how strings are allocated in memory.</p><hr/><p>Now you can see that, in software, a lot of wonderful (or crazy) design choices exist. There has been lots of research into how to implement these various choices in hardware. (In fact, this has been a favorite way of formulating a master&#39;s thesis for a degree in digital design.)</p><p>All this is fine, except that due to economic reasons, a hardware vendor cannot justify the cost of supporting a language/library designer&#39;s crazy ideas about what a string <em>should be</em>.</p><p>A hardware vendor typically has full access to every master&#39;s thesis written by every student (in digital design) in the world. Thus, a hardware vendor&#39;s decision of not including such features must be well-informed.</p><hr/><p>Now let&#39;s go back to the very basic, common-sense question: &#34;What string operations are among the most-frequently performed in the typical software, and how can they benefit from hardware acceleration&#34;?</p><p>I don&#39;t have hard figures, but my guess is that <strong><em>string copying verbatim</em></strong> is probably the #1 operation being performed.</p><p>Is string copying already accelerated by hardware? It depends on the expected lengths of strings. If the library code knows that it is copying a string of several thousand characters or more, without modification, it could have easily converted the operation into a <code>memcpy</code>, which internally uses CPU SIMD (vectorized instructions) to perform the memory movement.</p><p>Furthermore, on these new CPU architectures there is the choice of keeping the moved string in CPU cache (for subsequent operations) versus removing it from the CPU cache (to avoid cache pollution).</p><p>But how often does one need to copy such long strings?</p><p>It turns out that the standard C++ library had to optimize for the other case:</p><ul><li><a href="https://stackoverflow.com/questions/21694302/what-are-the-mechanics-of-short-string-optimization-in-libc">https://stackoverflow.com/questions/21694302/what-are-the-mechanics-of-short-string-optimization-in-libc</a></li></ul><p>That is, strings with lengths in the low-ten&#39;s occur with such high frequency that special cases have to be made to minimize the overhead of memory management for these short strings. Go figure.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/domain-specific-language-for-text-search-processing/'>Domain-specific language for text search/processing</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/hardware-debugging/'>Hardware debugging</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>