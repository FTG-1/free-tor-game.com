<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Can readmodel and writemodel inherit from Model for fields in DDD + CQRS &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1083294 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1083294" class="post-1083294 software type-software status-publish hentry category-software tag-cqrs tag-domain-driven-design tag-domain-model"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Can readmodel and writemodel inherit from Model for fields in DDD + CQRS</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">cqrs</span><span class="mr-2 badge badge-info">domain-driven-design</span><span class="mr-2 badge badge-warning">domain-model</span></p><div class="entry-content"><p>I&#39;m new to <code>DDD</code> + <code>CQRS</code>, and I&#39;m working in a project that has this implemented, but I wonder why the guy duplicates the models.</p><p>I understand, that one is for writing (commands) and one is for reading, but both implement the same fields, except that <code>ReadModel</code> only has getters.</p><p>Is there any advice against having the fields (<code>id</code>, <code>name</code>, <code>socialnumber</code>, etc) of a relational database AND getters in a model then inherit them in <code>WriteModel</code> and <code>ReadModel</code>?</p><p>For example:</p><p><code>Abstract UserModel</code></p><p><code>UserReadModel</code> inherits <code>UserModel</code></p><p><code>UserWriteModel</code> inherits <code>UserModel</code></p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Sharing a base model is against everything that <code>CQRS</code> stands for.
If your models (write and read) are 99% percent then it is a <code>CRUD</code> architecture painted to look like <code>CQRS</code>.</p><p>You must split the write from the read because the two models have different behaviors: the write model is concerned with ensuring the invariants and the read model is concerned with the reading and displaying the data to the user. It is normal that some of the fields are shared but only as concepts. In the write side, you create <code>Commands</code> that have those fields, send them to the write models (<code>Aggregates</code> in <code>DDD</code>) and generate <code>events</code> that have some of the fields from the <code>commands</code>. In the read side you read the <code>events</code> and create some simple persistence objects, with no behavior that ensure the invariants; they can have behavior but a different kind from the write models.</p><p>On the read side you could have <em>mega</em> objects that contain fields from multiple write models. The main idea of the read models is to be <strong>very fast</strong> (i.e. no <code>JOINS</code>), so you include in a <code>row</code> or <code>document</code> all you need to display the data to the users.</p><p>On the other side, the write side, you put in <code>commands</code> only the minimum information needed to maintain the <code>invariants</code> (i.e. you refer other Aggregate roots only by their IDs).</p><p>So, as a metaphor, the write and read models are like matter and antimatter: they should not collide; they are separated (decoupled) by events that act like a magnetic fields.</p><p><em>UPDATE:</em></p><p>The read models only see the events generated by the Aggregates (the write models); they don&#39;t query the write models as it is forbidden; so the write models have only <code>command methods</code> and no <code>query methods</code>; on the other hand, the read models have only <code>query methods</code> (i.e. <code>getters</code>) and no <code>command methods</code>; the read models are immutable; the only way to <code>mutate</code> the read models is by listening to the <code>events</code> and apply those <code>events</code> them.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/are-domain-objects-in-domain-driven-design-only-supposed-to-be-write-only/'>Are Domain Objects in Domain Driven Design only supposed to be write-only</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/how-to-use-ddd-to-solve-a-common-address-situation/'>How to use DDD to solve a common address situation</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/rest-conceptual-mismatch-between-ddd-application-services-and-rest-api/'>Rest &#8211; Conceptual mismatch between DDD Application Services and REST API</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/ddd-cqrs-per-query-and-per-command-authorization/'>DDD CQRS &#8211; per-query and per-command authorization</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/cqrs-ddd-event-sourcing-can-the-readmodel-read-itself/'>CQRS / DDD + Event Sourcing. Can the ReadModel read itself</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/c-data-entities-domain-entities-and-the-repositories/'>C# &#8211; Data Entities, Domain entities and the repositories</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>