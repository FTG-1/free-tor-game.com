<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Architecture for Online-Offline Web Application &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1078729 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1078729" class="post-1078729 software type-software status-publish hentry category-software tag-architecture tag-offline tag-web"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Architecture for Online-Offline Web Application</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">offline</span><span class="mr-2 badge badge-warning">web</span></p><div class="entry-content"><p>I have a data-driven legacy system (has a Java Swing client and a JavaEE application server) in my workplace, This system uses a single database for querying and modifying data.</p><p>Recently we&#39;ve been asked to write a new web application that implements some of the already-existing features of the legacy system.</p><p>The application should work both online and offline &#8211; offline times can be for an hour or so but might as well be for a few minutes.</p><p>This is what we thought to implement for <strong>offline only</strong> functionality:</p><ul><li>Using Service Worker to store static app files (so we could access it when offline).</li><li>Fetching data when going to offline mode and storing it inside the local db.</li><li>Reading from the local db (IndexedDB).</li><li>Performed operations will reside in the local database in a queue form.</li><li>Syncing back performed operations from the queue when going back online (as a one batch, some actions may have a dependency on others).</li></ul><p>To let the application be as general as possible and prevent repeating offline/online checks, we thought about this solution for adding online functionality:</p><ul><li>Requests to fetch data (upon page or component load) will go to the remote server and update the <strong>local database</strong>, which will be requested afterwards.</li><li>Performed operations will be added to the operations queue (same as the offline one).</li><li>Polling the queue and invoking the remote server, updating the client in an async manner.</li></ul><p>Assume that only one client can update a certain set of data, so no server-side synchronization problems here.</p><p>Is this a maintainable and scalable approach ?</p><p>There is also another consideration here &#8211; the REST api that the server exposes.<br /> If i use the same api for batching operations and single operations, it should be a general api that accepts different types of actions, command-like principle.</p><p>I didn&#39;t hear much about this kind of service which leads me to think this isn&#39;t a good REST design, is there another way of implementing it?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>You know your system the best - requirements and limitations. Here are some general things which I would consider when planning architecture of such a system:</p><p>1) Would you like to perform some operations on client side (and duplicating business logic) or you want to perform business logic only on the server? E.g In the offline mode I created order but then decided to cancel. <br/> 2) How time consuming can be replaying all actions when back to online mode? Should other actions be blocked then? Or maybe you want to queue them when synchronization is in progress. E.g. Let&#39;s assume that I created 100 orders. When I go online again synchronization starts. Now I want to cancel one order but I can&#39;t do it because there is possibly cancel action already on the queue. <br/> 3) Regarding REST endpoint - it can be simply as</p><pre><code>/synchronization-queue { actions : [{ type : &#34;ORDER_CREATED&#34;, ...}, {...}, {...}, ...]
</code></pre><p>4) Depending on your use case you can consider using Event Sourcing (but think twice before) <br/> 5) Do you plan to update client application frequently? <br/> 6) Are there any critical operations which can&#39;t be performed offline? How do they affect other actions?<br/> 7) If there is no synchronization problem and access to your resources is exclusive per client application then you always only need to sync from client to server (unless the same client can use e.g. other device)<br/> 8) Some operations may require confirmation from the server. You need to identify these operations and decide if they can be considered successful even without server confirmation. <br/> And much more...</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../javascript-strategy-for-generating-unique-and-secure-identifiers-for-use-in-a-sometimes-offline-web-app/'>Javascript &#8211; Strategy for generating unique and secure identifiers for use in a &#8220;sometimes offline&#8221; web app</a></li><li class="list-group-item"><a href='../design-a-good-software-architecture-for-pos-with-offline-mode/'>Design &#8211;  a good software architecture for POS with offline mode</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>