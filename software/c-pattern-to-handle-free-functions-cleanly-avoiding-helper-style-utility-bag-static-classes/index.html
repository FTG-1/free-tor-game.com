<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>C# pattern to handle &#8220;free functions&#8221; cleanly, avoiding Helper-style &#8220;utility bag&#8221; static classes &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1068759 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1068759" class="post-1068759 software type-software status-publish hentry category-software tag-c tag-design-patterns"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">C# pattern to handle &#8220;free functions&#8221; cleanly, avoiding Helper-style &#8220;utility bag&#8221; static classes</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">c</span><span class="mr-2 badge badge-info">design-patterns</span></p><div class="entry-content"><p>I was recently reviewing a few Helper-style &#34;utility bag&#34; static classes floating around some large C# codebases I work with, things basically like the following very condensed snippet:</p><pre><code>// Helpers.cs

public static class Helpers
{
    public static void DoSomething() {}
    public static void DoSomethingElse() {}
}
</code></pre><p>The specific methods I&#39;ve reviewed are</p><ul><li>mostly unrelated to each other,</li><li>without explicit state persisted across invocations,</li><li>small, and</li><li>each consumed by a variety of unrelated types.</li></ul><p><em>Edit: The above is not intended to be a list of alleged problems. It&#39;s a list of common characteristics of the specific methods I&#39;m reviewing. It&#39;s context to help answers provide more relevant solutions.</em></p><p>Just for this question, I&#39;ll refer to this kind of method as a GLUM (general lightweight utility method). The negative connotation of &#34;glum&#34; is partly intended. I&#39;m sorry if this comes across as a dumb pun.</p><p>Even putting aside my own default skepticism about GLUMs, I don&#39;t like the following things about this:</p><ul><li>A static class is being used solely as a namespace.</li><li>The static class identifier is basically meaningless.</li><li>When a new GLUM gets added, either (a) this &#34;bag&#34; class gets touched for no good reason or (b) a new &#34;bag&#34; class gets created (which in itself is not usually an issue; what&#39;s bad is that the new static classes often just repeat the unrelatedness problem, but with fewer methods).</li><li>The meta-naming is inescapably awful, non-standard, and usually internally inconsistent, whether it&#39;s <code>Helpers</code>, <code>Utilities</code>, or whatever.</li></ul><p>What&#39;s a reasonably good &amp; simple pattern for refactoring this, preferably addressing the above concerns, and preferably with as light a touch as possible?</p><p>I should probably emphasize: <em>All the methods I&#39;m dealing with are pairwise unrelated to each other.</em> There doesn&#39;t seem to be a reasonable way to break them down into finer-grained yet still multi-member static class method-bags.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I think you have two problems closely related to each other.</p><ul><li>Static classes contains logically unrelated functions</li><li>Names of static classes do not provide helpful information about
meaning/context of the contained functions.</li></ul><p>These problems can be fixed by combining only logically related methods into one static class and moving the others into their own static class.  Based on your problem domain, you and your team should decide what criteria you will use for separating methods into related static classes.</p><h3>Concerns and possible solutions</h3><p><em>Methods are mostly unrelated to each other</em> - <strong>problem.</strong> Combine related methods under one static class and move unrelated methods to their own static classes.</p><p><em>Methods are without explicit state persisted across invocations</em> - <strong>not a problem.</strong> Stateless methods are a feature, not a bug. Static state is difficult to test anyway, and should only be used if you need to maintain state across method invocations, but there are better ways to do that such as state machines and the <code>yield</code> keyword.</p><p><em>Methods are small</em> - <strong>not a problem.</strong> - Methods <em>should</em> be small.</p><p><em>Methods are each consumed by a variety of unrelated types</em> - <strong>not a problem.</strong> You have created a general method which can be re-used in many not related places.</p><p><em>A static class is being used solely as a namespace</em> - <strong>not a problem.</strong> This is how static methods are used. If this style of calling methods bothers you, try using extension methods or the <code>using static</code> declaration.</p><p><em>The static class identifier is basically meaningless</em> - <strong>problem</strong>.
It is meaningless because developers are putting unrelated methods in it. Put unrelated methods into their own static classes and give them specific and understandable names.</p><p><em>When a new GLUM gets added, either (a) this &#34;bag&#34; class gets touched (SRP sadness)</em> - <strong>not a problem</strong> if you follow idea that only logically related methods should be in one static class. <code>SRP</code> is not violated here, because principle should be applied for classes or for methods. Single responsibility of static classes means to contain different methods for one general &#34;idea&#34;. That idea can be a feature or a conversion, or iterations(LINQ), or data normalization, or validation ...</p><p><em>or less frequently (b) a new &#34;bag&#34; class gets created (more bags)</em> - <strong>not a problem.</strong> Classes/static classes/functions - are our(developers) tools, which we use for designing software. Does your team have some limits for using classes? What are maximum limits for &#34;more bags&#34;? Programming is all about context, if for solution in your particular context you end up with 200 static classes which understandably named, logically placed in namespaces/folders with logical hierarchy - it is not a problem.</p><p><em>The meta-naming is inescapably awful, non-standard, and usually internally inconsistent, whether it&#39;s Helpers, Utilities, or whatever</em> - <strong>problem.</strong> Provide better names that describe expected behaviour.  Keep only related methods in one class, which provide help in better naming.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-are-utility-classes-with-nothing-but-static-members-an-anti-pattern-in-c/'>C++ &#8211; Are utility classes with nothing but static members an anti-pattern in C++</a></li><li class="list-group-item"><a href='../java-design-pattern-for-util-classes-and-general-static-variables/'>Java &#8211; Design Pattern For Util Classes and General Static Variables</a></li><li class="list-group-item"><a href='../java-should-constructors-ever-be-used-only-for-side-effects/'>Java &#8211; Should constructors ever be used only for side-effects</a></li><li class="list-group-item"><a href='../is-the-use-of-helper-or-util-classes-containing-just-static-methods-an-antipattern/'>Is the use of ***Helper or *** Util classes containing just static methods an AntiPattern</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>