<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Techniques for parsing XML &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1070146 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1070146" class="post-1070146 software type-software status-publish hentry category-software tag-language-agnostic tag-parsing tag-xml"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Techniques for parsing XML</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">language-agnostic</span><span class="mr-2 badge badge-info">parsing</span><span class="mr-2 badge badge-warning">xml</span></p><div class="entry-content"><p>I&#39;ve always found XML somewhat cumbersome to process.  I&#39;m not talking about implementing an XML parser: I&#39;m talking about <em>using</em> an existing stream-based parser, like a SAX parser, which processes the XML node by node.</p><p>Yes, it&#39;s really easy to learn the various APIs for these parsers, but whenever I look at code that processes XML I always find it to be somewhat convoluted.  The essential problem seems to be that an XML document is logically separated into individual nodes, and yet the data <em>types</em> and attributes are often separated from the actual data, sometimes by multiple levels of nesting.  Therefore, when processing any particular node individually, a lot of extra state needs to be maintained to determine <em>where we are</em> and <em>what we need to do next.</em></p><p>For example, given a snippet from a typical XML document:</p><pre><code>&lt;book&gt;
  &lt;title&gt;Blah blah&lt;/title&gt;
  &lt;author&gt;Blah blah&lt;/author&gt;
  &lt;price&gt;15 USD&lt;/price&gt;
&lt;/book&gt;
</code></pre><p>&#8230;How would I determine when I&#39;ve encountered a text node containing a book title?  Suppose we have a simple XML parser which acts like an iterator, giving us the next node in the XML document everytime we call <code>XMLParser.getNextNode()</code>.  I inevitably find myself writing code like the following:</p><pre><code>boolean insideBookNode = false;
boolean insideTitleNode = false;

while (!XMLParser.finished())
{
    ....
    XMLNode n = XMLParser.getNextNode();

    if (n.type() == XMLTextNode)
    {
        if (insideBookNode &amp;&amp; insideTitleNode)
        {
            // We have a book title, so do something with it
        }
    }
    else
    {
        if (n.type() == XMLStartTag)
        {
            if (n.name().equals(&#34;book&#34;)) insideBookNode = true
            else if (n.name().equals(&#34;title&#34;)) insideTitleNode = true;
        }
        else if (n.type() == XMLEndTag)
        {
            if (n.name().equals(&#34;book&#34;)) insideBookNode = false;
            else if (n.name().equals(&#34;title&#34;)) insideTitleNode = false;
        }
    }
}
</code></pre><p>Basically, the XML processing quickly turns into a huge, state-machine driven loop, with lots of state variables used to indicate parent nodes we&#39;ve found earlier.  Otherwise, a stack object needs to be maintained to keep track of all the nested tags.  This quickly becomes error-prone and difficult to maintain.</p><p>Again, the problem seems to be that the data we&#39;re interested in is not directly associated with an individual node.  Sure, it could be, if we wrote the XML like:</p><pre><code>&lt;book title=&#34;Blah blah&#34; author=&#34;blah blah&#34; price=&#34;15 USD&#34; /&gt;
</code></pre><p>&#8230;but this is rarely how XML is used in reality.  Mostly we have text nodes as children of parent nodes, and we need to keep track of the parent nodes in order to determine what a text node refers to.</p><p>So&#8230;am I doing something wrong? Is there a better way? At what point does using an XML stream-based parser become too cumbersome, so that a fully-fledged DOM parser becomes necessary?  I&#39;d like to hear from other programmers what sort of idioms they use when processing XML with stream-based parsers.  Must stream-based XML parsing always turn into a huge state machine?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>To me, the question is the other way round.  At what point does an XML Document become so cumbersome, that you have to start using SAX instead of DOM?</p><p>I would only use SAX for a very large, indeterminately-sized stream of data; or if the behaviour the XML is intended to invoke is really event-driven, and therefore SAX-like.</p><p>The example you give looks very DOM-like to me.</p><ol><li>Load the XML</li><li>Extract the title node(s) and &#34;do something with them&#34;.</li></ol><p>EDIT:
I&#39;d also use SAX for streams that may be malformed, but where I want make a best-guess at getting the data out.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../c-xml-parsing-suggestions-on-approach-for-parsing-and-storing-data/'>C++ XML Parsing: Suggestions on Approach for Parsing and Storing data</a></li><li class="list-group-item"><a href='../c-fastest-c-xml-parsing-library/'>C++ &#8211; Fastest C++ XML parsing library</a></li><li class="list-group-item"><a href='../design-would-this-be-a-good-web-application-architecture/'>Design &#8211; Would this be a good web application architecture</a></li><li class="list-group-item"><a href='../java-optimize-strategies-for-xml-parsing/'>Java &#8211; Optimize strategies for xml parsing</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>