<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Design &#8211; Functions that simply call another function, bad design choice &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1064990 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1064990" class="post-1064990 software type-software status-publish hentry category-software tag-clean-code tag-code-quality tag-coding-style tag-design"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Design &#8211; Functions that simply call another function, bad design choice</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">clean code</span><span class="mr-2 badge badge-info">code-quality</span><span class="mr-2 badge badge-warning">coding-style</span><span class="mr-2 badge badge-primary">design</span></p><div class="entry-content"><p>I have a setup of a class that represents a building. This building has a floor plan, which has bounds.</p><p>The way I have it setup is like this:</p><pre class="lang-java prettyprint-override"><code>public struct Bounds {} // AABB bounding box stuff

//Floor contains bounds and mesh data to update textures etc
//internal since only building should have direct access to it no one else
internal class Floor {  
    private Bounds bounds; // private only floor has access to
}

//a building that has a floor (among other stats)
public class Building{ // the object that has a floor
    Floor floor;
}
</code></pre><p>These objects have their own unique reasons to exist as they do different things. However there is one situation, where I want to get a point locally to the building.</p><p>In this situation I am essentially doing:</p><pre class="lang-java prettyprint-override"><code>Building.GetLocalPoint(worldPoint);
</code></pre><p>This then has:</p><pre class="lang-java prettyprint-override"><code>public Vector3 GetLocalPoint(Vector3 worldPoint){    
    return floor.GetLocalPoint(worldPoint);
}
</code></pre><p>Which leads to this function in my <code>Floor</code> object:</p><pre class="lang-java prettyprint-override"><code>internal Vector3 GetLocalPoint(Vector3 worldPoint){
    return bounds.GetLocalPoint(worldPoint);
}
</code></pre><p>And then of course the bounds object actually does the math required.</p><p>As you can see these functions are pretty redundant as they just pass on to another function lower down. This doesn&#39;t feel smart to me &#8211; it smells like bad code thats going to bite me in butt some where down the line with code mess.</p><p>Alternatively I write my code like below but I have to expose more to public which I kinda don&#39;t want to do:</p><pre class="lang-java prettyprint-override"><code>building.floor.bounds.GetLocalPoint(worldPoint);
</code></pre><p>This also starts to get a bit silly when you go to many nested objects and leads to large rabbit holes to get your given function and you may end up forgetting where it is &#8211; which also smells like bad code design.</p><p>What is the correct way to design all this?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Never forget the <a href="https://en.wikipedia.org/wiki/Law_of_Demeter" rel="noreferrer">Law of Demeter</a>:</p><blockquote><p>The Law of Demeter (LoD) or <strong>principle of least knowledge</strong> is a design guideline for developing software, particularly object-oriented programs. In its general form, the LoD is a specific case of loose coupling. The guideline was proposed by Ian Holland at Northeastern University towards the end of 1987, and can be succinctly summarized in each of the following ways:[1]</p><ul><li>Each unit should have only limited knowledge about other units: only units &#34;closely&#34; related to the current unit.</li><li>Each unit should only talk to its friends; don&#39;t talk to strangers.</li><li><strong>Only talk to your immediate friends</strong>.</li></ul><p>The fundamental notion is that a given object should assume as little as possible about the structure or properties of anything else (<strong>including its subcomponents)</strong>, in accordance with the principle of &#34;information hiding&#34;.<br/> It may be viewed as a corollary to the principle of least privilege, which dictates that a module possess only the information and resources necessary for its legitimate purpose.</p></blockquote><hr/><pre class="lang-java prettyprint-override"><code>building.floor.bounds.GetLocalPoint(worldPoint);
</code></pre><p>This code violates the LOD. Your current consumer somehow is required to know:</p><ul><li>That the building has a <code>floor</code></li><li>That the floor has <code>bounds</code></li><li>That the bounds have a <code>GetLocalPoint</code> method</li></ul><p>But in reality, your consumer should only be handling the <code>building</code>, not anything inside of the building (it shouldn&#39;t be handling the subcomponents directly).</p><p>If <strong>any</strong> of these underlying classes change structurally, you&#39;re suddenly also required to change this consumer, even though he may be several levels up from the class you actually changed.<br/> This starts infringing on the separation of layers you have, as a change affects multiple layers (more than just its direct neighbors).</p><pre class="lang-java prettyprint-override"><code>public Vector3 GetLocalPoint(Vector3 worldPoint){    
    return floor.GetLocalPoint(worldPoint);
}
</code></pre><p>Suppose you introduce a second type of building, one without a floor. I can&#39;t think of an real-world example, but I&#39;m trying to show a generalized use case, so let&#39;s assume that <code>EtherealBuilding</code> is such a case.</p><p>Because you have the <code>building.GetLocalPoint</code> method, you are able to change its workings without the consumer of your building being aware of it, e.g.:</p><pre class="lang-java prettyprint-override"><code>public class EtherealBuilding : Building {
    public Vector3 GetLocalPoint(Vector3 worldPoint){    
        return universe.CenterPoint; // Just a random example
    }
}
</code></pre><p>What&#39;s making this harder to understand is that there is no clear use case for a building without a floor. I don&#39;t know your domain and I can&#39;t make a judgment call on if/how that would occur.</p><p>But development guidelines are generalized approaches that forgo specific contextual applications. If we change the context, the example becomes clearer:</p><pre class="lang-java prettyprint-override"><code>// Violating LOD

bool isAlive = player.heart.IsBeating();

// But what if the player is a robot?

public class HumanPlayer : Player {
    public bool IsAlive() {
        return this.heart.IsBeating();
    }
}

public class RobotPlayer : Player {
    public bool IsAlive() {
        return this.IsSwitchedOn();
    }
}

// This code works for both human and robot players, and thus wouldn&#39;t need to be changed when new (sub)types of players are developed.

bool isAlive = player.IsAlive();
</code></pre><p>Which proves the point why the method on the <code>Player</code> class (or any of its derived classes) <strong>has a purpose, even if its current implementation is trivial</strong>.</p><hr/><blockquote><p><strong><em>Sidenote</em></strong><br/> <em>For the sake of example, I&#39;ve skirted a few tangential discussions, such as how to approach inheritance. These are not the focus of the answer.</em></p></blockquote></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-object-oriented-class-design/'>Java &#8211; Object-Oriented Class Design</a></li><li class="list-group-item"><a href='../do-i-suffer-from-encapsulation-overuse/'>Do I suffer from encapsulation overuse</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>