<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Is it still valid to speak about anemic model in the context of functional programming &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1069268 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1069268" class="post-1069268 software type-software status-publish hentry category-software tag-domain-driven-design tag-functional-programming"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Is it still valid to speak about anemic model in the context of functional programming</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">domain-driven-design</span><span class="mr-2 badge badge-info">functional programming</span></p><div class="entry-content"><p>Most of DDD tactical design patterns belong to object-oriented paradigm, and anemic model describes the situation when all business logic is put into services rather than objects thus making them a kind of DTO. In other words anemic model is a synonym of procedural style, which is not advised for complex model.</p><p>I am not very experienced in pure functional programming, yet I&#39;d like to know how DDD fits into FP paradigm and whether term &#39;anemic model&#39; still exists in that case.</p><p><strong>Update</strong>: Recentlry published <a href="https://pragprog.com/book/swdddf/domain-modeling-made-functional" rel="noreferrer">book</a> and <a href="https://www.youtube.com/watch?v=Up7LcbGZFuo" rel="noreferrer">video</a> on the subject.</p><p>And one more <a href="https://www.youtube.com/watch?v=USSkidmaS6w" rel="noreferrer">video</a> from Scott.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>The way the &#34;anemic model&#34; problem is described doesn&#39;t translate well to FP as is. First it needs to be suitably generalized. At it&#39;s heart, an anemic model is a model which contains knowledge about how to properly use it that isn&#39;t encapsulated by the model itself. Instead, that knowledge is spread around a pile of related services. Those services should only be <em>clients</em> of the model, but due to its anemia they&#39;re held <em>responsible</em> for it. For example, consider an <code>Account</code> class that can&#39;t be used to activate or deactivate accounts or even lookup information about an account unless handled via an <code>AccountManager</code> class. The account should be responsible for basic operations on it, not some external manager class.</p><p>In functional programming, a similar problem exists when data types don&#39;t accurately represent what they&#39;re supposed to model. Suppose we need to define a type representing user IDs. An &#34;anemic&#34; definition would state that user IDs are strings. That&#39;s technically feasible, but runs into huge problems because user IDs <em>aren&#39;t</em> used like arbitrary strings. It makes no sense to concatenate them or slice out substrings of them, Unicode shouldn&#39;t really matter, and they should be easily embeddable in URLs and other contexts with strict character and format limitations.</p><p>Solving this problem usually happens in a few stages. A simple first cut is to say &#34;Well, a <code>UserID</code> is represented equivalently to a string, but they&#39;re <em>different types</em> and you can&#39;t use one where you expect the other.&#34; Haskell (and some other typed functional languages) provides this feature via <code>newtype</code>:</p><pre><code>newtype UserID = UserID String
</code></pre><p>This defines a <code>UserID</code> function which when given a <code>String</code> constructs a value that is <em>treated like</em> a <code>UserID</code> by the type system, but which is still just a <code>String</code> at runtime. Now functions can declare that they require a <code>UserID</code> instead of a string; using <code>UserID</code>s where you previously were using strings guards against code concatenating two <code>UserID</code>s together. The type system <em>guarantees</em> that can&#39;t happen, no tests required.</p><p>The weakness here is that code can still take any arbitrary <code>String</code> like <code>&#34;hello&#34;</code> and construct a <code>UserID</code> from it. Further steps include creating a &#34;smart constructor&#34; function which when given a string checks some invariants and only returns a <code>UserID</code> if they&#39;re satisfied. Then the &#34;dumb&#34; <code>UserID</code> constructor is made private so if a client wants a <code>UserID</code> they <em>must</em> use the smart constructor, thereby preventing malformed UserIDs from coming into existence.</p><p>Even further steps define the <code>UserID</code> data type in such a way that it&#39;s <em>impossible</em> to construct one that&#39;s malformed or &#34;improper&#34;, simply by definition. For instance, defining a <code>UserID</code> as a list of digits:</p><pre><code>data Digit = Zero | One | Two | Three | Four | Five | Six | Seven | Eight | Nine
data UserID = UserID [Digit]
</code></pre><p>To construct a <code>UserID</code> a list of digits must be provided. Given this definition, it&#39;s trivial to show that it&#39;s impossible for a <code>UserID</code> to exist that can&#39;t be represented in a URL. Defining data models like this in Haskell is often aided by advanced type system features like <a href="https://downloads.haskell.org/~ghc/7.6.2/docs/html/users_guide/promotion.html">Data Kinds</a> and <a href="https://wiki.haskell.org/Generalised_algebraic_datatype">Generalized Algebraic Data Types (GADTs)</a>, which allow the type system to define and prove more invariants about your code. When data is decoupled from behavior your data definition is the only means you have to enforce behavior.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../what-does-polyadic-mean-in-the-context-of-functional-programming-and-type-systems/'>What does &#8220;polyadic&#8221; mean in the context of functional programming and type systems</a></li><li class="list-group-item"><a href='../c-rich-domain-models-how-exactly-does-behavior-fit-in/'>C# &#8211; Rich Domain Models &#8212; how, exactly, does behavior fit in</a></li><li class="list-group-item"><a href='../javascript-are-generator-functions-valid-in-functional-programming/'>Javascript &#8211; Are generator functions valid in functional programming</a></li><li class="list-group-item"><a href='../in-the-context-of-functional-programming-what-are-total-functions-and-partial-functions/'>In the context of functional programming, what are &#8216;total&#8217; functions and &#8216;partial&#8217; functions</a></li><li class="list-group-item"><a href='../c-control-abstraction-in-the-context-of-functional-programming/'>C# &#8211;  control abstraction in the context of functional programming</a></li><li class="list-group-item"><a href='../sqlalchethe-and-ddd-its-own-pattern/'>SQLAlchethe and DDD: It&#8217;s own pattern</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>