<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Php &#8211; Tracking hours with clock in/out &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080582 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080582" class="post-1080582 software type-software status-publish hentry category-software tag-mysql tag-php tag-time"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Php &#8211; Tracking hours with clock in/out</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">MySQL</span><span class="mr-2 badge badge-info">PHP</span><span class="mr-2 badge badge-warning">time</span></p><div class="entry-content"><p>I am working on a web interface that would allow the user to keep track of the amount of time people spend at their establishment.</p><p><strong>The problem:</strong></p><p>I don&#39;t know what the best way to keep track of this time would be. I have come up with a couple ideas on how this could be accomplished, but none of them are as elegant as I would like them to be.<br /> I could:</p><ol><li>Store clocks in a MySQL database and calculate hours when requested.</li><li>Store clocks <b>and</b> hours which would be calculated every time they clock out.</li></ol><p> <strong>Why these solutions aren&#39;t good enough:</strong></p><ol><li>Calculating the hours per request would rely heavily on a person clocking in and out in sequence in order to get this done elegantly. This would offer no flexibility when it comes to people forgetting to clock out. Maybe improper clock order could be flagged as a discrepancy and it won&#39;t calculate hours until it is resolved? It also seems like the query to get sequential clock ins/outs and determine the difference between them would be cumbersome.</li><li>Calculating hours every time a person clocks out seems a little more reasonable, but then you would have to account for people forgetting to clock out. If someone forgets to clock out for a month, they would come back with a bunch of hours and the user would have inaccurate records.</li></ol><p> I ask because I may be looking at this problem too closely and am failing to see an obvious solution. Any suggestions?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Your database should be concerned with the facts. The interpretation of the facts does not need to be stored in the database, because it can be calculated on demand, each time you need to display the number of hours between clock-in and clock-out events.</p><p>Sure, it might be a bit harder, but trust me, you will have to come up with the algorithm anyway, because at some point the need will arise to recalculate everyone&#39;s hours. So, since you will come up with the algorithm, you might as well keep using it each time you need to display hours in the application, instead of each time you perform a clock-out on the database.</p><p>Discrepancies in the data due to a person forgetting to clock out is something that you need to handle, either when it is time to show the number of hours, or, better yet, by means of a batch, recurring process which looks for discrepancies and fixes them by inserting extra events to the database.  So, for example, I would run such a process at midnight every day to clock out everyone who apparently forgot to clock out.  (I would also keep track of the fact that this clock-out was system-issued and not user-issued.)</p><p>As a bonus, here is a query for Microsoft Access (in MS-SQL Server compatibility mode) that I wrote a long time ago to calculate employee shifts, given clock in and clock out events. <code>Actions.TypeId</code>=2 means we have a clocked state change, (the system supports other types of events too,) and when that happens, then <code>Actions.Data</code>=&#39;0&#39; for a clock-out, while <code>Actions.Data</code>=&#39;1&#39; for a clock-in.</p><pre><code>SELECT 
    Employees.Id, 
    PunchIn,
    (SELECT TOP 1 DateTime FROM Actions 
      WHERE EmployeeId = Employees.Id AND TypeId=2 AND Data=&#39;0&#39; 
        AND DateTime &gt; PunchIn ORDER BY Id) 
    AS PunchOut, 
    (PunchOut-PunchIn) AS Duration
FROM Employees LEFT JOIN 
    (SELECT Actions.EmployeeId, Actions.DateTime AS PunchIn
       FROM Actions 
      WHERE Actions.TypeId=2 AND Actions.Data=&#39;1&#39;) 
    AS PunchIns 
    ON Employees.Id=PunchIns.EmployeeId
ORDER BY Employees.Id, PunchIn;
</code></pre></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../php-examples-of-designing-a-database-that-handles-point-tracking/'>Php &#8211; Examples of designing a database that handles point tracking</a></li><li class="list-group-item"><a href='../tracking-time-users-spend-on-the-website/'>Tracking time users spend on the website</a></li><li class="list-group-item"><a href='../how-much-time-should-you-allow-for-clock-skew/'>How much time should you allow for clock skew</a></li><li class="list-group-item"><a href='../php-synchronize-database-with-external-api/'>Php &#8211; Synchronize database with external API</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>