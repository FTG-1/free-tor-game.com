<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>What are the options for exposing customization settings to the admin user &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1085311 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1085311" class="post-1085311 software type-software status-publish hentry category-software tag-asp-net-mvc"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">What are the options for exposing customization settings to the admin user</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">asp.net-mvc</span></p><div class="entry-content"><p>I&#39;m writing a blog system as a learning exercise and I would like to allow the admin (or blog owner) to select/change some custom options based on features that I choose to expose to them such as:</p><ul><li>change blog name (string)</li><li>select layout (int)</li><li>number of blog entries per page (int)</li><li>more stuff like this&#8230;</li></ul><p>The only way that I can really think of to do this is by creating a class, with a property for each option and letting the owner get and set the properties.</p><p><strong>What are my options for exposing customization settings to the admin / owner?</strong></p><hr/><p>This is how I&#39;ve implemented it for the time-being, although I am aware that this may <em>not</em> be the best way to do this:</p><p>I&#39;ve created a class called Setting.cs</p><pre><code>    public class Setting : IEntity
    {
        [Key]
        public int Id { get; set; }
        public string BlogName { get; set; }
        public string SubTitle { get; set; }
        public int PostsPerPage { get; set; }

    }
</code></pre><p>Then I added a settings method to my Admin Dashboard controller like this:</p><pre><code>    public ActionResult Settings(int? id = 1)
    {
        if (id == null)
        {
            return new HttpStatusCodeResult(HttpStatusCode.BadRequest);
        }
        Setting set = db.Settings.Find(id);

        if (set == null)
        {
            return HttpNotFound();
        }
        return View(set);
    }


    [HttpPost]
    [ValidateAntiForgeryToken]
    [ValidateInput(false)]
    public ActionResult Settings([Bind(Include = &#34;Id,BlogName,SubTitle,PostsPerPage&#34;)] Setting sets)
    {
        if (ModelState.IsValid)
        {
            db.Entry(sets).State = System.Data.Entity.EntityState.Modified;
            db.SaveChanges();
            return RedirectToAction(&#34;Index&#34;, &#34;Dashboard&#34;);
        }
        return View(sets);
    }
</code></pre><p>I then seed the record and just retrieve the same record and update it with the new settings each time.</p><p><strong>I suppose I should state my concerns:</strong></p><ul><li>It seems strange to store a single row of data in it&#39;s own table of my database.</li><li>It also seems strange that if one wanted to, one could instantiate the Settings.cs class and possibly make multiple records of it.</li><li>I&#39;ve hard-coded my controller with the record ID, as well as any calls to the controller, which to me feels like I&#39;m abusing the intended purpose of using a controller by hard coding it.</li></ul><p>I&#39;m new to programming but this doesn&#39;t seem right to me. In Swift iOS programming I could create a pList (flat-file) or store settings in the NSUserDefaults. I&#39;m just wondering what my options are in ASP.NET MVC.</p><p>I originally wanted to ask &#34;What&#39;s the best way to implement admin/owner settings?&#34; but I didn&#39;t want my question closed as being subjective. I am, however, hoping to deduce what the preferred method is ultimately to adhere to best practices.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>My experience is that the &#34;settings&#34; supported by C# out of the box are not very useful.</p><p>Storing the settings in the database is a much better idea for a number of reasons.</p><ol><li><p>It will be possible to take a complete backup of the blog by backing up the database without having to remember what other files you need.</p></li><li><p>If you one day decide to take this system of yours, which currently implements a single blog for a single user, and turn it into a blogging platform supporting many blogs operated by multiple users, you will just create multiple settings records, one for each user, and at least that part will be taken care of.  With a settings file, such a thing would be impossible, you would certainly have to rewrite your settings mechanism to make use of the database at that point.</p></li><li><p>Your settings may need to refer to rows in the database, in which case it only makes sense to also store the settings in the database in order to enjoy the benefits of referential integrity checking. For example, you may wish to add a setting for a &#34;sticky post&#34; which is to always be displayed first, regardless of how old it is. If you go with a settings file, then the &#34;sticky post id&#34; setting will be just a meaningless number, interpreted by your code to (hopefully) correspond to a blog post.  If you store your settings in the database, then the RDBMS will ensure that this number will in fact be the actual id of an existing row in the blog posts table.  (Or NULL, if you don&#39;t want a sticky post.)</p></li></ol><p>Need I go on?</p><p>The way this is usually accomplished is by having a settings table with a single row in it.  This is not just a wild idea that you had, it is a legitimate technique which has actual application in the real world.</p><p>There is no way to guarantee that additional rows will never be accidentally added to the settings table, but at least you can count the rows during startup and display an error message if more than one row is found.</p><p>You can easily guarantee that there will always be only one instance of the settings object by adding a <code>private static bool</code> member to it, and <code>Assert</code>ing from the constructor of the object that this <code>bool</code> is <code>false</code>, then setting it to <code>true</code>. This means that the constructor may only be invoked once.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../what-are-the-definitive-guidelines-for-custom-error-handling-in-asp-net-mvc-3/'>What are the definitive guidelines for custom Error Handling in ASP.NET MVC 3</a></li><li class="list-group-item"><a href='../c-the-standard-for-modeling-modern-applications-prior-to-development/'>C# &#8211;  the standard for modeling modern applications prior to development</a></li><li class="list-group-item"><a href='../what-are-the-differences-between-castle-monorail-3-over-asp-net-mvc/'>What are the differences between Castle Monorail 3 over ASP.Net MVC</a></li><li class="list-group-item"><a href='../in-what-situations-will-windows-based-authentication-for-the-asp-net-mvc-web-application-fail-to-allow-users-from-accessing-the-web-application/'>In what situations will Windows-based authentication for the ASP.NET MVC web application fail to allow users from accessing the web application</a></li><li class="list-group-item"><a href='../what-are-the-tradeoffs-for-using-partial-view-models/'>What are the tradeoffs for using &#8216;partial view models&#8217;</a></li><li class="list-group-item"><a href='../mvc-where-to-put-user-interface-domain-model-manipulation-logic-transferring-data-from-the-view-to-domain-model/'>Mvc &#8211; Where to put User Interface/Domain Model manipulation logic (transferring data from the view to Domain Model)</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>