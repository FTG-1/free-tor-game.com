<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Java &#8211; What are the time and space complexities of this recursive method that reverses a singly linked list &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1082819 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1082819" class="post-1082819 software type-software status-publish hentry category-software tag-complexity tag-java tag-linked-list tag-recursion"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Java &#8211; What are the time and space complexities of this recursive method that reverses a singly linked list</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">complexity</span><span class="mr-2 badge badge-info">java</span><span class="mr-2 badge badge-warning">linked list</span><span class="mr-2 badge badge-primary">recursion</span></p><div class="entry-content"><p>What are the Time and Space complexities of this Java method that reverses a singly linked list (of length n)?</p><p>I&#39;m more interested in knowing the reasoning behind the space complexity. Let me know if you&#39;d like me to provide <code>LinkedListNodeSingly</code> and a convenience applet.</p><p>I believe both space and time complexities here are <code>O(n)</code>. Time is <code>O(n)</code> since we go to the tail and work backwards through each of the <code>n</code> nodes.  I&#39;m unsure if space is <code>O(n)</code> because even though we create <code>new_head</code> for each frame, we happen to point it to an existing node (starting in the base case) and just pass that up. So, though we create <code>n</code> references, they all point to the same location which holds one value.  So, is space <code>O(1)</code> even in the case where we perform <code>LinkedListNodeSingly new_head = null;</code> and &#39;return new_head&#39;?</p><pre><code>/**
 * Inspired by: http://www.programmerinterview.com/index.php/data-structures/reverse-a-linked-list/
 * 
 * Time: O(n), at least I think so, since it is recursive, going through each node once for list of size n
 * Space: O(1), if we don&#39;t use a return val, but since we do, each frame would create new_head once, for O(n)
 */
public static LinkedListNodeSingly reverseUsingRecursion(LinkedListNodeSingly node) {
    if(node == null)
        return null;

    LinkedListNodeSingly new_head = null;

    //base case, where we swap the head (very first node) with the tail (very last node)
    if(node.next == null) {
        new_head = node; //node is tail here
        return new_head; //don&#39;t need a return overall, really
    }

    //don&#39;t need a return overall, really
    new_head = reverseUsingRecursion(node.next);

    /* This next line is key.  It is better understood with an example. 
     * For list 1 2 3 4, we refer to each node by the data, e.g.: node 4 is the last (tail) node.
     * Going over the call stack:
     *  1. base case reached after 4th call to reverseUsingRecursion: return new_head == node 4 
     *  2. returning from base case, we&#39;re at node 3&#39;s frame: 
     *      2.1 We want node 4 to point back to node 3.
     *          Since node3.next == 4, node3.next.next = node3 sets node4.next to node3
     *      2.2 Since we want node3 to no longer to point to node4, we do node3.next = null.
     *          This breaks the previous direction of the singly list list between these two nodes.
     *          Q: Would we swap here if we were reversing a doubly linked list?
     *      2.3 We return the new head, node 4, all the way up to the first frame (to the first call to reverseUsingRecursion)
     *      2.4 At each return, we restore the frame for the previous node (e.g., point node3 to node2, after pointing node4 to node3, etc...)
     */    
    node.next.next = node;
    node.next = null;

    return new_head;
}
</code></pre></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Your code doesn&#39;t allocate any objects, nevertheless it has O(n) space complexity. Whenever you call your method, the implementation will set up a call stack frame. At the least, this includes the return address, but in this case you will also need stack space for the parameters and any local variables. Even if a variable points only to null or to existing objects, we need some space to hold the pointer itself.</p><p>This is completely language independent, and it is not possible to recurse without using a bit of memory to remember where you should continue once you&#39;re finished (the one exception is a “tail call”, which is not present in your example, and which Java does not currently optimize away).</p><p>Let&#39;s look at this simplified example:</p><pre><code>void countUpTo(int n) {
   if (n &gt; 0)
       countUpTo(n - 1);
   System.out.println(n);
}
</code></pre><p>Obviously there are no allocations. Nevertheless, we are dealing with O(n) space complexity. Let&#39;s execute <code>countUpTo(5)</code>:</p><p></p><ul><li><code>countUpTo(5)</code><ul><li><code>countUpTo(4)</code><ul><li><code>countUpTo(3)</code><ul><li><code>countUpTo(2)</code><ul><li><code>countUpTo(1)</code><ul><li><code>countUpTo(0)</code><ul><li><code>println(0)</code></li></ul></li><li><code>println(1)</code></li></ul></li><li><code>println(2)</code></li></ul></li><li><code>println(3)</code></li></ul></li><li><code>println(4)</code></li></ul></li><li><code>println(5)</code></li></ul></li></ul> Each level needs to remember to which outer level it must return. So when we are at <code>countUpTo(3)</code>, we have to remember the following three levels:<p></p><ul><li><code>main</code></li><li><code>countUpTo(5)</code></li><li><code>countUpTo(4)</code></li></ul><p>Therefore, after <code>println(3)</code>, we return to the <code>countUpTo(4)</code> context, which executes <code>println(4)</code> and then continues with the <code>countUpTo(5)</code> context.</p><p>When we are at <code>countUpTo(0)</code>, we have to remember the following five levels:</p><ul><li><code>main</code></li><li><code>countUpTo(5)</code></li><li><code>countUpTo(4)</code></li><li><code>countUpTo(3)</code></li><li><code>countUpTo(2)</code></li><li><code>countUpTo(1)</code></li></ul><p>And remembering this stack needs space.</p><p>So when a function has a recursion depth of <em>n</em>, we can immediately say that it must <em>at least</em> have a space and time complexity of O(n).</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../does-the-headstart-pointer-of-doubly-linked-list-points-previously-to-the-taillast-node/'>Does the Head(start) pointer of Doubly Linked list points previously to the tail(last) node</a></li><li class="list-group-item"><a href='../java-thoughts-on-a-custom-data-structure-for-a-node-chain-implementation/'>Java &#8211; Thoughts on a custom data structure for a node/chain implementation</a></li><li class="list-group-item"><a href='../c-linked-list-implementation-pointer-vs-pointer-to-pointer-consistency/'>C Linked List Implementation Pointer vs. Pointer-to-Pointer Consistency</a></li><li class="list-group-item"><a href='../java-ny-practical-way-for-a-linked-node-structure-to-be-immutable/'>Java &#8211; ny practical way for a linked node structure to be immutable</a></li><li class="list-group-item"><a href='../java-designing-an-efficient-implementation-of-a-random-access-queue-based-on-a-linkedlist/'>Java &#8211; Designing an efficient implementation of a random access queue based on a linkedlist</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>