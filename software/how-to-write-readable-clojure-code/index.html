<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How to write readable Clojure Code &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074730 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074730" class="post-1074730 software type-software status-publish hentry category-software tag-clojure tag-readability"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How to write readable Clojure Code</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">clojure</span><span class="mr-2 badge badge-info">readability</span></p><div class="entry-content"><p>I am new to Clojure. I can understand the code I write but it becomes too difficult to understand it later.It becomes difficult to match parentheses.</p><p>What are the generic conventions to follow regarding naming conventions andindentation in various situations?</p><p>For example I wrote a sample de-structuring example to understand but it looks completely unreadable the second time.</p><pre><code>(defn f [{x :x y :y z :z [a b c] :coll}] (print x &#34; &#34; y  &#34; &#34; z &#34; &#34; a &#34; &#34; b &#34; &#34; c)) 
</code></pre><p>In case of de-structuring,  is it better to do it directly at the parameter level or start a let form and then continue there?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><h2>Naming conventions</h2><ul><li>stay lowercase for functions</li><li><p>use <code>-</code> for hyphenation (what would be underscore or camel case in other languages).</p><p><code>(defn add-one 
 [i]
 (inc i))</code></p></li><li><p>Predicates (i.e. functions returning true or false) end with <code>?</code> Examples: <code>odd?</code> <code>even?</code> <code>nil?</code> <code>empty?</code></p></li><li><p>State changing procedures end in <code>!</code>. You remember <code>set!</code> right? or <code>swap!</code></p></li><li><p>Choose short variable name lengths depending on their reach. That means if you have a really small auxiliary variable you can often just use a one-letter name. <code>(map (fn [[k v]] (inc v)) {:test 4 :blub 5})</code> choose longer variable names as needed, especially if they are used for lots of code lines and you cannot immediately guess their purpose. (my opinion).</p><p><em>I feel that a lot of clojure programmers tend to rather use generic and short names. But this is of course not really an objective observation. The point is that a lot of clojure functions are actually quite generic.</em></p><ul><li>Use meaningful names.Procedures are doing something, therefor you can best describe them by using verbs. Clojure built-in functions should put you on the right track: <code>drop</code>, <code>take</code>, <code>assoc</code>, etc. Then there is a nice article describing ways to choose a meaningful name: <a href="http://ecmendenhall.github.io/blog/blog/2013/09/02/clean-clojure-meaningful-names/">http://ecmendenhall.github.io/blog/blog/2013/09/02/clean-clojure-meaningful-names/</a></li></ul></li></ul><h3>Lambda functions</h3><ul><li><p>You can actually name lambda functions. This is convenient for debugging and profiling (my experience here is with ClojureScript).</p><p><code>(fn square-em [[k v]] {k (* v v)})</code></p></li><li><p>Use inline lambda functions <code>#()</code> as convenient</p></li></ul><h2>Whitespace</h2><ul><li><p>There should not be parens-only lines. I.e. close the parentheses right away.  Remember parens are there for editor and compiler, indentation is for you.</p></li><li><p>Function parameter lists go on a new line</p></li></ul><pre>   (defn cons
     [a b]
     (list a b))
</pre><p>This makes sense if you think about the doc strings. They are between the function name and parameters. The following doc string is probably not the wisest ;)</p><pre>   (defn cons
     &#34;Pairing up things&#34;
     [a b]
     (list a b))
</pre><ul><li>Paired data can be separated by a new line as long as you retain the pairing</li></ul><pre>  (defn f 
    [{x :x 
      y :y 
      z :z  
      [a b c] :coll}] 
    (print x &#34; &#34; y  &#34; &#34; z &#34; &#34; a &#34; &#34; b &#34; &#34; c)) 
</pre><p>(You can also enter <code>,</code> as you like but this feels unclojurish).</p><ul><li><p>For indentation use a sufficiently good editor. Years ago this was emacs for lisp editing, vim is also great today. Typical clojure IDEs should also provide this functionality. Just do not use a random text editor.</p><p>In vim in command mode you can use the <code>=</code> command to properly indent.</p></li><li><p>If command get too long (nested, etc.) you can insert a newline after the first argument. Now the  following code is pretty senseless but it illustrates how you can group and indent expressions:</p></li></ul><pre>(+ (if-let [age (:personal-age coll)]
     (if (&gt; age 18)
       age
       0))
   (count (range (- 3 b)
                 (reduce + 
                         (range b 10)))))
</pre><p>Good indentation means that you do not have to count brackets. The brackets are for the computer (to interpret the source code and to indent it). Indentation is for your easy understanding.</p><h2>Higher order functions vs. <code>for</code> and <code>doseq</code> forms</h2><p>Coming from a Scheme background I was rather proud to have understood <code>map</code> and lambda functions, etc. So quite often, I would write something like this</p><p><code> (map (fn [[k x]] (+ x (k data))) {:a 10 :b 20 :c 30})</code></p><p>This is quite hard to read. The <code>for</code> form is way nicer:</p><pre><code>(for [[k x] {:a 10 :b 20 :c30}]
  (+ x (k data)))
</code></pre><p>`map has a lot of uses and is really nice if you are using named functions. I.e.</p><pre><code>(map inc [12 30 10]

(map count [[10 20 23] [1 2 3 4 5] (range 5)])
</code></pre><h2>Use Threading macros</h2><p>Use the threading macros <code>-&gt;</code> and <code>-&gt;&gt;</code> as well as <code>doto</code> when applicable.</p><p>The point is that threading macros make the source code appear more linear than function composition. The following piece of code is pretty unreadable without the threading macro:</p><pre><code>   (f (g (h 3) 10) [10 3 2 3])
</code></pre><p>compare with</p><pre><code>   (-&gt; 
     (h 3)
     (g 10)
     (f [10 3 2 3]))
</code></pre><p>By using the threading macro, one can typically avoid introducing temporary variables that are only used once.</p><h2>Other Things</h2><ul><li>Use docstrings</li><li>keep functions short</li><li>read other clojure code</li></ul></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../java-how-independent-is-clojure-from-java/'>Java &#8211; How independent is Clojure from Java</a></li><li class="list-group-item"><a href='../clojure-vars-atoms-and-refs-oh-the/'>Clojure: vars, atoms, and refs (oh the)</a></li><li class="list-group-item"><a href='../understanding-clojure-keywords/'>Understanding clojure keywords</a></li><li class="list-group-item"><a href='../why-cant-we-write-nested-shorthand-functions-in-clojure/'>Why can&#8217;t we write nested shorthand functions in Clojure</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>