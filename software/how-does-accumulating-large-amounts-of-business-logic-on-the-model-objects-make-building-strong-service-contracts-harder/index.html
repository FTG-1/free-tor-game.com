<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>How does accumulating large amounts of business logic on the model objects make building strong service contracts harder &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1086294 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1086294" class="post-1086294 software type-software status-publish hentry category-software tag-encapsulation tag-model tag-modeling tag-orm"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">How does accumulating large amounts of business logic on the model objects make building strong service contracts harder</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">encapsulation</span><span class="mr-2 badge badge-info">model</span><span class="mr-2 badge badge-warning">modeling</span><span class="mr-2 badge badge-primary">orm</span></p><div class="entry-content"><p>I heard a couple of times that putting business logic in database models is bad down the road.</p><p>I just <a href="https://journal.paul.querna.org/articles/2011/12/18/the-switch-python-to-node-js/" rel="nofollow">read this</a> in blog of a Rackspace employee:<br /> <em>The Django ORM also tended to have us accumulate large amounts of business logic on the model objects, which made building strong service contracts even harder.</em></p><p>But it seems logical to me that if you have an <code>Invoice</code> model to encapsulate a lot of invoicing logic there. Seems very similar to what we&#39;ve been taught in OOP. Could you show me how this is wrong? Please include a practical example if possible.</p><p><strong>Benefit of &#34;put logic in models&#34;</strong></p><p>What I see as a big benefit of putting logic in models is that users of the models don&#39;t have to worry about how they can use stuff, they just use it and it works, can&#39;t break anything.</p><p>Let me elaborate with an example:<br /> So if you don&#39;t put logic in models, then you probably have this code elsewhere, let&#39;s say it&#39;s in <code>api</code>. If you want to change a state of an <code>Invoice</code>, what do you do? Do you do <code>invoice.state = new_state</code> or do you read the <code>api</code> code to see if there&#39;s some method there that changes the state?</p><p>This is confusing and error prone. How do you fix this issue then?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>Wrong is a big word. <br/> The reason why you shouldn&#39;t put it in the DB, is because the vocabulary of (most) DB systems is incredibly limited. There is nothing about &#34;SELECT&#34;, &#34;INSERT&#34;, &#34;UPDATE&#34;, &#34;DELETE&#34; that allows you to fluently express why something is happening and to what it is a reaction, <em>in domain language terms</em>. <br/><br/> As to the second part of your question: the problem with ORMs is that they usually force you to organize your domain objects in ways contrary to what you want. <br/> A simple and common example is that you generally want to encapsulate a lot of stuff inside domain classes, but ORMs need access to the fields and properties of classes to be able to persist them, so you wind up exposing everything, potentially breaking encapsulation. <br/></p><p>What I generally tend to find a good idea is to separate your ORM model from your domain model and create a way to inflate domain model objects from ORM model objects.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../thick-models-vs-business-logic-where-do-you-draw-the-distinction/'>Thick models Vs. Business Logic, Where do you draw the distinction</a></li><li class="list-group-item"><a href='../database-how-should-i-architect-the-model-and-data-access-layer-objects-in-the-website/'>Database &#8211; How should I architect the Model and Data Access layer objects in the website</a></li><li class="list-group-item"><a href='../how-to-handle-domain-logic-that-spans-multiple-model-objects-in-an-orm/'>How to handle domain logic that spans multiple model objects in an ORM</a></li><li class="list-group-item"><a href='../crud-without-an-orm/'>CRUD without an ORM</a></li><li class="list-group-item"><a href='../object-oriented-business-logic-outside-shared-orm-models/'>Object-oriented &#8211; Business logic outside shared ORM models</a></li><li class="list-group-item"><a href='../c-when-is-primitive-obsession-not-a-code-smell/'>C# &#8211; When is primitive obsession not a code smell</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>