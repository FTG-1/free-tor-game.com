<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Database &#8211; Who communicates with the database in MVC/MVP &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074895 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074895" class="post-1074895 software type-software status-publish hentry category-software tag-architecture tag-database tag-design tag-mvc tag-mvp"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Database &#8211; Who communicates with the database in MVC/MVP</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">database</span><span class="mr-2 badge badge-warning">design</span><span class="mr-2 badge badge-primary">mvc</span><span class="mr-2 badge badge-danger">mvp</span></p><div class="entry-content"><p>I am building a small application and want to save my business objects to a database.</p><p>I have my business objects and a model that acts as a container for my business objects and provides methods for creating and deleting them. Updating the business objects is done by directly altering the objects attributes. I also have a user interface and a presenter for user interaction and a database communicator that knows how to insert/delete/update my business objects into the database.</p><p>I want to constantly update my database if a business object is <strong>created</strong>, <strong>deleted</strong> or <strong>altered</strong>.</p><p>The easiest way would be to give my model a reference to the database communicator and call the insert/delete methods, when a business object is created/deleted in the model and call the update method from my presenter, when the user alters the business objects attributes via the user interface.</p><p>Is that an acceptable way of handling a database in a MVP/MVC scenario, or is there usually a tighter coupling between the database and the model layer? If so, is there a best practice to let my model know that one of the business objects has changed, or do i just use whatever the language im using offers me?</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I&#39;ve seen it done two ways.</p><p>The first way is to do everything using CRUD methods.  That&#39;s essentially the way you are describing: Create, Read, Update and Delete.  Most Object-Relational Mappers (ORM&#39;s) support these four operations.</p><p>The second way to do it is to provide a Service Layer.  The Service Layer exposes methods that embody business operations. In turn, it translates those business operations into the appropriate CRUD methods.</p><hr/><p>At this point, it might be useful to discuss architecture a bit.</p><p>First, note that MVC and MVP are <em>primarily about UI.</em> That is, they don&#39;t particularly care about what happens in the business domain.  While UI can, and often does, reflect the nature of the business domain in the data that it displays and the interactions that it makes with the user, the heavy lifting is done in the <strong>M</strong>odel portion of MVC or MVP.</p><p>In a web page, MVC typically looks like this:</p><pre><code>Model &lt;--&gt; Controller &lt;--&gt; View
</code></pre><p>The Model is the &#34;everything else&#34; part of these patterns, the part that doesn&#39;t concern itself with UI or routing or any of those mechanics.  You may have heard the phrase &#34;thin controller, fat model.&#34;  That means that business logic doesn&#39;t go into the controller.  In turn, the View doesn&#39;t concern itself with data, for the most part.  It&#39;s just a surface; the task of filling it with data typically falls on a ViewModel object, which is typically assembled in the Controller with data derived from the Model.</p><pre><code>Model &lt;--&gt; Controller &lt;--&gt; ViewModel &lt;--&gt; View
</code></pre><p>The View displays data and accepts typed-in data from the user.  It might have some interactive and validation capabilities, but even validation is not wholly performed in the client (because data from a client can&#39;t be trusted).  Validation is relegated to the server, where the Controller (who acts mostly as a switchyard) typically delegates such validation to the Model.</p><p>In other words, most of the application logic that actually does anything useful is pushed as far back as it can be towards the Model.</p><hr/><p>It is for all of these reasons that MV* applications typically have some sort of  Service Layer, even if it&#39;s just an internal one.</p><pre><code>Database &lt;--&gt; ORM &lt;--&gt; Service Layer &lt;--&gt; Controller &lt;--&gt; View Model &lt;--&gt; View
|-------------- Model -------------|
</code></pre><p>The Service Layer relieves the Controller from having to think about Business Logic, and allows your Database Communicator (i.e. your ORM) to only have to think about CRUD.</p><p><strong>Further Reading</strong><br/> <a href="http://martinfowler.com/eaaCatalog/serviceLayer.html">P of EAA: Service Layer</a><br/> <a href="http://martinfowler.com/eaaDev/uiArchs.html">Fowler on UI Architectures</a></p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../architecture-in-the-mvp-pattern-the-presenter-must-control-the-call-flow-of-model-methods/'>Architecture &#8211; In the MVP pattern, the Presenter must control the call flow of Model methods</a></li><li class="list-group-item"><a href='../design-mvp-supervising-controller-does-the-view-update-the-model/'>Design &#8211; MVP (Supervising Controller) Does the view update the model</a></li><li class="list-group-item"><a href='../architecture-the-correct-way-for-one-presenter-to-communicate-to-another-presenter-or-view-with-the-mvp-pattern-on-android/'>Architecture &#8211;  the correct way for one presenter to communicate to another presenter or view with the MVP pattern on Android</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>