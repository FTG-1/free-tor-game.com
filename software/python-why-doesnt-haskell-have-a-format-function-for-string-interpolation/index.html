<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="../../wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Python &#8211; Why doesn&#8217;t Haskell have a &#8216;format&#8217; function for string interpolation &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min40df.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.mina352.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='../../../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min40df.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.minb8ff.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.minc9a3.js?ver=11.2.0' id='highlight-js'></script>            <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1074200 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="../../3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="../../contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1074200" class="post-1074200 software type-software status-publish hentry category-software tag-design tag-haskell tag-make tag-python tag-strings"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Python &#8211; Why doesn&#8217;t Haskell have a &#8216;format&#8217; function for string interpolation</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">design</span><span class="mr-2 badge badge-info">haskell</span><span class="mr-2 badge badge-warning">make</span><span class="mr-2 badge badge-primary">python</span><span class="mr-2 badge badge-danger">strings</span></p><div class="entry-content"><p>I&#39;m trying to use <a href="http://hackage.haskell.org/package/shake-0.11" rel="nofollow">Shake</a> and I stumbled upon the following problem: there&#39;s no easy and convenient way to interpolate a string. I know about <code>Text.Printf</code> â€” it&#39;s not what I&#39;m looking for. The interpolation syntax I&#39;m talking about is like this:</p><p>(Make)</p><pre><code>HEADERS_DIR := /some/path/to/dir

CFLAGS := &#34;-g -I$(HEADERS_DIR) -O2&#34;
</code></pre><p>(Python)</p><pre><code>headers_dir = &#34;/some/path/to/dir&#34;

cflags = &#34;-g -I{headers_dir} -O2&#34;.format(**locals())
</code></pre><p>And now compare this to possible Haskell&#39;s solution. Firstly:</p><pre><code>$ cabal install interpolatedstring-perl6
$ ghci -XExtendedDefaultRules -XQuasiQuotes
</code></pre><p>And then:</p><pre><code>&gt; import Text.InterpolatedString.Perl6 (qq)
&gt; let headers_dir = &#34;/path/to/some/dir&#34;
&gt; [qq| -g -I$headers_dir -O2 |] :: String
</code></pre><p>While I think Make goes maybe a step too far in its eagerness to interpolate even when not asked, I wonder why Haskell doesn&#39;t have a <code>format</code> function like Python does. It could parse the supplied string and pull the value with same name as referenced in pattern:</p><pre><code>let headers_dir = &#34;/path/to/some/dir&#34;
format &#34;-g -I$headers_dir -O2&#34;
</code></pre><p>Is there a specific reason why it&#39;s not implemented, or everyone is just happy with <code>Text.Printf</code>&#39;s verbosity and/or lengthy setup of interpolation libraries?</p><p><strong>Update</strong>: A lot of people misinterpret the question as asking about general string formatting, with possibility of precision specification in case of integers, etc. The examples provided demonstrate one specific case of interpolation, which is just &#34;substitute the result of <code>show a</code> at the place of name&#34;. It does allow for simpler syntax, and it does not use a variadic function per se.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I suspect it&#39;s done as quasiquoting because this will interpolate the string at compile time, and due to the pure nature of functions in Haskell this is possible while other languages lack such ability because of their impure nature.</p><p>Think about it, other languages have to do it during runtime each time which is going to be much slower than the compile time once and done quasi-quoted interpolation.</p><p>If you want to do it at runtime explicitly then you should be able to do some simple abstractions that take advantage of Haskell&#39;s strings being lists, or you could create a different data structure that&#39;s similar pretty easily - but I would go for the more efficient quasi-quoted approach if I were doing this in any code I actually cared about.</p><p>That said, I found on Hackage the Data.Text.Format package which appears to do C# style substitution pretty straight forward, here&#39;s an answer showing an example on SO: <a href="https://stackoverflow.com/questions/2468332/string-formatting-in-haskell/7147938#7147938">String formatting in Haskell</a> - though as noted by Bryan O&#39;Sullivan and others on that question that answer usess an out-dated package and there&#39;s a newer one Bryan has created (my guess the Data.Text.Format package is his new one that should be used) so the usage may be slightly different from in that SO example, though appears fairly similar.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='../python-coming-up-with-tokens-for-a-lexer/'>Python &#8211; Coming up with tokens for a lexer</a></li><li class="list-group-item"><a href='../why-doesnt-haskell-have-type-level-lambda-abstractions/'>Why doesn&#8217;t Haskell have type-level lambda abstractions</a></li><li class="list-group-item"><a href='../does-haskell-have-dependent-types/'>Does haskell have dependent types</a></li><li class="list-group-item"><a href='../why-does-haskell-have-built-in-if-then-else-instead-of-defining-it-as-a-simple-library-function/'>Why does Haskell have built-in &#8220;if/then/else&#8221; instead of defining it as a simple library function</a></li><li class="list-group-item"><a href='../why-doesnt-ruby-have-implicit-conversion-of-fixnum-into-string/'>Why doesn&#8217;t Ruby have implicit conversion of Fixnum into String</a></li><li class="list-group-item"><a href='../python-why-doesnt-python-have-a-flatten-function-for-lists/'>Python &#8211; Why doesn&#8217;t Python have a &#8220;flatten&#8221; function for lists</a></li><li class="list-group-item"><a href='../why-doesnt-swift-allow-int-string-subscripting-and-integer-ranges-directly/'>Why doesn&#8217;t Swift allow Int String subscripting and integer ranges directly</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='../../../cdn.jsdelivr.net/npm/mathjax%403/es5/tex-chtml40df.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min43d3.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='../../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min5b31.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="../../wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>