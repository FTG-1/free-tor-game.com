<!doctype html><html lang="en-US"><!--  --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- / -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">  <link media="all" href="https://free-tor-game.com/wp-content/cache/autoptimize/4/css/autoptimize_dc56928889f08ceb40a4520f8ece953b.css" rel="stylesheet" /><title>Git &#8211; How to split development / staging / production versions of an application &#8211; free-tor-game.com</title> <script>MathJax = {
  tex: {
    inlineMath: [['$','$'],['\\(','\\)']], 
    processEscapes: true
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore|editor-rich-text'
  }
};</script> <link rel='dns-prefetch' href='http://cdn.jsdelivr.net/' /><link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' /><link rel='dns-prefetch' href='http://stackpath.bootstrapcdn.com/' /><link rel='dns-prefetch' href='http://s.w.org/' /><link rel='stylesheet' id='highlight-css'  href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/vs2015.min.css?ver=5.6' type='text/css' media='all' /><link rel='stylesheet' id='bootstrap-css'  href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css?ver=4.1.3' type='text/css' media='all' /><link rel='stylesheet' id='icons-css'  href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css?ver=5.6' type='text/css' media='all' /> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4' id='jquery-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js?ver=11.2.0' id='highlight-js'></script>     <script>( function( w, d, s, l, i ) {
				w[l] = w[l] || [];
				w[l].push( {'gtm.start': new Date().getTime(), event: 'gtm.js'} );
				var f = d.getElementsByTagName( s )[0],
					j = d.createElement( s ), dl = l != 'dataLayer' ? '&l=' + l : '';
				j.async = true;
				j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore( j, f );
			} )( window, document, 'script', 'dataLayer', ' ' );</script>      <script>hljs.highlightAll();</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1731162805004860" crossorigin="anonymous"></script></head><body class="software-template-default single single-software postid-1080445 no-sidebar"><div id="page" class="site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="topnav" class="sticky-top"><nav class="navbar navbar-expand-md navbar-light bg-light" role="navigation"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="#">free-tor-game.com</a><div id="navbar-primary" class="collapse navbar-collapse"><ul id="menu-primary-top-menu" class="nav navbar-nav"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children dropdown menu-item-192 nav-item"><a title="Tools" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle nav-link" id="menu-item-dropdown-192">Tools</a><ul class="dropdown-menu" aria-labelledby="menu-item-dropdown-192" role="menu"><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-193" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-193 nav-item"><a title="ARFCN-Frequency Converter" href="https://free-tor-game.com/3gpp-arfcn-frequency-converter/" class="dropdown-item">ARFCN-Frequency Converter</a></li></ul></li><li itemscope="itemscope" itemtype="https://www.schema.org/SiteNavigationElement" id="menu-item-2301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2301 nav-item"><a title="Contact Us" href="https://free-tor-game.com/contact/" class="nav-link">Contact Us</a></li></ul></div></nav></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><div id="main-container" class="container"><div id="main-row" class="row"><div id="main-col" class="col-12"><article id="post-1080445" class="post-1080445 software type-software status-publish hentry category-software tag-architecture tag-development-process tag-git tag-release-management tag-teamwork"><div class="row"><div class="col-12 col-md-8"><header class="entry-header"><h1 class="entry-title text-danger">Git &#8211; How to split development / staging / production versions of an application</h1></header><p style='font-size:1.2em'><span class="mr-2 badge badge-success">Architecture</span><span class="mr-2 badge badge-info">development-process</span><span class="mr-2 badge badge-warning">git</span><span class="mr-2 badge badge-primary">release-management</span><span class="mr-2 badge badge-danger">teamwork</span></p><div class="entry-content"><p>I&#39;m facing a situation that does not seem to have a clear solution to it, which leads me to believe I&#39;m actually doing something wrong. Here I am seeking advice once again.</p><p>To rapidly let you understand my issue, I&#39;m having trouble releasing apps / developing apps, in terms of separating the production code with the development code. Now let me explain in detail.</p><p>First, here are the two things that I&#39;ve done in the past :</p><p>Develop on a single branch (git), say &#34;dev&#34;, and when we need to release, simply manually change everything to &#34;production&#34; state, build-archive-release, and we&#39;re good.</p><p>For obvious reasons this is completely unmaintainable and requires so much work even when releasing simple apps.</p><p>Develop on a &#34;dev&#34; branch, and once we&#39;re happy with it, we merge on a &#34;beta&#34; and then a &#34;production&#34; branch, and ship whatever branch needs to be shipped.</p><p>This is better, but the relentless merging feels just as error prone as the &#34;one branch to rule them all&#34; insanity. And on top of it, I feel pretty unaware of what exactly the merge will do to my files, when it comes to specific config files. For example, merging dev into beta, which of the API Keys is it gonna choose in the merge? The dev or beta key? Same about some credentials or backend url. It really feels more clean when you look at it from the outside, but in the end, I still end up checking up all my files one by one. And I&#39;ve had bad changes happen, I&#39;m not just paranoid, sadly.</p><p>So, I&#39;d say better, but just as maintainable.</p><p>Some have advised using <code>#IF DEBUG</code> but I&#39;m straight up against it, as you end up cluttering the code and having bits and pieces of two different environnements spread into the code. In the end you&#39;re not even testing the real product, so that can&#39;t work.</p><p>And now here I am, not knowing what others do and how to they overcome that obstacle. I am all ears.</p><p>Note : I&#39;ve read a bit about build servers but I&#39;m not sure I truly understand them, and from my inexperienced point of view, I just see them as moving the problem on a remote machine, which does not change much.</p></div>     <div id="comments" class="comments-area"><div class="row"><div class="col-12"><div class="mt-3 border-bottom border-success"><h4 class="text-success"><i class='fa fa-check-circle text-success mr-3'></i><span>Best Answer</span></h4></div><div class='bg-transparent mb-3'><p>I would strongly advise against different branches for separating seemingly hard coded development configurations from production configurations. Using SCM for this task will lead to increasingly different code bases.</p><p>A great way to make build differences explicit is by creating one sub-project per build target. In these projects you can for example extend a generic launcher from the main code or provide environment specific parameters. Even if you use configuration files a project for each build target is often a good place to put configuration files into.</p><p>A project layout might look this way:</p><ul><li>application (root-project)<ul><li>application-main</li><li>application-distribution-prod (uses application-main)</li><li>application-distribution-dev (uses application-main)</li></ul></li></ul><p>When your application is big and has different modules, you can create different module assemblies just by creating different distribution sub-projects.</p><p>When you have complex differences between production and development environments I would recommend to pull all variable aspects into interfaces. Then you implement those interfaces in two different projects. Switching between environments becomes a matter of dependency management.</p><p>An extended example:</p><ul><li>application (root-project)<ul><li>application-main</li><li>application-login-mock (implements login api from application-main)</li><li>application-login-google (implements login api from application-main)</li><li>application-distribution-prod (uses application-main &amp; application-login-google)</li><li>application-distribution-dev (uses application-main &amp; application-login-mock)</li></ul></li></ul><p>For this technique you will need some kind of dependency injection or service provider.</p></div></div><div class="col-4"></div></div></div></div><div class="col-12 col-md-4"> <ins class="adsbygoogle"
 style="display:block"
 data-ad-client="ca-pub-1731162805004860"
 data-ad-slot="1340983829"
 data-ad-format="auto"
 data-full-width-responsive="true"></ins>   <div class='mt-3 ml-4 border-bottom border-success'><h6><span>Related Question</span></h6></div><ul class='list-group list-group-flush'><li class="list-group-item"><a href='https://free-tor-game.com/software/git-whats-the-best-way-to-undo-a-git-merge-that-wipes-files-out-of-the-repo/'>Git &#8211; What&#8217;s the best way to undo a Git merge that wipes files out of the repo</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/how-to-get-complete-manual-testing-by-qa-in-a-git-hg-flow-development-process/'>How to get complete manual testing by QA in a git/hg flow development process</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/git-branch-model-critique-always-derive-from-master/'>Git branch model critique: always derive from master</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/agile-how-to-we-only-include-ready-to-be-released-features-in-our-production-releases-every-other-week/'>Agile &#8211; How to we only include ready-to-be-released features in our production releases every other week</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/git-the-trend-of-the-develop-branch-going-away/'>Git &#8211; The trend of the &#8220;develop&#8221; branch going away</a></li><li class="list-group-item"><a href='https://free-tor-game.com/software/git-release-strategy-for-multiple-git-feature-branches-being-tested-simultaneously/'>Git &#8211; Release strategy for multiple Git feature branches being tested simultaneously</a></li></ul></div></div><footer class="entry-footer"></footer></article></div></div></div></main></div></div><footer id="colophon" class="site-footer"><div class="site-info"></div></footer></div>    <script type='text/javascript' src='http://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.6' id='mathjax-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/esm/popper.min.js?ver=1.14.7' id='popper-js'></script> <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js?ver=4.3.1' id='bootstrap4-js'></script> <script type='text/javascript' id='itectec-common-js-extra'>var globalObject = {"homeUrl":"https:\/\/free-tor-game.com\/"};</script> <script defer src="https://free-tor-game.com/wp-content/cache/autoptimize/4/js/autoptimize_63b39f43631847816e6b0e70ea726624.js"></script></body></html>